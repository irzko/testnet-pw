LavaPack.loadBundle([[5646,{"../../../../shared/constants/metametrics":4673,"../../../components/component-library":5158,"../../../components/ui/box":5271,"../../../components/ui/button":5275,"../../../components/ui/check-box":5281,"../../../components/ui/mascot":5343,"../../../contexts/metametrics":5413,"../../../helpers/constants/design-system":5435,"../../../helpers/constants/onboarding":5439,"../../../helpers/constants/routes":5440,"../../../hooks/useI18nContext":5500,"../../../selectors":5856,"../../../store/actions":5864,events:3237,react:4378,"react-redux":4343,"react-responsive-carousel":4358,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,m.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),[v]=(0,s.useState)(new a.default),w=(0,r.useSelector)(E.getCurrentKeyring),T=(0,r.useSelector)(E.getFirstTimeFlowType),[k,S]=(0,s.useState)(!1);(0,s.useEffect)((()=>{w&&(T===b.FIRST_TIME_FLOW_TYPES.IMPORT?n.replace(y.ONBOARDING_COMPLETION_ROUTE):n.replace(y.ONBOARDING_SECURE_YOUR_WALLET_ROUTE))}),[w,n,T]);const N=(0,s.useContext)(g.MetaMetricsContext),x=e("agreeTermsOfUse",[s.default.createElement("a",{className:"create-new-vault__terms-link",key:"create-new-vault__link-text",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer"},e("terms"))]);return s.default.createElement("div",{className:"onboarding-welcome","data-testid":"onboarding-welcome"},s.default.createElement(i.Carousel,{showThumbs:!1,showStatus:!1,showArrows:!0},s.default.createElement("div",null,s.default.createElement(u.Text,{variant:f.TextVariant.headingLg,as:"h2",textAlign:f.TextAlign.Center,fontWeight:f.FontWeight.Bold},e("welcomeToMetaMask")),s.default.createElement(u.Text,{textAlign:f.TextAlign.Center,marginLeft:6,marginRight:6},e("welcomeToMetaMaskIntro")),s.default.createElement("div",{className:"onboarding-welcome__mascot"},s.default.createElement(l.default,{animationEventEmitter:v,width:"250",height:"250"}))),s.default.createElement("div",null,s.default.createElement(u.Text,{variant:f.TextVariant.headingLg,as:"h2",textAlign:f.TextAlign.Center,fontWeight:f.FontWeight.Bold},e("welcomeExploreTitle")),s.default.createElement(u.Text,{textAlign:f.TextAlign.Center},e("welcomeExploreDescription")),s.default.createElement("div",{className:"onboarding-welcome__image"},s.default.createElement("img",{src:"/images/onboarding-welcome-say-hello.svg",width:"169",height:"237",alt:""}))),s.default.createElement("div",null,s.default.createElement(u.Text,{variant:f.TextVariant.headingLg,as:"h2",textAlign:f.TextAlign.Center,fontWeight:f.FontWeight.Bold},e("welcomeLoginTitle")),s.default.createElement(u.Text,{textAlign:f.TextAlign.Center},e("welcomeLoginDescription")),s.default.createElement("div",{className:"onboarding-welcome__image"},s.default.createElement("img",{src:"/images/onboarding-welcome-decentralised-apps.svg",width:"327",height:"256",alt:""})))),s.default.createElement("ul",{className:"onboarding-welcome__buttons"},s.default.createElement("li",null,s.default.createElement(p.default,{alignItems:f.AlignItems.center,className:"onboarding__terms-of-use"},s.default.createElement(d.default,{id:"onboarding__terms-checkbox",className:"onboarding__terms-checkbox",dataTestId:"onboarding-terms-checkbox",checked:k,onClick:()=>{S((e=>!e))}}),s.default.createElement("label",{className:"onboarding__terms-label",htmlFor:"onboarding__terms-checkbox"},s.default.createElement(u.Text,{variant:f.TextVariant.bodyMd,marginLeft:2,as:"span"},x)))),s.default.createElement("li",null,s.default.createElement(c.default,{"data-testid":"onboarding-create-wallet",type:"primary",onClick:async()=>{t((0,_.setFirstTimeFlowType)("create")),N({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.OnboardingWalletCreationStarted,properties:{account_type:"metamask"}}),t((0,_.setTermsOfUseLastAgreed)((new Date).getTime())),n.push(y.ONBOARDING_METAMETRICS)},disabled:!k},e("onboardingCreateWallet"))),s.default.createElement("li",null,s.default.createElement(c.default,{"data-testid":"onboarding-import-wallet",type:"secondary",onClick:async()=>{t((0,_.setFirstTimeFlowType)("import")),N({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.OnboardingWalletImportStarted,properties:{account_type:"imported"}}),t((0,_.setTermsOfUseLastAgreed)((new Date).getTime())),n.push(y.ONBOARDING_METAMETRICS)},disabled:!k},e("onboardingImportWallet")))))};var a=w(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=e("react-responsive-carousel"),l=w(e("../../../components/ui/mascot")),c=w(e("../../../components/ui/button")),u=e("../../../components/component-library"),d=w(e("../../../components/ui/check-box")),p=w(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),m=e("../../../hooks/useI18nContext"),g=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),_=e("../../../store/actions"),y=e("../../../helpers/constants/routes"),b=e("../../../helpers/constants/onboarding"),E=e("../../../selectors");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.js"}],[5647,{"../../../components/app/permissions-connect-footer":4941,"../../../components/app/permissions-connect-header":4943,"../../../components/ui/account-list":5265,"../../../components/ui/page-container":5356,"../../../hooks/useI18nContext":5500,"@metamask/permission-controller":1640,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/permission-controller"),o=e("../../../hooks/useI18nContext"),i=p(e("../../../components/app/permissions-connect-header")),l=p(e("../../../components/app/permissions-connect-footer")),c=p(e("../../../components/ui/account-list")),u=e("../../../components/ui/page-container");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=({selectedAccountAddresses:e,addressLastConnectedMap:t={},accounts:n,selectAccounts:a,selectNewAccountViaModal:d,cancelPermissionsRequest:p,permissionsRequestId:f,targetSubjectMetadata:m,nativeCurrency:g})=>{const[h,_]=(0,s.useState)(e),y=(0,o.useI18nContext)(),b=0===n.length?y("connectAccountOrCreate"):(null==m?void 0:m.subjectType)===r.SubjectType.Snap?y("selectAccountsForSnap"):y("selectAccounts");return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"permissions-connect-choose-account__content"},s.default.createElement(i.default,{iconUrl:null==m?void 0:m.iconUrl,iconName:null==m?void 0:m.name,headerTitle:y("connectWithMetaMask"),headerText:b,siteOrigin:null==m?void 0:m.origin,subjectType:null==m?void 0:m.subjectType}),s.default.createElement(c.default,{accounts:n,selectNewAccountViaModal:d,addressLastConnectedMap:t,nativeCurrency:g,selectedAccounts:h,allAreSelected:()=>n.length===h.size,deselectAll:()=>{_(new Set)},selectAll:()=>{const e=new Set(n.map((e=>e.address)));_(e)},handleAccountClick:e=>{const t=new Set(h);t.has(e)?t.delete(e):t.add(e),_(t)}})),s.default.createElement("div",{className:"permissions-connect-choose-account__footer-container"},(null==m?void 0:m.subjectType)!==r.SubjectType.Snap&&s.default.createElement(l.default,null),s.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>p(f),cancelText:y("cancel"),onSubmit:()=>a(h),submitText:y("next"),disabled:0===h.size})))};f.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,addressLabel:a.default.string,lastConnectedDate:a.default.string,balance:a.default.string})).isRequired,selectAccounts:a.default.func.isRequired,selectNewAccountViaModal:a.default.func.isRequired,nativeCurrency:a.default.string.isRequired,addressLastConnectedMap:a.default.object,cancelPermissionsRequest:a.default.func.isRequired,permissionsRequestId:a.default.string.isRequired,selectedAccountAddresses:a.default.object.isRequired,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string})};n.default=f}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[5648,{"./choose-account":5647},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[5649,{"./permissions-connect.container":5651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./permissions-connect.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[5650,{"../../../app/scripts/lib/util":90,"../../../shared/constants/app":4665,"../../../shared/constants/time":4684,"../../components/app/permission-page-container":4936,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":4997,"../../components/component-library":5158,"../../helpers/constants/routes":5440,"./choose-account":5648,"./redirect":5652,"./snaps/snap-install":5654,"./snaps/snap-result":5656,"./snaps/snap-update":5658,"./snaps/snaps-connect":5660,"@metamask/permission-controller":1640,"eth-rpc-errors":3132,"prop-types":4123,react:4378,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=w(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),o=e("eth-rpc-errors"),i=e("@metamask/permission-controller"),l=e("../../../app/scripts/lib/util"),c=e("../../../shared/constants/app"),u=e("../../../shared/constants/time"),d=e("../../helpers/constants/routes"),p=w(e("../../components/app/permission-page-container")),f=e("../../components/component-library"),m=w(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),g=w(e("./choose-account")),h=w(e("./redirect")),_=w(e("./snaps/snaps-connect")),y=w(e("./snaps/snap-install")),b=w(e("./snaps/snap-update")),E=w(e("./snaps/snap-result"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=1200*u.MILLISECOND;class S extends s.Component{constructor(...e){super(...e),T(this,"state",{redirecting:!1,selectedAccountAddresses:new Set([this.props.currentAddress]),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),T(this,"beforeUnload",(()=>{const{permissionsRequestId:e,rejectPermissionsRequest:t}=this.props,{permissionsApproved:n}=this.state;null===n&&e&&t(e)})),T(this,"removeBeforeUnload",(()=>{(0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_NOTIFICATION&&window.removeEventListener("beforeunload",this.beforeUnload)})),T(this,"selectAccounts",(e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:a,snapInstallPath:s,snapUpdatePath:r,snapResultPath:o}=this.props;this.setState({selectedAccountAddresses:e},(()=>{switch(n){case"wallet_installSnap":this.props.history.push(s);break;case"wallet_updateSnap":this.props.history.push(r);break;case"wallet_installSnapResult":this.props.history.push(o);break;case"wallet_connectSnaps":this.props.history.replace(a);break;default:this.props.history.push(t)}}))})),T(this,"cancelPermissionsRequest",(async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}))}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:a,snapUpdatePath:s,snapResultPath:r,requestType:o,getRequestAccountTabIds:i,permissionsRequest:u,history:p,isRequestingAccounts:f}=this.props;if(i(),!u)return void p.replace(d.DEFAULT_ROUTE);if((0,l.getEnvironmentType)()===c.ENVIRONMENT_TYPE_NOTIFICATION&&window.addEventListener("beforeunload",this.beforeUnload),p.location.pathname===e&&!f)switch(o){case"wallet_installSnap":p.replace(a);break;case"wallet_updateSnap":p.replace(s);break;case"wallet_installSnapResult":p.replace(r);break;case"wallet_connectSnaps":p.replace(n);break;default:p.replace(t)}}static getDerivedStateFromProps(e,t){const{permissionsRequest:n,targetSubjectMetadata:a}=e,{targetSubjectMetadata:s}=t;return n&&s.origin!==(null==a?void 0:a.origin)?{targetSubjectMetadata:a}:null}componentDidUpdate(e){const{permissionsRequest:t,lastConnectedInfo:n}=this.props,{redirecting:a,origin:s}=this.state;if(!t&&e.permissionsRequest&&!a){var r,o;const t=((null===(r=n[s])||void 0===r?void 0:r.lastApproved)||0)>((null===(o=e.lastConnectedInfo[s])||void 0===o?void 0:o.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t,permissionsRequest:n}=this.props;let a=!0;a=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:a,permissionsApproved:e}),this.removeBeforeUnload(),a&&e?setTimeout((()=>t.push(d.DEFAULT_ROUTE)),k):t.push(d.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(){const{redirecting:e,targetSubjectMetadata:t}=this.state,{page:n,isRequestingAccounts:a,totalPages:r}=this.props,{t:o}=this.context;return e?null:s.default.createElement(f.Box,{style:{marginBottom:t.subjectType===i.SubjectType.Snap&&"14px",boxShadow:t.subjectType===i.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},s.default.createElement("div",{className:"permissions-connect__top-bar"},"2"===n&&a?s.default.createElement("div",{className:"permissions-connect__back",onClick:()=>this.goBack()},s.default.createElement(f.Icon,{name:f.IconName.ArrowLeft,marginInlineEnd:1,size:f.IconSize.Xs}),o("back")):null,a?s.default.createElement("div",{className:"permissions-connect__page-count"},o("xOfY",[n,r])):null),t.subjectType===i.SubjectType.Snap&&s.default.createElement(m.default,{snapId:t.origin,boxShadow:"none"}))}render(){const{approvePermissionsRequest:e,accounts:t,showNewAccountModal:n,newAccountNumber:a,nativeCurrency:i,permissionsRequest:l,addressLastConnectedMap:c,permissionsRequestId:u,connectPath:d,confirmPermissionPath:f,hideTopBar:m,snapsConnectPath:v,snapInstallPath:w,snapUpdatePath:T,snapResultPath:k,requestState:S,approvePendingApproval:N,rejectPendingApproval:x,setSnapsInstallPrivacyWarningShownStatus:C}=this.props,{selectedAccountAddresses:O,permissionsApproved:R,redirecting:M,targetSubjectMetadata:P,snapsInstallPrivacyWarningShown:I}=this.state;return s.default.createElement("div",{className:"permissions-connect"},!m&&this.renderTopBar(),M&&R?s.default.createElement(h.default,{subjectMetadata:P}):s.default.createElement(r.Switch,null,s.default.createElement(r.Route,{path:d,exact:!0,render:()=>s.default.createElement(g.default,{accounts:t,nativeCurrency:i,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:a})},addressLastConnectedMap:c,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:u,selectedAccountAddresses:O,targetSubjectMetadata:P})}),s.default.createElement(r.Route,{path:f,exact:!0,render:()=>s.default.createElement(p.default,{request:l||{},approvePermissionsRequest:(...t)=>{e(...t),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedIdentities:t.filter((e=>O.has(e.address))),targetSubjectMetadata:P,snapsInstallPrivacyWarningShown:I,setSnapsInstallPrivacyWarningShownStatus:C})}),s.default.createElement(r.Route,{path:v,exact:!0,render:()=>s.default.createElement(_.default,{request:l||{},approveConnection:(...t)=>{e(...t),this.redirect(!0)},rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:P,snapsInstallPrivacyWarningShown:I,setSnapsInstallPrivacyWarningShownStatus:C})}),s.default.createElement(r.Route,{path:w,exact:!0,render:()=>s.default.createElement(y.default,{request:l||{},requestState:S||{},approveSnapInstall:e=>{N(e,{...l,permissions:S.permissions,approvedAccounts:[...O]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{x(e,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest())),this.setState({permissionsApproved:!0}),this.removeBeforeUnload()},targetSubjectMetadata:P})}),s.default.createElement(r.Route,{path:T,exact:!0,render:()=>s.default.createElement(b.default,{request:l||{},requestState:S||{},approveSnapUpdate:e=>{N(e,{...l,permissions:S.permissions,approvedAccounts:[...O]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{x(e,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest())),this.setState({permissionsApproved:!1}),this.removeBeforeUnload()},targetSubjectMetadata:P})}),s.default.createElement(r.Route,{path:k,exact:!0,render:()=>s.default.createElement(E.default,{request:l||{},requestState:S||{},approveSnapResult:e=>{N(e),this.setState({permissionsApproved:!0}),this.removeBeforeUnload()},targetSubjectMetadata:P})})))}}n.default=S,T(S,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,getRequestAccountTabIds:a.default.func.isRequired,accounts:a.default.array.isRequired,currentAddress:a.default.string.isRequired,origin:a.default.string,showNewAccountModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,nativeCurrency:a.default.string,permissionsRequest:a.default.object,addressLastConnectedMap:a.default.object.isRequired,lastConnectedInfo:a.default.object.isRequired,permissionsRequestId:a.default.string,history:a.default.object.isRequired,connectPath:a.default.string.isRequired,confirmPermissionPath:a.default.string.isRequired,requestType:a.default.string.isRequired,snapsConnectPath:a.default.string.isRequired,snapInstallPath:a.default.string.isRequired,snapUpdatePath:a.default.string.isRequired,snapResultPath:a.default.string.isRequired,requestState:a.default.object.isRequired,approvePendingApproval:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func.isRequired,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,hideTopBar:a.default.bool,totalPages:a.default.string.isRequired,page:a.default.string.isRequired,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string,subjectType:a.default.string}),isRequestingAccounts:a.default.bool.isRequired}),T(S,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),T(S,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[5651,{"../../ducks/metamask/metamask":5427,"../../helpers/constants/routes":5440,"../../helpers/utils/util":5476,"../../selectors":5856,"../../store/actions":5864,"./permissions-connect.component":5650,"@metamask/permission-controller":1640,"@metamask/rpc-methods":1700,"prop-types":4123,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/permission-controller"),s=e("@metamask/rpc-methods"),r=e("react-redux"),o=f(e("prop-types")),i=e("../../selectors"),l=e("../../ducks/metamask/metamask"),c=e("../../helpers/utils/util"),u=e("../../store/actions"),d=e("../../helpers/constants/routes"),p=f(e("./permissions-connect.component"));function f(e){return e&&e.__esModule?e:{default:e}}const m=(0,r.connect)(((e,t)=>{var n,r,o;const{match:{params:{id:u}},location:{pathname:p}}=t;let f=(0,i.getPermissionsRequests)(e);f=[...f,...(0,i.getSnapInstallOrUpdateRequests)(e)];const m=(0,i.getSelectedAddress)(e),g=f.find((e=>e.metadata.id===u)),h=Boolean(null==g||null===(n=g.permissions)||void 0===n?void 0:n.eth_accounts),{metadata:_={}}=g||{},{origin:y}=_,b=(0,l.getNativeCurrency)(e),E=(0,i.getTargetSubjectMetadata)(e,y)??{name:(0,c.getURLHostName)(y)||y,origin:y,iconUrl:null,extensionId:null,subjectType:a.SubjectType.Unknown};let v=(0,i.getRequestType)(e,u);g&&1===Object.keys(g.permissions||{}).length&&null!==(r=g.permissions)&&void 0!==r&&r[s.WALLET_SNAP_PERMISSION_KEY]&&(v="wallet_connectSnaps");const w=(0,i.getRequestState)(e,u)||{},T=(0,i.getAccountsWithLabels)(e),k=(0,i.getLastConnectedInfo)(e)||{},S=(null===(o=k[y])||void 0===o?void 0:o.accounts)||{};Object.keys(S).forEach((e=>{S[e]=(0,c.formatDate)(S[e],"yyyy-MM-dd")}));const N=`${d.CONNECT_ROUTE}/${u}`,x=`${d.CONNECT_ROUTE}/${u}${d.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,C=`${d.CONNECT_ROUTE}/${u}${d.CONNECT_SNAPS_CONNECT_ROUTE}`,O=`${d.CONNECT_ROUTE}/${u}${d.CONNECT_SNAP_INSTALL_ROUTE}`,R=`${d.CONNECT_ROUTE}/${u}${d.CONNECT_SNAP_UPDATE_ROUTE}`,M=`${d.CONNECT_ROUTE}/${u}${d.CONNECT_SNAP_RESULT_ROUTE}`,P=p===O||p===R||p===M;let I=1+h;I+=P,I=I.toString();let A="";if(p===N)A="1";else if(p===x)A=h?"2":"1";else if(P)A=h?"3":"2";else{if(p!==C)throw new Error("Incorrect path for permissions-connect component");A=1}return{isRequestingAccounts:h,requestType:v,snapsConnectPath:C,snapInstallPath:O,snapUpdatePath:R,snapResultPath:M,requestState:w,hideTopBar:P,snapsInstallPrivacyWarningShown:(0,i.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:g,permissionsRequestId:u,accounts:T,currentAddress:m,origin:y,newAccountNumber:T.length+1,nativeCurrency:b,addressLastConnectedMap:S,lastConnectedInfo:k,connectPath:N,confirmPermissionPath:x,totalPages:I,page:A,targetSubjectMetadata:E}}),(e=>({approvePermissionsRequest:t=>e((0,u.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,u.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,u.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,u.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,u.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,u.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,u.getRequestAccountTabIds)())})))(p.default);m.propTypes={history:o.default.object.isRequired,match:o.default.shape({params:o.default.shape({id:o.default.string}).isRequired}).isRequired};n.default=m}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[5652,{"./permissions-redirect.component":5653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[5653,{"../../../components/component-library":5158,"../../../components/ui/box":5271,"../../../components/ui/site-icon":5377,"../../../components/ui/typography/typography":5405,"../../../contexts/i18n":5412,"../../../helpers/constants/design-system":5435,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=d(e("../../../components/ui/site-icon")),o=d(e("../../../components/ui/box")),i=d(e("../../../components/ui/typography/typography")),l=e("../../../helpers/constants/design-system"),c=e("../../../contexts/i18n"),u=e("../../../components/component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({subjectMetadata:e}){const t=(0,a.useContext)(c.I18nContext);return a.default.createElement("div",{className:"permissions-redirect"},a.default.createElement("div",{className:"permissions-redirect__result"},a.default.createElement(i.default,{boxProps:{marginBottom:4},variant:l.TypographyVariant.H3},t("connecting")),a.default.createElement("div",{className:"permissions-redirect__icons"},a.default.createElement(r.default,{icon:e.iconUrl,name:e.name,size:64,className:"permissions-redirect__site-icon"}),a.default.createElement(o.default,{className:"permissions-redirect__center-icon",display:l.DISPLAY.FLEX,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center},a.default.createElement(u.Icon,{name:u.IconName.Check,size:u.IconSize.Lg,className:"permissions-redirect__check"}),a.default.createElement("div",{className:"permissions-redirect__dashed-line"})),a.default.createElement(r.default,{icon:"/images/logo/metamask-fox.svg",size:64,className:"permissions-redirect__site-icon"}))))}f.propTypes={subjectMetadata:s.default.shape({extensionId:s.default.string,iconUrl:s.default.string,subjectType:s.default.string,name:s.default.string.isRequired,origin:s.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[5654,{"./snap-install":5655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[5655,{"../../../../components/app/snaps/install-error/install-error":4990,"../../../../components/app/snaps/snap-authorship-header":4996,"../../../../components/app/snaps/snap-install-warning":5003,"../../../../components/app/snaps/snap-permissions-list":5007,"../../../../components/component-library":5158,"../../../../components/ui/box/box":5270,"../../../../components/ui/page-container":5356,"../../../../components/ui/pulse-loader/pulse-loader":5366,"../../../../components/ui/site-origin/site-origin":5380,"../../../../helpers/constants/design-system":5435,"../../../../helpers/utils/util":5476,"../../../../hooks/useI18nContext":5500,"../../../../hooks/useOriginMetadata":5504,"../../../../hooks/useScrollRequired":5510,"../util":5662,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=v(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../components/ui/page-container"),o=e("../../../../hooks/useI18nContext"),i=v(e("../../../../components/app/snaps/snap-install-warning")),l=v(e("../../../../components/ui/box/box")),c=e("../../../../helpers/constants/design-system"),u=e("../util"),d=v(e("../../../../components/ui/pulse-loader/pulse-loader")),p=v(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../components/component-library"),m=e("../../../../helpers/utils/util"),g=v(e("../../../../components/app/snaps/snap-permissions-list")),h=e("../../../../hooks/useScrollRequired"),_=v(e("../../../../components/ui/site-origin/site-origin")),y=v(e("../../../../components/app/snaps/install-error/install-error")),b=e("../../../../hooks/useOriginMetadata");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function w({request:e,requestState:t,approveSnapInstall:n,rejectSnapInstall:a,targetSubjectMetadata:E}){var v;const w=(0,o.useI18nContext)(),T=(0,b.useOriginMetadata)(null==e||null===(v=e.metadata)||void 0===v?void 0:v.dappOrigin)||{},{origin:k,iconUrl:S,name:N}=T,[x,C]=(0,s.useState)(!1),{isScrollable:O,isScrolledToBottom:R,scrollToBottom:M,ref:P,onScroll:I}=(0,h.useScrollRequired)([t]),A=(0,s.useCallback)((()=>a(e.metadata.id)),[e,a]),j=(0,s.useCallback)((()=>n(e.metadata.id)),[e,n]),D=!t.loading&&t.error,L=t.loading,U=(0,u.getSnapInstallWarnings)((null==t?void 0:t.permissions)??{},E,w),F=U.length>0,B=(0,m.getSnapName)(E.origin,E);return s.default.createElement(l.default,{className:"page-container snap-install",justifyContent:c.JustifyContent.spaceBetween,height:c.BLOCK_SIZES.FULL,borderStyle:c.BorderStyle.none,flexDirection:c.FLEX_DIRECTION.COLUMN},L||D?s.default.createElement(l.default,{width:"full",alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,paddingTop:4},s.default.createElement(_.default,{chip:!0,siteOrigin:k,title:k,iconSrc:S,iconName:N})):s.default.createElement(p.default,{snapId:E.origin}),s.default.createElement(l.default,{ref:L||D?undefined:P,onScroll:I,className:"snap-install__content",style:{overflowY:"auto",flex:!L&&!D&&"1"}},L&&s.default.createElement(l.default,{className:"snap-install__content__loader-container",flexDirection:c.FLEX_DIRECTION.COLUMN,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},s.default.createElement(d.default,null)),D&&s.default.createElement(y.default,{iconName:f.IconName.Warning,title:w("connectionFailed"),description:w("connectionFailedDescription",[s.default.createElement(f.Text,{as:f.ValidTag.Span,key:"1",fontWeight:c.FontWeight.Medium},B)]),error:t.error}),!D&&!L&&s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Text,{variant:c.TextVariant.headingLg,paddingTop:4,paddingBottom:2,textAlign:"center"},w("snapInstall")),s.default.createElement(f.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:c.TEXT_ALIGN.CENTER},w("snapInstallRequest",[s.default.createElement(f.Text,{as:f.ValidTag.Span,key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},B)])),s.default.createElement(g.default,{snapId:E.origin,permissions:t.permissions||{},targetSubjectMetadata:E}),O&&!R?s.default.createElement(f.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:f.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:M,style:{cursor:"pointer"}}):null)),s.default.createElement(l.default,{className:"snap-install__footer",alignItems:c.AlignItems.center,flexDirection:c.FLEX_DIRECTION.COLUMN,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},s.default.createElement(r.PageContainerFooter,{cancelButtonType:"default",hideCancel:D,disabled:L||!D&&O&&!R,onCancel:A,cancelText:w("cancel"),onSubmit:()=>{!D&&F?C(!0):D?A():j()},submitText:w(D?"ok":L?"connect":"install")})),x&&s.default.createElement(i.default,{onCancel:()=>C(!1),onSubmit:j,warnings:U,snapName:B}))}w.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapInstall:a.default.func.isRequired,rejectSnapInstall:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[5656,{"./snap-result":5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[5657,{"../../../../components/app/snaps/install-error/install-error":4990,"../../../../components/app/snaps/snap-authorship-header":4996,"../../../../components/component-library":5158,"../../../../components/ui/box/box":5270,"../../../../components/ui/page-container":5356,"../../../../components/ui/pulse-loader/pulse-loader":5366,"../../../../helpers/constants/design-system":5435,"../../../../helpers/utils/util":5476,"../../../../hooks/useI18nContext":5500,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=g(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../components/ui/page-container"),o=e("../../../../hooks/useI18nContext"),i=g(e("../../../../components/ui/box/box")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),u=g(e("../../../../components/ui/pulse-loader/pulse-loader")),d=g(e("../../../../components/app/snaps/install-error/install-error")),p=g(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../helpers/utils/util");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h({request:e,requestState:t,approveSnapResult:n,targetSubjectMetadata:a}){const m=(0,o.useI18nContext)(),g=(0,s.useCallback)((()=>n(e.metadata.id)),[e,n]),h=!t.loading&&t.error,_=t.loading,y=(0,f.getSnapName)(a.origin,a);return s.default.createElement(i.default,{className:"page-container snap-result",justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,borderStyle:l.BorderStyle.none,flexDirection:l.FlexDirection.Column},s.default.createElement(p.default,{snapId:a.origin}),s.default.createElement(i.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,style:{overflowY:"auto"}},_&&s.default.createElement(i.default,{className:"snap-result__content__loader-container",flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center},s.default.createElement(u.default,null)),!_&&!h&&function(e,t){let n;switch(e){case"wallet_installSnap":n=m("snapInstallSuccess");break;case"wallet_updateSnap":n=m("snapUpdateSuccess");break;default:n=m("snapResultSuccess")}return s.default.createElement(i.default,{flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,height:l.BlockSize.Full,paddingTop:2,paddingBottom:2},s.default.createElement(c.AvatarIcon,{className:"snap-result__header__icon",iconName:c.IconName.Confirmation,size:c.AvatarIconSize.Xl,color:l.IconColor.successDefault,backgroundColor:l.BackgroundColor.successMuted}),s.default.createElement(c.Text,{fontWeight:l.FontWeight.Bold,variant:l.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),s.default.createElement(c.Text,{textAlign:l.TextAlign.Center},m("snapResultSuccessDescription",[s.default.createElement(c.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},t)])))}(t.type,y),h&&function(e,n){let a,r;switch(e){case"wallet_installSnap":a=m("snapInstallationErrorTitle"),r=m("snapInstallationErrorDescription",[s.default.createElement(c.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},n)]);break;case"wallet_updateSnap":a=m("snapUpdateErrorTitle"),r=m("snapUpdateErrorDescription",[s.default.createElement(c.Text,{as:"span",key:"1",fontWeight:l.FontWeight.Medium},n)]);break;default:a=m("snapResultError")}return s.default.createElement(d.default,{error:t.error,title:a,description:r,iconName:c.IconName.Warning})}(t.type,y)),s.default.createElement(i.default,{className:"snap-result__footer",alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},s.default.createElement(r.PageContainerFooter,{hideCancel:!0,disabled:_,onSubmit:g,submitText:m("ok").toUpperCase()})))}h.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapResult:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[5658,{"./snap-update":5659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[5659,{"../../../../components/app/snaps/install-error/install-error":4990,"../../../../components/app/snaps/snap-authorship-header":4996,"../../../../components/app/snaps/snap-install-warning":5003,"../../../../components/app/snaps/update-snap-permission-list":5022,"../../../../components/component-library":5158,"../../../../components/ui/box/box":5270,"../../../../components/ui/page-container":5356,"../../../../components/ui/pulse-loader/pulse-loader":5366,"../../../../helpers/constants/design-system":5435,"../../../../helpers/utils/util":5476,"../../../../hooks/useI18nContext":5500,"../../../../hooks/useOriginMetadata":5504,"../../../../hooks/useScrollRequired":5510,"../util":5662,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=E(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../components/ui/page-container"),o=e("../../../../hooks/useI18nContext"),i=E(e("../../../../components/app/snaps/snap-install-warning")),l=E(e("../../../../components/ui/box/box")),c=e("../../../../helpers/constants/design-system"),u=E(e("../../../../components/app/snaps/update-snap-permission-list")),d=e("../util"),p=E(e("../../../../components/ui/pulse-loader/pulse-loader")),f=E(e("../../../../components/app/snaps/install-error/install-error")),m=E(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=e("../../../../hooks/useOriginMetadata"),_=e("../../../../helpers/utils/util"),y=e("../../../../hooks/useScrollRequired");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function v({request:e,requestState:t,approveSnapUpdate:n,rejectSnapUpdate:a,targetSubjectMetadata:b}){var E;const v=(0,o.useI18nContext)(),[w,T]=(0,s.useState)(!1),k=(0,h.useOriginMetadata)(null===(E=e.metadata)||void 0===E?void 0:E.dappOrigin)||{},{isScrollable:S,isScrolledToBottom:N,scrollToBottom:x,ref:C,onScroll:O}=(0,y.useScrollRequired)([t]),R=(0,s.useCallback)((()=>a(e.metadata.id)),[e,a]),M=(0,s.useCallback)((()=>n(e.metadata.id)),[e,n]),P=t.approvedPermissions??{},I=t.unusedPermissions??{},A=t.newPermissions??{},{newVersion:j}=t,D=t.loading,L=!D&&t.error,U=(0,d.getSnapInstallWarnings)(A,b,v),F=U.length>0,B=(0,_.getSnapName)(b.origin,b);return s.default.createElement(l.default,{className:"page-container snap-update",justifyContent:c.JustifyContent.spaceBetween,height:c.BLOCK_SIZES.FULL,borderStyle:c.BorderStyle.none,flexDirection:c.FLEX_DIRECTION.COLUMN},s.default.createElement(m.default,{snapId:b.origin}),s.default.createElement(l.default,{ref:C,onScroll:O,className:"snap-update__content",style:{overflowY:"auto",flex:!D&&"1"}},!D&&!L&&s.default.createElement(g.Text,{paddingBottom:4,paddingTop:4,variant:c.TextVariant.headingLg,textAlign:"center"},v("snapUpdate")),D&&s.default.createElement(l.default,{className:"snap-update__content__loader-container",flexDirection:c.FLEX_DIRECTION.COLUMN,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},s.default.createElement(p.default,null)),L&&s.default.createElement(f.default,{iconName:g.IconName.Warning,error:t.error,title:v("snapUpdateErrorTitle"),description:v("snapUpdateErrorDescription",[s.default.createElement(g.Text,{as:g.ValidTag.Span,key:"1",fontWeight:c.FontWeight.Medium},B)])}),!L&&!D&&s.default.createElement(s.default.Fragment,null,s.default.createElement(g.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:c.TEXT_ALIGN.CENTER},v("snapUpdateRequest",[s.default.createElement(g.Text,{as:g.ValidTag.Span,key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==k?void 0:k.hostname),s.default.createElement(g.Text,{as:g.ValidTag.Span,key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},B),s.default.createElement(g.Text,{as:g.ValidTag.Span,key:"3",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},j)])),s.default.createElement(u.default,{approvedPermissions:P,revokedPermissions:I,newPermissions:A,targetSubjectMetadata:b}),S&&!N?s.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:x,style:{cursor:"pointer"}}):null)),s.default.createElement(l.default,{className:"snap-update__footer",alignItems:c.AlignItems.center,flexDirection:c.FLEX_DIRECTION.COLUMN,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},s.default.createElement(r.PageContainerFooter,{cancelButtonType:"default",hideCancel:L,disabled:D||!L&&S&&!N,onCancel:R,cancelText:v("cancel"),onSubmit:()=>{!L&&F?T(!0):L?R():M()},submitText:v(L?"ok":"update")})),w&&s.default.createElement(i.default,{onCancel:()=>T(!1),onSubmit:M,snapName:B,warnings:U}))}v.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapUpdate:a.default.func.isRequired,rejectSnapUpdate:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[5660,{"./snaps-connect":5661},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[5661,{"../../../../components/app/snaps/snap-avatar/snap-avatar":4999,"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":5e3,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":5010,"../../../../components/component-library":5158,"../../../../components/ui/box":5271,"../../../../components/ui/page-container":5356,"../../../../components/ui/pulse-loader/pulse-loader":5366,"../../../../components/ui/site-origin":5379,"../../../../helpers/constants/design-system":5435,"../../../../helpers/utils/util":5476,"../../../../hooks/useI18nContext":5500,"../../../../hooks/useOriginMetadata":5504,"../../../../selectors":5856,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=b(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=b(e("../../../../components/ui/box")),l=b(e("../../../../components/ui/site-origin")),c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/ui/page-container"),p=b(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),f=e("../../../../helpers/utils/util"),m=b(e("../../../../components/ui/pulse-loader/pulse-loader")),g=b(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),h=e("../../../../selectors"),_=b(e("../../../../components/app/snaps/snap-avatar/snap-avatar")),y=e("../../../../hooks/useOriginMetadata");function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:b,setSnapsInstallPrivacyWarningShownStatus:E}){const v=(0,o.useI18nContext)(),{origin:w,iconUrl:T,name:k}=r,[S,N]=(0,a.useState)(!1),[x,C]=(0,a.useState)(!b),O=(0,s.useSelector)((t=>{var n;return(0,h.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)})),R=(0,a.useCallback)((()=>{n(e.metadata.id)}),[e,n]),M=(0,a.useCallback)((()=>{try{N(!0),t(e)}finally{N(!1)}}),[e,t]),P=(0,f.getDedupedSnaps)(e,O),I=(0,s.useSelector)((e=>(0,h.getTargetSubjectMetadata)(e,null==P?void 0:P[0]))),A=()=>{const{hostname:e}=(0,y.useOriginMetadata)(w)||{};if(S)return a.default.createElement(i.default,{className:"snap-connect__loader-container",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},a.default.createElement(m.default,null));if((null==P?void 0:P.length)>1)return a.default.createElement(i.default,{className:"snaps-connect__content",flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center,paddingLeft:4,paddingRight:4,paddingTop:8,width:u.BlockSize.Full,style:{overflowY:"hidden"}},a.default.createElement(c.Text,{paddingBottom:2,variant:u.TextVariant.headingLg},v("connectionRequest")),a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,textAlign:u.TextAlign.Center},v("multipleSnapConnectionWarning",[a.default.createElement(c.Text,{as:c.ValidTag.Span,key:"1",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},e),a.default.createElement(c.Text,{as:c.ValidTag.Span,key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},null==P?void 0:P.length)])),a.default.createElement(i.default,{className:"snaps-connect__content__snaps-list",flexDirection:u.FlexDirection.Column,display:u.Display.Flex,marginTop:4,width:u.BlockSize.Full,style:{overflowY:"auto",flex:1}},P.map((t=>a.default.createElement(p.default,{key:`snaps-connect-${t}`,snapId:t,origin:e})))));if(1===(null==P?void 0:P.length)){const t=P[0],n=(0,f.getSnapName)(t,I);return a.default.createElement(i.default,{className:"snaps-connect__content",flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center,height:u.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(i.default,{paddingBottom:2},a.default.createElement(_.default,{snapId:P[0],badgeSize:c.IconSize.Md,avatarSize:c.IconSize.Xl,borderWidth:3})),a.default.createElement(c.Text,{paddingBottom:2,variant:u.TextVariant.headingLg},v("connectionRequest")),a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,textAlign:u.TextAlign.Center,padding:[0,4],overflowWrap:u.OverflowWrap.Anywhere},v("snapConnectionWarning",[a.default.createElement(c.Text,{as:c.ValidTag.Span,key:"1",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},e),a.default.createElement(c.Text,{as:c.ValidTag.Span,key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},n)])))}return null};return a.default.createElement(i.default,{className:"page-container snaps-connect",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center},x&&a.default.createElement(g.default,{onAccepted:()=>{C(!1),E(!0)},onCanceled:R}),a.default.createElement(i.default,{className:"snaps-connect__header",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,paddingLeft:4,paddingRight:4},a.default.createElement(l.default,{chip:!0,siteOrigin:w,title:w,iconSrc:T,iconName:k})),a.default.createElement(A,null),a.default.createElement(d.PageContainerFooter,{footerClassName:"snaps-connect__footer",cancelButtonType:"default",hideCancel:!1,disabled:S,onCancel:R,cancelText:v("cancel"),onSubmit:M,submitText:v("connect")}))}v.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[5662,{"../../../helpers/utils/permission":5470},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n){return Object.entries(e).reduce(((e,[s,r])=>{const o=(0,a.getPermissionDescription)({t:n,permissionName:s,permissionValue:r,targetSubjectMetadata:t});return e.concat(o.filter((e=>1===e.weight)))}),[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[5663,{"./remove-snap-account-content":5664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RemoveSnapAccountContent",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./remove-snap-account-content"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/remove-snap-account/components/index.ts"}],[5664,{"../../../components/app/snaps/snap-avatar":4998,"../../../components/component-library":5158,"../../../components/ui/card":5279,"../../../helpers/constants/design-system":5435,"../../../hooks/useI18nContext":5500,"./view-account-on-block-explorer":5665,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),s=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),o=u(e("../../../components/app/snaps/snap-avatar")),i=e("../../../hooks/useI18nContext"),l=u(e("../../../components/ui/card")),c=u(e("./view-account-on-block-explorer"));function u(e){return e&&e.__esModule?e:{default:e}}n.default=({snapName:e,snapId:t,publicAddress:n})=>{const u=(0,i.useI18nContext)();return a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween},a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center},a.default.createElement(s.Box,{paddingBottom:2},a.default.createElement(o.default,{snapId:t,badgeSize:s.IconSize.Md,avatarSize:s.IconSize.Xl,borderWidth:3})),a.default.createElement(s.Text,{textAlign:r.TextAlign.Center,variant:r.TextVariant.headingLg},u("removeSnapAccountTitle")),a.default.createElement(s.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center,overflowWrap:r.OverflowWrap.Anywhere},u("removeSnapAccountDescription",[e])),a.default.createElement(s.Box,{paddingTop:4,paddingBottom:4},a.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,description:u("removeSnapAccountBannerDescription")})),a.default.createElement(l.default,{display:r.Display.Flex,gap:4},a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,justifyContent:r.JustifyContent.spaceBetween},a.default.createElement(s.Text,{color:r.TextColor.textMuted,variant:r.TextVariant.bodySm},u("publicAddress")),a.default.createElement(s.Text,{variant:r.TextVariant.bodyXs},n)),a.default.createElement(s.Box,{display:r.Display.Flex,marginLeft:"auto",alignItems:r.AlignItems.center},a.default.createElement(c.default,{publicAddress:n})))))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/components/remove-snap-account-content.tsx"}],[5665,{"../../../components/component-library":5158,"../../../helpers/constants/design-system":5435,"../../../selectors":5856,"@metamask/etherscan-link":1389,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/etherscan-link"),o=e("react-redux"),i=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../selectors");const u=({publicAddress:e})=>{const t=(0,o.useSelector)(c.getCurrentChainId),n=(0,o.useSelector)(c.getRpcPrefsForCurrentProvider,o.shallowEqual),a=(0,r.getAccountLink)(e,t,n);return s.default.createElement(i.Icon,{onClick:()=>{global.platform.openTab({url:a})},name:i.IconName.Share,color:l.IconColor.primaryDefault,size:i.IconSize.Sm})};n.default=s.default.memo(u)}}},{package:"$root$",file:"ui/pages/remove-snap-account/components/view-account-on-block-explorer.tsx"}],[5666,{"./remove-snap-account":5667},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./remove-snap-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[5667,{"../../../shared/modules/hexstring-utils":4704,"../../components/component-library":5158,"../../helpers/constants/design-system":5435,"./components":5663,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),i=e("../../../shared/modules/hexstring-utils"),l=e("./components");n.default=({snapId:e,snapName:t,publicAddress:n})=>s.default.createElement(r.Box,{className:"remove-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,backgroundColor:o.BackgroundColor.backgroundDefault,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,paddingBottom:2,paddingTop:2},s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,height:o.BlockSize.Full},s.default.createElement(l.RemoveSnapAccountContent,{snapName:t,snapId:e,publicAddress:(0,i.toChecksumHexAddress)(n)})))}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[5668,{"./routes.container":5670},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./routes.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[5669,{"../../../app/scripts/lib/util":90,"../../../shared/constants/app":4665,"../../../shared/constants/network":4674,"../../../shared/constants/preferences":4676,"../../components/app/alerts":4744,"../../components/app/loading-network-screen":4859,"../../components/app/modals":4894,"../../components/app/modals/keyring-snap-removal-modal":4895,"../../components/app/nft-default-image/toggle-ipfs-modal":4924,"../../components/app/qr-hardware-popover":4949,"../../components/component-library":5158,"../../components/multichain":5241,"../../components/multichain/pages":5253,"../../components/ui/alert":5269,"../../components/ui/deprecated-test-networks/deprecated-test-networks":5294,"../../components/ui/loading-screen":5337,"../../components/ui/new-network-info/new-network-info":5351,"../../ducks/send":5429,"../../helpers/constants/routes":5440,"../../helpers/higher-order-components/authenticated":5448,"../../helpers/higher-order-components/initialized":5450,"../asset":5535,"../confirm-add-suggested-nft":5537,"../confirm-add-suggested-token":5539,"../confirm-transaction":5571,"../confirmation":5577,"../create-account/create-account.component":5599,"../home":5608,"../keychains/restore-vault":5610,"../keychains/reveal-seed":5611,"../keyring-snaps/add-snap-account":5614,"../lock":5624,"../notifications":5627,"../onboarding-flow/onboarding-app-header/onboarding-app-header":5634,"../onboarding-flow/onboarding-flow":5636,"../permissions-connect":5649,"../send":5673,"../settings":5730,"../swaps":5796,"../token-details":5846,"../unlock-page":5848,classnames:2857,"prop-types":4123,react:4378,"react-idle-timer":4235,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=Y(e("classnames")),s=Y(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),i=Y(e("react-idle-timer")),l=Y(e("../send")),c=Y(e("../swaps")),u=Y(e("../confirm-transaction")),d=Y(e("../home")),p=(e("../../components/multichain/pages"),Y(e("../settings"))),f=Y(e("../../helpers/higher-order-components/authenticated")),m=Y(e("../../helpers/higher-order-components/initialized")),g=Y(e("../lock")),h=Y(e("../permissions-connect")),_=Y(e("../keychains/restore-vault")),y=Y(e("../keychains/reveal-seed")),b=Y(e("../confirm-add-suggested-token")),E=Y(e("../create-account/create-account.component")),v=Y(e("../confirm-add-suggested-nft")),w=Y(e("../../components/ui/loading-screen")),T=Y(e("../../components/app/loading-network-screen")),k=e("../../components/app/modals"),S=Y(e("../../components/ui/alert")),N=e("../../components/multichain"),x=Y(e("../unlock-page")),C=Y(e("../../components/app/alerts")),O=Y(e("../asset")),R=Y(e("../onboarding-flow/onboarding-app-header/onboarding-app-header")),M=Y(e("../token-details")),P=Y(e("../notifications")),I=Y(e("../keyring-snaps/add-snap-account")),A=e("../../helpers/constants/routes"),j=e("../../../shared/constants/app"),D=e("../../../shared/constants/network"),L=e("../../../app/scripts/lib/util"),U=Y(e("../confirmation")),F=Y(e("../onboarding-flow/onboarding-flow")),B=Y(e("../../components/app/qr-hardware-popover")),W=e("../../ducks/send"),$=Y(e("../../components/ui/deprecated-test-networks/deprecated-test-networks")),q=Y(e("../../components/ui/new-network-info/new-network-info")),V=e("../../../shared/constants/preferences"),G=e("../../components/component-library"),K=e("../../components/app/nft-default-image/toggle-ipfs-modal"),H=Y(e("../../components/app/modals/keyring-snap-removal-modal"));function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function Y(e){return e&&e.__esModule?e:{default:e}}function Q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X extends r.Component{constructor(...e){super(...e),Q(this,"onAppHeaderClick",(async()=>{const{prepareToLeaveSwaps:e}=this.props;this.onSwapsPage()&&await e()}))}handleOsTheme(){var e;const t=null!==(e=window)&&void 0!==e&&null!==(e=e.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==e&&e.matches?V.ThemeType.dark:V.ThemeType.light;document.documentElement.setAttribute("data-theme",t)}componentDidUpdate(e){const{theme:t}=this.props;t!==e.theme&&(t===V.ThemeType.os?this.handleOsTheme():document.documentElement.setAttribute("data-theme",t))}UNSAFE_componentWillMount(){const{currentCurrency:e,pageChanged:t,setCurrentCurrencyToUSD:n,history:a,theme:s}=this.props;e||n(),a.listen(((e,n)=>{"PUSH"===n&&t(e.pathname)})),s===V.ThemeType.os?this.handleOsTheme():document.documentElement.setAttribute("data-theme",s)}renderRoutes(){const{autoLockTimeLimit:e,setLastActiveTime:t,forgottenPassword:n}=this.props,a=n?o.Route:m.default,s=r.default.createElement(o.Switch,null,r.default.createElement(o.Route,{path:A.ONBOARDING_ROUTE,component:F.default}),r.default.createElement(o.Route,{path:A.LOCK_ROUTE,component:g.default,exact:!0}),r.default.createElement(m.default,{path:A.UNLOCK_ROUTE,component:x.default,exact:!0}),r.default.createElement(a,{path:A.RESTORE_VAULT_ROUTE,component:_.default,exact:!0}),r.default.createElement(f.default,{path:A.REVEAL_SEED_ROUTE,component:y.default,exact:!0}),r.default.createElement(f.default,{path:A.SETTINGS_ROUTE,component:p.default}),r.default.createElement(f.default,{path:A.NOTIFICATIONS_ROUTE,component:P.default}),r.default.createElement(f.default,{path:`${A.CONFIRM_TRANSACTION_ROUTE}/:id?`,component:u.default}),r.default.createElement(f.default,{path:A.SEND_ROUTE,component:l.default,exact:!0}),r.default.createElement(f.default,{path:`${A.TOKEN_DETAILS}/:address/`,component:M.default,exact:!0}),r.default.createElement(f.default,{path:A.SWAPS_ROUTE,component:c.default}),r.default.createElement(f.default,{path:A.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:b.default,exact:!0}),r.default.createElement(f.default,{path:A.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:v.default,exact:!0}),r.default.createElement(f.default,{path:A.CONFIRMATION_V_NEXT_ROUTE,component:U.default}),r.default.createElement(f.default,{path:A.NEW_ACCOUNT_ROUTE,component:E.default}),r.default.createElement(f.default,{path:A.ADD_SNAP_ACCOUNT_ROUTE,component:I.default}),r.default.createElement(f.default,{path:`${A.CONNECT_ROUTE}/:id`,component:h.default}),r.default.createElement(f.default,{path:`${A.ASSET_ROUTE}/:asset/:id`,component:O.default}),r.default.createElement(f.default,{path:`${A.ASSET_ROUTE}/:asset/`,component:O.default}),"",r.default.createElement(f.default,{path:A.DEFAULT_ROUTE,component:d.default}));return e>0?r.default.createElement(i.default,{onAction:t,throttle:1e3},s):s}onInitializationUnlockPage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:A.ONBOARDING_UNLOCK_ROUTE,exact:!0}))}onConfirmPage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:A.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}onEditTransactionPage(){return this.props.sendStage===W.SEND_STAGES.EDIT||this.props.sendStage===W.SEND_STAGES.DRAFT||this.props.sendStage===W.SEND_STAGES.ADD_RECIPIENT}onSwapsPage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:A.SWAPS_ROUTE,exact:!1}))}onSwapsBuildQuotePage(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:A.BUILD_QUOTE_ROUTE,exact:!1}))}hideAppHeader(){const{location:e}=this.props;if(Boolean((0,o.matchPath)(e.pathname,{path:A.ONBOARDING_ROUTE,exact:!1}))&&!this.onInitializationUnlockPage())return!0;const t=(0,L.getEnvironmentType)();if(t===j.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(t===j.ENVIRONMENT_TYPE_POPUP&&this.onConfirmPage())return!0;const n=Boolean((0,o.matchPath)(e.pathname,{path:A.CONNECT_ROUTE,exact:!1})),a=Boolean((0,o.matchPath)(e.pathname,{path:A.CONFIRMATION_V_NEXT_ROUTE,exact:!1}));return n||a}showFooter(){if(!1===Boolean(""))return!1;const{location:e}=this.props,t=Boolean((0,o.matchPath)(e.pathname,{path:A.DEFAULT_ROUTE,exact:!0})),n=Boolean((0,o.matchPath)(e.pathname,{path:A.CONNECTIONS,exact:!0}));return Boolean((0,o.matchPath)(e.pathname,{path:A.ASSET_ROUTE,exact:!1}))||t||n}showOnboardingHeader(){const{location:e}=this.props;return Boolean((0,o.matchPath)(e.pathname,{path:A.ONBOARDING_ROUTE,exact:!1}))}render(){const{isLoading:e,isUnlocked:t,alertMessage:n,textDirection:s,loadingMessage:o,isNetworkLoading:i,setMouseUserState:l,isMouseUser:c,browserEnvironmentOs:u,browserEnvironmentBrowser:d,isNetworkUsed:p,allAccountsOnNetworkAreEmpty:f,isTestNet:m,currentChainId:g,shouldShowSeedPhraseReminder:h,isCurrentProviderCustom:_,completedOnboarding:y,isAccountMenuOpen:b,toggleAccountMenu:E,isNetworkMenuOpen:v,toggleNetworkMenu:x,accountDetailsAddress:O,isImportTokensModalOpen:M,isSelectActionModalOpen:P,location:I,isImportNftsModalOpen:A,hideImportNftsModal:D,isIpfsModalOpen:U,hideIpfsModal:F,hideImportTokensModal:W,hideSelectActionModal:V,isShowKeyringSnapRemovalResultModal:z,hideShowKeyringSnapRemovalResultModal:Y}=this.props,Q=o||i?this.getConnectingLabel(o):null,X=t&&g&&!m&&!p&&!_&&y&&f,J=(0,L.getEnvironmentType)()!==j.ENVIRONMENT_TYPE_NOTIFICATION&&t&&!h;return r.default.createElement("div",{className:(0,a.default)("app",{[`os-${u}`]:u,[`browser-${d}`]:d,"mouse-user-styles":c}),dir:s,onClick:()=>l(!0),onKeyDown:e=>{9===e.keyCode&&l(!1)}},J&&r.default.createElement($.default,null),X&&r.default.createElement(q.default,null),r.default.createElement(B.default,null),r.default.createElement(k.Modal,null),r.default.createElement(S.default,{visible:this.props.alertOpen,msg:n}),!this.hideAppHeader()&&r.default.createElement(N.AppHeader,{location:I}),this.showOnboardingHeader()&&r.default.createElement(R.default,null),b?r.default.createElement(N.AccountListMenu,{onClose:()=>E()}):null,v?r.default.createElement(N.NetworkListMenu,{onClose:()=>x()}):null,O?r.default.createElement(N.AccountDetails,{address:O}):null,A?r.default.createElement(N.ImportNftsModal,{onClose:()=>D()}):null,U?r.default.createElement(K.ToggleIpfsModal,{onClose:()=>F()}):null,M?r.default.createElement(N.ImportTokensModal,{onClose:()=>W()}):null,P?r.default.createElement(N.SelectActionModal,{onClose:()=>V()}):null,z&&r.default.createElement(H.default,{isOpen:z,onClose:()=>Y()}),r.default.createElement(G.Box,{className:"main-container-wrapper"},e?r.default.createElement(w.default,{loadingMessage:Q}):null,!e&&i?r.default.createElement(T.default,null):null,this.renderRoutes()),this.showFooter()&&r.default.createElement(N.AppFooter,{location:I}),t?r.default.createElement(C.default,{history:this.props.history}):null)}toggleMetamaskActive(){if(this.props.isUnlocked)this.props.lockMetaMask();else{const e=document.querySelector("input[type=password]");if(!e)return;e.focus()}}getConnectingLabel(e){if(e)return e;const{providerType:t,providerId:n}=this.props,{t:a}=this.context;switch(t){case D.NETWORK_TYPES.MAINNET:return a("connectingToMainnet");case D.NETWORK_TYPES.GOERLI:return a("connectingToGoerli");case D.NETWORK_TYPES.SEPOLIA:return a("connectingToSepolia");case D.NETWORK_TYPES.LINEA_GOERLI:return a("connectingToLineaGoerli");case D.NETWORK_TYPES.LINEA_MAINNET:return a("connectingToLineaMainnet");default:return a("connectingTo",[n])}}}n.default=X,Q(X,"propTypes",{currentCurrency:s.default.string,setCurrentCurrencyToUSD:s.default.func,isLoading:s.default.bool,loadingMessage:s.default.string,alertMessage:s.default.string,textDirection:s.default.string,isNetworkLoading:s.default.bool,alertOpen:s.default.bool,isUnlocked:s.default.bool,setLastActiveTime:s.default.func,history:s.default.object,location:s.default.object,lockMetaMask:s.default.func,isMouseUser:s.default.bool,setMouseUserState:s.default.func,providerId:s.default.string,providerType:s.default.string,autoLockTimeLimit:s.default.number,pageChanged:s.default.func.isRequired,prepareToLeaveSwaps:s.default.func,browserEnvironmentOs:s.default.string,browserEnvironmentBrowser:s.default.string,theme:s.default.string,sendStage:s.default.string,isNetworkUsed:s.default.bool,allAccountsOnNetworkAreEmpty:s.default.bool,isTestNet:s.default.bool,currentChainId:s.default.string,shouldShowSeedPhraseReminder:s.default.bool,forgottenPassword:s.default.bool,isCurrentProviderCustom:s.default.bool,completedOnboarding:s.default.bool,isAccountMenuOpen:s.default.bool,toggleAccountMenu:s.default.func,isNetworkMenuOpen:s.default.bool,toggleNetworkMenu:s.default.func,accountDetailsAddress:s.default.string,isImportNftsModalOpen:s.default.bool.isRequired,hideImportNftsModal:s.default.func.isRequired,isIpfsModalOpen:s.default.bool.isRequired,hideIpfsModal:s.default.func.isRequired,isImportTokensModalOpen:s.default.bool.isRequired,hideImportTokensModal:s.default.func.isRequired,isSelectActionModalOpen:s.default.bool.isRequired,hideSelectActionModal:s.default.func.isRequired,isShowKeyringSnapRemovalResultModal:s.default.bool.isRequired,hideShowKeyringSnapRemovalResultModal:s.default.func.isRequired}),Q(X,"contextTypes",{t:s.default.func,metricsEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/routes/routes.component.js"}],[5670,{"../../../shared/constants/preferences":4676,"../../components/multichain/app-footer/app-footer-actions":5212,"../../ducks/history/history":5424,"../../ducks/metamask/metamask":5427,"../../ducks/send":5429,"../../ducks/swaps/swaps":5431,"../../selectors":5856,"../../store/actions":5864,"./routes.component":5669,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("react-router-dom"),o=e("redux"),i=e("../../selectors"),l=e("../../store/actions"),c=e("../../components/multichain/app-footer/app-footer-actions"),u=e("../../ducks/history/history"),d=e("../../ducks/swaps/swaps"),p=e("../../ducks/send"),f=e("../../ducks/metamask/metamask"),m=e("../../../shared/constants/preferences"),g=(a=e("./routes.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(r.withRouter,(0,s.connect)((function(e){var t,n;const{appState:a}=e,{alertOpen:s,alertMessage:r,isLoading:o,loadingMessage:l}=a,{autoLockTimeLimit:c=m.DEFAULT_AUTO_LOCK_TIME_LIMIT}=(0,i.getPreferences)(e),{completedOnboarding:u}=e.metamask;return{alertOpen:s,alertMessage:r,textDirection:e.metamask.textDirection,isLoading:o,loadingMessage:l,isUnlocked:(0,f.getIsUnlocked)(e),isNetworkLoading:(0,i.isNetworkLoading)(e),currentCurrency:e.metamask.currentCurrency,isMouseUser:e.appState.isMouseUser,autoLockTimeLimit:c,browserEnvironmentOs:null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os,browserEnvironmentContainter:null===(n=e.metamask.browserEnvironment)||void 0===n?void 0:n.browser,providerId:(0,i.getNetworkIdentifier)(e),providerType:(0,f.getProviderConfig)(e).type,theme:(0,i.getTheme)(e),sendStage:(0,p.getSendStage)(e),isNetworkUsed:(0,i.getIsNetworkUsed)(e),allAccountsOnNetworkAreEmpty:(0,i.getAllAccountsOnNetworkAreEmpty)(e),isTestNet:(0,i.getIsTestnet)(e),currentChainId:(0,i.getCurrentChainId)(e),shouldShowSeedPhraseReminder:(0,i.getShouldShowSeedPhraseReminder)(e),forgottenPassword:e.metamask.forgottenPassword,isCurrentProviderCustom:(0,i.isCurrentProviderCustom)(e),completedOnboarding:u,isAccountMenuOpen:e.metamask.isAccountMenuOpen,isNetworkMenuOpen:e.metamask.isNetworkMenuOpen,isImportTokensModalOpen:e.appState.importTokensModalOpen,accountDetailsAddress:e.appState.accountDetailsAddress,isImportNftsModalOpen:e.appState.importNftsModal.open,isIpfsModalOpen:e.appState.showIpfsModalOpen,isSelectActionModalOpen:e.appState.showSelectActionModal,isShowKeyringSnapRemovalResultModal:e.appState.showKeyringRemovalSnapModal}}),(function(e){return{lockMetaMask:()=>e((0,l.lockMetamask)(!1)),setCurrentCurrencyToUSD:()=>e((0,l.setCurrentCurrency)("usd")),setMouseUserState:t=>e((0,l.setMouseUserState)(t)),setLastActiveTime:()=>e((0,l.setLastActiveTime)()),pageChanged:t=>e((0,u.pageChanged)(t)),prepareToLeaveSwaps:()=>e((0,d.prepareToLeaveSwaps)()),toggleAccountMenu:()=>e((0,l.toggleAccountMenu)()),toggleNetworkMenu:()=>e((0,l.toggleNetworkMenu)()),hideImportNftsModal:()=>e((0,l.hideImportNftsModal)()),hideIpfsModal:()=>e((0,l.hideIpfsModal)()),hideImportTokensModal:()=>e((0,l.hideImportTokensModal)()),hideSelectActionModal:()=>e((0,c.hideSelectActionModal)()),hideShowKeyringSnapRemovalResultModal:()=>e((0,l.hideKeyringRemovalResultModal)())}})))(g.default)}}},{package:"$root$",file:"ui/pages/routes/routes.container.js"}],[5671,{"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/network":4674,"../../../../shared/constants/transaction":4686,"../../../../shared/modules/conversion.utils":4700,"../../../components/app/confirm-gas-display":4766,"../../../components/app/transaction-detail":5070,"../../../components/app/transaction-detail-item":5068,"../../../components/app/user-preferenced-currency-display":5083,"../../../components/ui/actionable-message":5268,"../../../components/ui/box":5271,"../../../components/ui/button":5275,"../../../components/ui/loading-heartbeat":5334,"../../../components/ui/typography":5404,"../../../contexts/gasFee":5411,"../../../contexts/i18n":5412,"../../../contexts/metametrics":5413,"../../../ducks/metamask/metamask":5427,"../../../ducks/send":5429,"../../../helpers/constants/common":5433,"../../../helpers/constants/design-system":5435,"../../../hooks/experiences/useRamps":5479,"../../../selectors":5856,"../../../store/actions":5864,"../send.constants":5707,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=R(e("prop-types")),o=e("../../../contexts/i18n"),i=e("../../../contexts/gasFee"),l=e("../../../helpers/constants/common"),c=R(e("../../../components/app/user-preferenced-currency-display")),u=R(e("../../../components/ui/typography")),d=R(e("../../../components/ui/button")),p=R(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),m=e("../../../../shared/constants/transaction"),g=R(e("../../../components/ui/loading-heartbeat")),h=R(e("../../../components/app/transaction-detail-item")),_=e("../../../components/app/confirm-gas-display"),y=e("../../../../shared/constants/network"),b=R(e("../../../components/app/transaction-detail")),E=R(e("../../../components/ui/actionable-message")),v=e("../../../selectors"),w=e("../send.constants"),T=e("../../../ducks/send"),k=e("../../../ducks/metamask/metamask"),S=e("../../../store/actions"),N=e("../../../../shared/modules/conversion.utils"),x=e("../../../../shared/constants/metametrics"),C=e("../../../contexts/metametrics"),O=R(e("../../../hooks/experiences/useRamps"));function R(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function P({gasError:e}){var t,n,r,R,M,P,I,A,j,D,L,U,F,B;const W=(0,a.useContext)(o.I18nContext),$=(0,s.useDispatch)(),{estimateUsed:q}=(0,i.useGasFeeContext)(),V=(0,a.useContext)(C.MetaMetricsContext),{openBuyCryptoInPdapp:G}=(0,O.default)(),K=(0,s.useSelector)(k.getProviderConfig),H=(0,s.useSelector)(v.getIsTestnet),z=(0,s.useSelector)(v.getIsBuyableChain),Y=(0,s.useSelector)(T.getCurrentDraftTransaction),Q=(0,s.useSelector)(v.getUseCurrencyRateCheck),{showFiatInTestnets:X,useNativeCurrencyAsPrimaryCurrency:J}=(0,s.useSelector)(v.getPreferences),Z=(0,s.useSelector)(v.getUnapprovedTransactions),ee=(0,s.useSelector)(k.getNativeCurrency),{chainId:te}=K,ne=y.NETWORK_TO_NAME_MAP[te],ae=(null==Y||null===(t=Y.amount)||void 0===t?void 0:t.error)===w.INSUFFICIENT_TOKENS_ERROR,se=Z[Y.id],re=ne||K.nickname,oe={txParams:{gasPrice:null===(n=Y.gas)||void 0===n?void 0:n.gasPrice,gas:null!=se&&se.userEditedGasLimit?null==se||null===(r=se.txParams)||void 0===r?void 0:r.gas:null===(R=Y.gas)||void 0===R?void 0:R.gasLimit,maxFeePerGas:null!=se&&null!==(M=se.txParams)&&void 0!==M&&M.maxFeePerGas?null==se||null===(P=se.txParams)||void 0===P?void 0:P.maxFeePerGas:null===(I=Y.gas)||void 0===I?void 0:I.maxFeePerGas,maxPriorityFeePerGas:null!=se&&null!==(A=se.txParams)&&void 0!==A&&A.maxPriorityFeePerGas?null==se||null===(j=se.txParams)||void 0===j?void 0:j.maxPriorityFeePerGas:null===(D=Y.gas)||void 0===D?void 0:D.maxPriorityFeePerGas,value:null===(L=Y.amount)||void 0===L?void 0:L.value,type:Y.transactionType},userFeeLevel:null==se?void 0:se.userFeeLevel},{hexMaximumTransactionFee:ie,hexTransactionTotal:le}=(0,s.useSelector)((e=>(0,v.transactionFeeSelector)(e,oe)));let ce;var ue;if((null==Y||null===(U=Y.asset.details)||void 0===U?void 0:U.standard)===m.TokenStandard.ERC721||(null==Y||null===(F=Y.asset.details)||void 0===F?void 0:F.standard)===m.TokenStandard.ERC1155)ce=null==Y||null===(ue=Y.asset.details)||void 0===ue?void 0:ue.name;else if((null==Y||null===(B=Y.asset.details)||void 0===B?void 0:B.standard)===m.TokenStandard.ERC20){var de;ce=`${(0,N.hexWEIToDecETH)(Y.amount.value)} ${null==Y||null===(de=Y.asset.details)||void 0===de?void 0:de.symbol}`}const pe=`${ce} + ${Number((0,N.hexWEIToDecETH)(ie))} ${ee}`,fe=Q&&(!H||X);let me,ge;return"NATIVE"===(null==Y?void 0:Y.asset.type)?(me=a.default.createElement(p.default,{height:f.BLOCK_SIZES.MAX,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,className:"gas-display__total-value"},a.default.createElement(g.default,{estimateUsed:null==oe?void 0:oe.userFeeLevel}),a.default.createElement(c.default,{type:l.PRIMARY,key:"total-detail-value",value:le,hideLabel:!J})),ge=a.default.createElement(c.default,{type:l.PRIMARY,key:"total-max-amount",value:(0,N.addHexes)(Y.amount.value,ie),hideLabel:!J})):J&&(me=pe,ge=pe),a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{className:"gas-display"},a.default.createElement(b.default,{userAcknowledgedGasMissing:!1,rows:[a.default.createElement(_.ConfirmGasDisplay,{key:"gas-display"}),(e||ae)&&a.default.createElement(h.default,{key:"gas-display-total-item",detailTitle:W("total"),detailText:fe&&a.default.createElement(p.default,{height:f.BLOCK_SIZES.MAX,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,className:"gas-display__total-value"},a.default.createElement(g.default,{estimateUsed:null==oe?void 0:oe.userFeeLevel}),a.default.createElement(c.default,{type:l.SECONDARY,key:"total-detail-text",value:le,hideLabel:Boolean(J)})),detailTotal:me,subTitle:W("transactionDetailGasTotalSubtitle"),subText:a.default.createElement(p.default,{height:f.BLOCK_SIZES.MAX,display:f.DISPLAY.FLEX,flexDirection:f.FLEX_DIRECTION.COLUMN,className:"gas-display__total-amount"},a.default.createElement(g.default,{estimateUsed:(null==oe?void 0:oe.userFeeLevel)??q}),a.default.createElement("strong",{key:"editGasSubTextAmountLabel"},W("editGasSubTextAmountLabel"))," ",ge)})]})),(e||ae)&&re&&a.default.createElement(p.default,{className:"gas-display__warning-message","data-testid":"gas-warning-message"},a.default.createElement(p.default,{paddingTop:0,paddingRight:4,paddingBottom:4,paddingLeft:4,className:"gas-display__confirm-approve-content__warning"},a.default.createElement(E.default,{message:z&&"NATIVE"===Y.asset.type?a.default.createElement(u.default,{variant:f.TypographyVariant.H7,align:"left"},W("insufficientCurrencyBuyOrReceive",[ee,re,a.default.createElement(d.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{G(),V({event:x.MetaMetricsEventName.NavBuyButtonClicked,category:x.MetaMetricsEventCategory.Navigation,properties:{location:"Gas Warning Insufficient Funds",text:"Buy"}})},key:`${ee}-buy-button`},W("buyAsset",[ee])),a.default.createElement(d.default,{type:"inline",className:"gas-display__link",onClick:()=>$((0,S.showModal)({name:"ACCOUNT_DETAILS"})),key:"receive-button"},W("deposit"))])):a.default.createElement(u.default,{variant:f.TypographyVariant.H7,align:"left"},W("insufficientCurrencyBuyOrReceive",[ee,re,`${W("buyAsset",[ee])}`,a.default.createElement(d.default,{type:"inline",className:"gas-display__link",onClick:()=>$((0,S.showModal)({name:"ACCOUNT_DETAILS"})),key:"receive-button"},W("deposit"))])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"}))))}P.propTypes={gasError:r.default.string}}}},{package:"$root$",file:"ui/pages/send/gas-display/gas-display.js"}],[5672,{"./gas-display":5671},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/gas-display/index.js"}],[5673,{"./send":5708},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/index.js"}],[5674,{"../../../../components/app/contact-list":4804,"../../../../components/app/contact-list/recipient-group/recipient-group.component":4805,"../../../../components/component-library":5158,"../../../../components/ui/box":5271,"../../../../components/ui/confusable":5288,"../../../../components/ui/dialog":5295,"../../../../components/ui/identicon":5328,"../../../../helpers/constants/design-system":5435,"../../send.utils":5709,"fuse.js":3487,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=g(e("prop-types")),r=g(e("fuse.js")),o=g(e("../../../../components/ui/identicon")),i=g(e("../../../../components/ui/dialog")),l=g(e("../../../../components/app/contact-list")),c=g(e("../../../../components/app/contact-list/recipient-group/recipient-group.component")),u=e("../../send.utils"),d=g(e("../../../../components/ui/confusable")),p=e("../../../../components/component-library"),f=g(e("../../../../components/ui/box")),m=e("../../../../helpers/constants/design-system");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(e){super(e),_(this,"selectRecipient",((e,t="",n="user input")=>{this.props.addHistoryEntry(`sendFlow - User clicked recipient from ${n}. address: ${e}, nickname ${t}`),this.props.updateRecipient({address:e,nickname:t}),this.props.updateRecipientUserInput(e)})),_(this,"searchForContacts",(()=>{const{userInput:e,contacts:t}=this.props;let n=t;return e&&(this.contactFuse.setCollection(t),n=this.contactFuse.search(e)),n})),_(this,"searchForRecents",(()=>{const{userInput:e,nonContacts:t}=this.props;let n=t;return e&&(this.recentFuse.setCollection(t),n=this.recentFuse.search(e)),n})),this.recentFuse=new r.default(e.nonContacts,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"address",weight:.5}]}),this.contactFuse=new r.default(e.contacts,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"address",weight:.5}]})}render(){const{domainResolution:e,recipient:t,userInput:n,addressBookEntryName:s,ownedAccounts:r=[]}=this.props;let o;return t.address?o=this.renderExplicitAddress(t.address,t.nickname,"validated user input"):e&&!t.error&&(o=this.renderExplicitAddress(e,s||n,"ENS resolution")),a.default.createElement(f.default,{className:"send__select-recipient-wrapper"},r&&r.length>1&&!n&&this.renderTransfer(),this.renderDialogs(),o||this.renderMain())}renderExplicitAddress(e,t,n){return a.default.createElement("div",{key:e,className:"send__select-recipient-wrapper__group-item",onClick:()=>this.selectRecipient(e,t,n)},a.default.createElement(o.default,{address:e,diameter:28}),a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__content"},a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__title"},t?a.default.createElement(d.default,{input:t}):(0,u.ellipsify)(e)),t&&a.default.createElement("div",{className:"send__select-recipient-wrapper__group-item__subtitle"},(0,u.ellipsify)(e))))}renderTransfer(){const{t:e}=this.context;let{ownedAccounts:t}=this.props;const{userInput:n}=this.props;return n&&(t=t.filter((e=>e.name.toLowerCase().indexOf(n.toLowerCase())>-1||e.address.toLowerCase().indexOf(n.toLowerCase())>-1))),a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{marginLeft:4,marginRight:4,marginTop:2,marginBottom:2},a.default.createElement(p.Text,{variant:m.TextVariant.bodyLgMedium,color:m.TextColor.textAlternative},e("yourAccounts"))),a.default.createElement("div",{className:"send__select-recipient-wrapper__list"},a.default.createElement(c.default,{items:t,onSelect:(e,t)=>this.selectRecipient(e,t,"my accounts")})))}renderMain(){const{t:e}=this.context,{addressBook:t,userInput:n}=this.props;return a.default.createElement("div",{className:"send__select-recipient-wrapper__list"},t.length>0&&!n?a.default.createElement(f.default,{marginLeft:4,marginRight:4,marginTop:2,marginBottom:2},a.default.createElement(p.Text,{variant:m.TextVariant.bodyLgMedium,color:m.TextColor.textAlternative},e("contacts"))):null,a.default.createElement(l.default,{addressBook:t,searchForContacts:this.searchForContacts.bind(this),searchForRecents:this.searchForRecents.bind(this),selectRecipient:(e,t)=>{this.selectRecipient(e,t,(t?"contact":"recent")+" list")}}))}renderDialogs(){const{domainError:e,recipient:t,domainWarning:n}=this.props,{t:s}=this.context;return e||t.error&&"required"!==t.error?a.default.createElement(i.default,{type:"error",className:"send__error-dialog"},s(e??t.error)):n||t.warning?a.default.createElement(i.default,{type:"warning",className:"send__error-dialog"},s(n??t.warning)):null}}n.default=y,_(y,"propTypes",{userInput:s.default.string,ownedAccounts:s.default.array,addressBook:s.default.array,updateRecipient:s.default.func,domainResolution:s.default.string,domainError:s.default.string,domainWarning:s.default.string,addressBookEntryName:s.default.string,contacts:s.default.array,nonContacts:s.default.array,addHistoryEntry:s.default.func,recipient:s.default.shape({address:s.default.string,nickname:s.default.string,error:s.default.string,warning:s.default.string}),updateRecipientUserInput:s.default.func}),_(y,"contextTypes",{t:s.default.func,metricsEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/add-recipient.component.js"}],[5675,{"../../../../ducks/domains":5421,"../../../../ducks/send":5429,"../../../../selectors":5856,"./add-recipient.component":5674,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../../selectors"),o=e("../../../../ducks/send"),i=e("../../../../ducks/domains"),l=(a=e("./add-recipient.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){const t=(0,i.getDomainResolution)(e);let n="";if(t){n=((0,r.getAddressBookEntry)(e,t)||{}).name}const a=(0,r.getAddressBook)(e),s=[...(0,r.getCurrentNetworkTransactions)(e)].reverse(),l=a.filter((({name:e})=>!e)).map((e=>{const t=s.find((t=>t.txParams.to===e.address.toLowerCase()));return{...e,timestamp:null==t?void 0:t.time}}));l.sort(((e,t)=>t.timestamp-e.timestamp));const c=(0,r.getMetaMaskAccountsOrdered)(e);return{addressBook:a,addressBookEntryName:n,contacts:a.filter((({name:e})=>Boolean(e))),domainResolution:t,domainError:(0,i.getDomainError)(e),domainWarning:(0,i.getDomainWarning)(e),nonContacts:l,ownedAccounts:c,userInput:(0,o.getRecipientUserInput)(e),recipient:(0,o.getRecipient)(e)}}),(function(e){return{addHistoryEntry:t=>e((0,o.addHistoryEntry)(t)),updateRecipient:({address:t,nickname:n})=>e((0,o.updateRecipient)({address:t,nickname:n})),updateRecipientUserInput:t=>e((0,o.updateRecipientUserInput)(t)),useMyAccountsForRecipientSearch:()=>e((0,o.useMyAccountsForRecipientSearch)()),useContactListForRecipientSearch:()=>e((0,o.useContactListForRecipientSearch)())}}))(l.default)}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/add-recipient.container.js"}],[5676,{"../../../../../app/scripts/lib/util":90,"../../../../../shared/modules/hexstring-utils":4704,"../../../../components/component-library":5158,"../../../../helpers/constants/design-system":5435,"../../../../helpers/utils/util":5476,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=d(e("classnames")),o=e("../../../../../app/scripts/lib/util"),i=e("../../../../helpers/utils/util"),l=e("../../../../../shared/modules/hexstring-utils"),c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"onPaste",(e=>{var t;if(null!==(t=e.clipboardData.items)&&void 0!==t&&t.length){const t=e.clipboardData.items[0];null==t||t.getAsString((e=>{const t=e.trim();!(0,l.isBurnAddress)(t)&&(0,l.isValidHexAddress)(t,{mixedCaseUseChecksum:!0})&&this.props.onPaste((0,o.addHexPrefix)(t))}))}})),f(this,"onChange",(({target:{value:e}})=>{const{onValidAddressTyped:t,internalSearch:n,onChange:a,lookupEnsName:s,resetDomainResolution:r}=this.props,c=e.trim();return a(c),n||((0,i.isValidDomainName)(c)?s(c):(r(),t&&!(0,l.isBurnAddress)(c)&&(0,l.isValidHexAddress)(c,{mixedCaseUseChecksum:!0})&&t((0,o.addHexPrefix)(c)))),null}))}componentDidMount(){this.props.initializeDomainSlice()}render(){const{t:e}=this.context,{className:t,selectedAddress:n,selectedName:s,userInput:o}=this.props,i=Boolean(n);return a.default.createElement("div",{className:(0,r.default)("ens-input",t)},a.default.createElement("div",{className:(0,r.default)("ens-input__wrapper",{"ens-input__wrapper__status-icon--error":!1,"ens-input__wrapper__status-icon--valid":!1,"ens-input__wrapper--valid":i})},i?a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"ens-input__wrapper__input ens-input__wrapper__input--selected"},a.default.createElement("div",{className:"ens-input__selected-input__title"},s||n),s!==n&&a.default.createElement("div",{className:"ens-input__selected-input__subtitle"},n)),a.default.createElement(c.ButtonIcon,{iconName:c.IconName.Close,ariaLabel:e("close"),onClick:this.props.onReset,className:"ens-input__wrapper__action-icon-button",size:c.IconSize.Sm})):a.default.createElement(a.default.Fragment,null,a.default.createElement("input",{className:"ens-input__wrapper__input",type:"text",dir:"auto",placeholder:e("recipientAddressPlaceholder"),onChange:this.onChange,onPaste:this.onPaste,spellCheck:"false",value:n||o,autoFocus:!0,"data-testid":"ens-input"}),a.default.createElement(c.ButtonIcon,{className:"ens-input__wrapper__action-icon-button",onClick:()=>{o?this.props.onReset():this.props.scanQrCode()},iconName:o?c.IconName.Close:c.IconName.Scan,ariaLabel:e(o?"close":"scanQrCode"),color:o?u.IconColor.iconDefault:u.IconColor.primaryDefault}))))}}n.default=m,f(m,"contextTypes",{t:s.default.func,metricsEvent:s.default.func}),f(m,"propTypes",{className:s.default.string,selectedAddress:s.default.string,selectedName:s.default.string,scanQrCode:s.default.func,onPaste:s.default.func,onValidAddressTyped:s.default.func,internalSearch:s.default.bool,userInput:s.default.string,onChange:s.default.func.isRequired,onReset:s.default.func.isRequired,lookupEnsName:s.default.func.isRequired,initializeDomainSlice:s.default.func.isRequired,resetDomainResolution:s.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/domain-input.component.js"}],[5677,{"../../../../ducks/domains":5421,"./domain-input.component":5676,lodash:3975,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("lodash"),r=e("react-redux"),o=e("../../../../ducks/domains"),i=(a=e("./domain-input.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)(null,(function(e){return{lookupEnsName:(0,s.debounce)((t=>e((0,o.lookupEnsName)(t))),150),initializeDomainSlice:()=>e((0,o.initializeDomainSlice)()),resetDomainResolution:(0,s.debounce)((()=>e((0,o.resetDomainResolution)())),300)}}))(i.default)}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/domain-input.container.js"}],[5678,{"./domain-input.container":5677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./domain-input.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/domain-input.js"}],[5679,{"./add-recipient.container":5675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./add-recipient.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/add-recipient/index.js"}],[5680,{"./send-content.container":5690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-content.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/index.js"}],[5681,{"../../../../../../shared/constants/metametrics":4673,"../../../../../contexts/metametrics":5413,"../../../../../ducks/send":5429,"../../../../../hooks/useI18nContext":5500,classnames:2857,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useSelector)(i.isSendFormInvalid),t=(0,o.useSelector)(i.getSendMaxModeState),n=(0,o.useDispatch)(),a=(0,s.useContext)(c.MetaMetricsContext),d=(0,l.useI18nContext)(),p=e;return s.default.createElement("button",{className:"send-v2__amount-max",disabled:p,onClick:()=>{a({event:'Clicked "Amount Max"',category:u.MetaMetricsEventCategory.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),n((0,i.toggleSendMaxMode)())}},s.default.createElement("input",{type:"checkbox",checked:t,readOnly:!0}),s.default.createElement("div",{className:(0,r.default)("send-v2__amount-max__button",{"send-v2__amount-max__button__disabled":p})},d("max")))};var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("classnames"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../../../../../ducks/send"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../contexts/metametrics"),u=e("../../../../../../shared/constants/metametrics");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/amount-max-button/amount-max-button.js"}],[5682,{"./amount-max-button":5681},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./amount-max-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/amount-max-button/index.js"}],[5683,{"./send-amount-row.container":5685},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-amount-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/index.js"}],[5684,{"../../../../../shared/constants/transaction":4686,"../../../../components/app/user-preferenced-currency-input":5085,"../../../../components/app/user-preferenced-token-input":5088,"../send-row-wrapper":5697,"./amount-max-button":5682,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=u(e("prop-types")),r=u(e("../send-row-wrapper")),o=u(e("../../../../components/app/user-preferenced-currency-input")),i=u(e("../../../../components/app/user-preferenced-token-input")),l=e("../../../../../shared/constants/transaction"),c=u(e("./amount-max-button"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(...e){super(...e),p(this,"handleChange",(e=>{this.props.updateSendAmount(e)}))}renderInput(){const{amount:e,inError:t,asset:n}=this.props;return n.type===l.AssetType.token?a.default.createElement(i.default,{error:t,onChange:this.handleChange,token:n.details,value:e}):a.default.createElement(o.default,{error:t,onChange:this.handleChange,hexValue:e})}render(){const{inError:e,asset:t}=this.props;return t.type===l.AssetType.NFT?null:a.default.createElement(r.default,{label:`${this.context.t("amount")}:`,showError:e,errorType:"amount"},a.default.createElement(c.default,{inError:e}),this.renderInput())}}n.default=f,p(f,"propTypes",{amount:s.default.string,inError:s.default.bool,asset:s.default.object,updateSendAmount:s.default.func}),p(f,"contextTypes",{t:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/send-amount-row.component.js"}],[5685,{"../../../../ducks/send":5429,"./send-amount-row.component":5684,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../../ducks/send"),o=(a=e("./send-amount-row.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){return{amount:(0,r.getSendAmount)(e),inError:(0,r.sendAmountIsInError)(e),asset:(0,r.getSendAsset)(e)}}),(function(e){return{updateSendAmount:t=>e((0,r.updateSendAmount)(t))}}))(o.default)}}},{package:"$root$",file:"ui/pages/send/send-content/send-amount-row/send-amount-row.container.js"}],[5686,{"./send-asset-row.container":5688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-asset-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-asset-row/index.js"}],[5687,{"../../../../../shared/constants/metametrics":4673,"../../../../../shared/constants/transaction":4686,"../../../../../shared/modules/string-utils":4713,"../../../../components/app/token-list-display":5040,"../../../../components/app/user-preferenced-currency-display":5083,"../../../../components/component-library":5158,"../../../../components/ui/identicon":5328,"../../../../components/ui/token-balance":5395,"../../../../helpers/constants/common":5433,"../../../../helpers/constants/design-system":5435,"../send-row-wrapper":5697,lodash:3975,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=_(e("prop-types")),r=e("lodash"),o=_(e("../send-row-wrapper")),i=_(e("../../../../components/ui/identicon")),l=_(e("../../../../components/ui/token-balance")),c=_(e("../../../../components/app/token-list-display")),u=_(e("../../../../components/app/user-preferenced-currency-display")),d=e("../../../../helpers/constants/common"),p=e("../../../../../shared/modules/string-utils"),f=e("../../../../../shared/constants/metametrics"),m=e("../../../../../shared/constants/transaction"),g=e("../../../../components/component-library"),h=e("../../../../helpers/constants/design-system");function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.Component{constructor(...e){super(...e),b(this,"state",{isShowingDropdown:!1,sendableTokens:[],sendableNfts:[]}),b(this,"openDropdown",(()=>this.setState({isShowingDropdown:!0}))),b(this,"closeDropdown",(()=>this.setState({isShowingDropdown:!1}))),b(this,"getAssetSelected",((e,t)=>{switch(e){case m.AssetType.native:return this.props.nativeCurrency;case m.AssetType.token:return m.TokenStandard.ERC20;case m.AssetType.NFT:return null==t?void 0:t.standard;default:return null}})),b(this,"selectToken",((e,t)=>{this.setState({isShowingDropdown:!1},(()=>{this.context.trackEvent({category:f.MetaMetricsEventCategory.Transactions,event:'User clicks "Assets" dropdown',properties:{action:"Send Screen",legacy_event:!0,assetSelected:this.getAssetSelected(e,t)}}),this.props.updateSendAsset({type:e,details:e===m.AssetType.native?null:t})}))}))}async componentDidMount(){const e=this.props.tokens.filter((e=>!e.isERC721)),t=this.props.nfts.filter((e=>e.isCurrentlyOwned&&e.standard===m.TokenStandard.ERC721)),n=(0,r.chain)(t).groupBy("address").mapValues((e=>e.sort(((e,t)=>e.tokenId-t.tokenId)))).values().flatten().value();this.setState({sendableTokens:e,sendableNfts:n})}render(){const{t:e}=this.context;return a.default.createElement(o.default,{label:`${e("asset")}:`},a.default.createElement("div",{className:"send-v2__asset-dropdown"},a.default.createElement("div",{className:"send-v2__asset-dropdown__input-wrapper",onClick:this.openDropdown},this.renderSendAsset()),[...this.state.sendableTokens,...this.state.sendableNfts].length>0?this.renderAssetDropdown():null))}renderSendAsset(){const{sendAsset:{details:e,type:t},tokens:n,nfts:a}=this.props;if(t===m.AssetType.token){const t=n.find((({address:t})=>(0,p.isEqualCaseInsensitive)(t,e.address)));return t?this.renderToken(t):this.renderToken(e)}if(t===m.AssetType.NFT){const t=a.find((({address:t,tokenId:n})=>(0,p.isEqualCaseInsensitive)(t,e.address)&&n===e.tokenId));if(t||e)return this.renderNft(t??e)}return this.renderNativeCurrency()}renderAssetDropdown(){return this.state.isShowingDropdown&&a.default.createElement("div",null,a.default.createElement("div",{className:"send-v2__asset-dropdown__close-area",onClick:this.closeDropdown}),a.default.createElement("div",{className:"send-v2__asset-dropdown__list"},this.renderNativeCurrency(!0),a.default.createElement(c.default,{clickHandler:e=>this.selectToken(m.AssetType.token,e)}),this.state.sendableNfts.map((e=>this.renderNft(e,!0)))))}renderNativeCurrency(e=!1){const{t:t}=this.context,{accounts:n,selectedAddress:s,nativeCurrency:r,nativeCurrencyImage:o}=this.props,{sendableTokens:l,sendableNfts:c}=this.state,p=n[s]?n[s].balance:"",f=[...l,...c];return a.default.createElement("div",{className:f.length>0?"send-v2__asset-dropdown__asset":"send-v2__asset-dropdown__single-asset",onClick:()=>this.selectToken(m.AssetType.native)},a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},a.default.createElement(i.default,{diameter:36,image:o,address:r})),a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},a.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},r),a.default.createElement("div",{className:"send-v2__asset-dropdown__name"},a.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${t("balance")}:`),a.default.createElement(u.default,{value:p,type:d.PRIMARY}))),!e&&f.length>0&&a.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}renderToken(e,t=!1){const{address:n,symbol:s,image:r}=e,{t:o}=this.context;return a.default.createElement("div",{key:n,className:"send-v2__asset-dropdown__asset",onClick:()=>this.selectToken(m.AssetType.token,e)},a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},a.default.createElement(i.default,{address:n,diameter:36,image:r})),a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},a.default.createElement("div",{className:"send-v2__asset-dropdown__symbol"},s),a.default.createElement("div",{className:"send-v2__asset-dropdown__name"},a.default.createElement("span",{className:"send-v2__asset-dropdown__name__label"},`${o("balance")}:`),a.default.createElement(l.default,{token:e}))),!t&&a.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}renderNft(e,t=!1){const{address:n,name:s,image:r,tokenId:o}=e,{t:l}=this.context,c=this.props.collections.find((e=>e.address===n)),u=(null==c?void 0:c.name)||s;return a.default.createElement("div",{key:n,className:"send-v2__asset-dropdown__asset",onClick:()=>this.selectToken(m.AssetType.NFT,e)},a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-icon"},a.default.createElement(i.default,{address:n,diameter:36,image:r})),a.default.createElement("div",{className:"send-v2__asset-dropdown__asset-data"},a.default.createElement("div",{className:"send-v2__asset-dropdown__symbol",title:u},u),a.default.createElement(g.Text,{variant:h.TextVariant.bodyXs,ellipsis:!0,title:o},`${l("tokenId")}: ${o}`)),!t&&a.default.createElement("i",{className:"fa fa-caret-down fa-lg send-v2__asset-dropdown__caret"}))}}n.default=E,b(E,"propTypes",{tokens:s.default.arrayOf(s.default.shape({address:s.default.string,decimals:s.default.oneOfType([s.default.string,s.default.number]),symbol:s.default.string,image:s.default.string})).isRequired,accounts:s.default.object.isRequired,selectedAddress:s.default.string.isRequired,sendAsset:s.default.object,updateSendAsset:s.default.func.isRequired,nativeCurrency:s.default.string,nativeCurrencyImage:s.default.string,nfts:s.default.arrayOf(s.default.shape({address:s.default.string.isRequired,tokenId:s.default.string.isRequired,name:s.default.string,description:s.default.string,image:s.default.string,standard:s.default.string,imageThumbnail:s.default.string,imagePreview:s.default.string,creator:s.default.shape({address:s.default.string,config:s.default.string,profile_img_url:s.default.string})})),collections:s.default.arrayOf(s.default.shape({address:s.default.string.isRequired,name:s.default.string}))}),b(E,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-asset-row/send-asset-row.component.js"}],[5688,{"../../../../ducks/metamask/metamask":5427,"../../../../ducks/send":5429,"../../../../selectors":5856,"./send-asset-row.component":5687,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../../ducks/metamask/metamask"),o=e("../../../../selectors"),i=e("../../../../ducks/send"),l=(a=e("./send-asset-row.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){return{tokens:e.metamask.tokens,selectedAddress:e.metamask.selectedAddress,nfts:(0,r.getNfts)(e),collections:(0,r.getNftContracts)(e),sendAsset:(0,i.getSendAsset)(e),accounts:(0,o.getMetaMaskAccounts)(e),nativeCurrency:(0,r.getNativeCurrency)(e),nativeCurrencyImage:(0,o.getNativeCurrencyImage)(e)}}),(function(e){return{updateSendAsset:({type:t,details:n})=>e((0,i.updateSendAsset)({type:t,details:n}))}}))(l.default)}}},{package:"$root$",file:"ui/pages/send/send-content/send-asset-row/send-asset-row.container.js"}],[5689,{"../../../../shared/constants/transaction":4686,"../../../components/ui/actionable-message":5268,"../../../components/ui/dialog":5295,"../../../components/ui/page-container/page-container-content.component":5357,"../../../helpers/constants/common":5433,"../../../helpers/constants/error-keys":5436,"../gas-display":5672,"./send-amount-row":5683,"./send-asset-row":5686,"./send-gas-row":5691,"./send-hex-data-row":5694,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=h(e("prop-types")),r=h(e("../../../components/ui/page-container/page-container-content.component")),o=h(e("../../../components/ui/dialog")),i=h(e("../../../components/ui/actionable-message")),l=e("../../../helpers/constants/error-keys"),c=e("../../../../shared/constants/transaction"),u=e("../../../helpers/constants/common"),d=h(e("../gas-display")),p=h(e("./send-amount-row")),f=h(e("./send-hex-data-row")),m=h(e("./send-asset-row")),g=h(e("./send-gas-row"));function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends a.Component{render(){const{warning:e,error:t,gasIsExcessive:n,isEthGasPrice:s,noGasPrice:o,networkOrAccountNotSupports1559:i,asset:u,assetError:h,recipient:_,recipientWarningAcknowledged:y,isMultiLayerFeeNetwork:b}=this.props;let E;n?E=l.GAS_PRICE_EXCESSIVE_ERROR_KEY:o&&(E=l.GAS_PRICE_FETCH_FAILURE_ERROR_KEY);const v=this.props.showHexData&&u.type!==c.AssetType.token&&u.type!==c.AssetType.NFT,w="knownAddressRecipient"===_.warning;return a.default.createElement(r.default,null,a.default.createElement("div",{className:"send-v2__form"},h?this.renderError(h):null,s?this.renderWarning(l.ETH_GAS_PRICE_FETCH_WARNING_KEY):null,t?this.renderError(t):null,e?this.renderWarning():null,w&&!y?this.renderRecipientWarning():null,a.default.createElement(m.default,null),a.default.createElement(p.default,null),i?a.default.createElement(g.default,null):null,v?a.default.createElement(f.default,null):null,!b&&a.default.createElement(d.default,{gasError:E})))}renderWarning(e=""){const{t:t}=this.context,{warning:n}=this.props;return a.default.createElement(o.default,{type:"warning",className:"send__error-dialog"},t(""===e?n:e))}renderRecipientWarning(){const{acknowledgeRecipientWarning:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"send__warning-container","data-testid":"send-warning"},a.default.createElement(i.default,{type:"danger",useIcon:!0,iconFillColor:"var(--color-error-default)",primaryActionV2:{label:t("tooltipApproveButton"),onClick:e},message:t("sendingToTokenContractWarning",[a.default.createElement("a",{key:"contractWarningSupport",target:"_blank",rel:"noopener noreferrer",className:"send__warning-container__link",href:u.CONTRACT_ADDRESS_LINK},t("learnMoreUpperCase"))]),roundedButtons:!0}))}renderError(e){const{t:t}=this.context;return a.default.createElement(o.default,{type:"error",className:"send__error-dialog"},t(e))}}n.default=b,y(b,"contextTypes",{t:s.default.func}),y(b,"propTypes",{showHexData:s.default.bool,warning:s.default.string,error:s.default.string,gasIsExcessive:s.default.bool.isRequired,isEthGasPrice:s.default.bool,noGasPrice:s.default.bool,networkOrAccountNotSupports1559:s.default.bool,asset:s.default.object,assetError:s.default.string,recipient:s.default.object,acknowledgeRecipientWarning:s.default.func,recipientWarningAcknowledged:s.default.bool,isMultiLayerFeeNetwork:s.default.bool})}}},{package:"$root$",file:"ui/pages/send/send-content/send-content.component.js"}],[5690,{"../../../ducks/send":5429,"../../../selectors":5856,"./send-content.component":5689,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../selectors"),o=e("../../../ducks/send"),i=(a=e("./send-content.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){const t=(0,o.getRecipient)(e),n=(0,o.getRecipientWarningAcknowledgement)(e);return{isEthGasPrice:(0,r.getIsEthGasPriceFetched)(e),noGasPrice:(0,r.getNoGasPriceFetched)(e),networkOrAccountNotSupports1559:(0,r.checkNetworkOrAccountNotSupports1559)(e),getIsBalanceInsufficient:(0,o.getIsBalanceInsufficient)(e),asset:(0,o.getSendAsset)(e),assetError:(0,o.getAssetError)(e),recipient:t,recipientWarningAcknowledged:n,isMultiLayerFeeNetwork:(0,r.getIsMultiLayerFeeNetwork)(e)}}),(function(e){return{acknowledgeRecipientWarning:()=>e((0,o.acknowledgeRecipientWarning)())}}))(i.default)}}},{package:"$root$",file:"ui/pages/send/send-content/send-content.container.js"}],[5691,{"./send-gas-row.container":5693},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-gas-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-gas-row/index.js"}],[5692,{"../../../../components/app/advanced-gas-inputs":4742,"../../../../ducks/send":5429,"../send-row-wrapper":5697,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=l(e("prop-types")),r=l(e("../send-row-wrapper")),o=l(e("../../../../components/app/advanced-gas-inputs")),i=e("../../../../ducks/send");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{render(){const{updateGasPrice:e,updateGasLimit:t,gasPrice:n,gasLimit:s,insufficientBalance:l,minimumGasLimit:c,gasInputMode:u}=this.props;return u!==i.GAS_INPUT_MODES.INLINE?null:a.default.createElement(r.default,null,a.default.createElement(o.default,{updateCustomGasPrice:e,updateCustomGasLimit:t,customGasPrice:n,customGasLimit:s,insufficientBalance:l,minimumGasLimit:c,customPriceIsSafe:!0,isSpeedUp:!1}))}}n.default=d,u(d,"propTypes",{updateGasPrice:s.default.func,updateGasLimit:s.default.func,gasInputMode:s.default.oneOf(Object.values(i.GAS_INPUT_MODES)),gasPrice:s.default.string,gasLimit:s.default.string,insufficientBalance:s.default.bool,minimumGasLimit:s.default.string}),u(d,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-gas-row/send-gas-row.component.js"}],[5693,{"../../../../../shared/modules/conversion.utils":4700,"../../../../ducks/gas/gas.duck":5423,"../../../../ducks/send":5429,"./send-gas-row.component":5692,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../../ducks/send"),o=e("../../../../ducks/gas/gas.duck"),i=e("../../../../../shared/modules/conversion.utils"),l=(a=e("./send-gas-row.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){const t=(0,r.getGasPrice)(e),n=(0,r.getGasLimit)(e),a=(0,r.getMinimumGasLimitForSend)(e);return{minimumGasLimit:(0,i.hexToDecimal)(a),gasFeeError:(0,r.gasFeeIsInError)(e),gasLoadingError:(0,r.isSendStateInitialized)(e),gasInputMode:(0,r.getGasInputMode)(e),gasPrice:t,gasLimit:n,insufficientBalance:(0,r.getIsBalanceInsufficient)(e)}}),(function(e){return{updateGasPrice:t=>{e((0,r.updateGasPrice)(t)),e((0,o.setCustomGasPrice)(t))},updateGasLimit:t=>{e((0,r.updateGasLimit)(t)),e((0,o.setCustomGasLimit)(t))}}}))(l.default)}}},{package:"$root$",file:"ui/pages/send/send-content/send-gas-row/send-gas-row.container.js"}],[5694,{"./send-hex-data-row.container":5696},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-hex-data-row.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-hex-data-row/index.js"}],[5695,{"../send-row-wrapper":5697,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=o(e("prop-types")),r=o(e("../send-row-wrapper"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{constructor(...e){super(...e),l(this,"onInput",(e=>{const{updateSendHexData:t}=this.props;t(e.target.value.replace(/\n/gu,"")||null)}))}render(){const{inError:e,data:t}=this.props,{t:n}=this.context;return a.default.createElement(r.default,{label:`${n("hexData")}:`,showError:e,errorType:"amount"},a.default.createElement("textarea",{onInput:this.onInput,placeholder:n("optional"),className:"send-v2__hex-data__input",defaultValue:t||""}))}}n.default=c,l(c,"propTypes",{inError:s.default.bool,data:s.default.string,updateSendHexData:s.default.func.isRequired}),l(c,"contextTypes",{t:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-hex-data-row/send-hex-data-row.component.js"}],[5696,{"../../../../ducks/send":5429,"./send-hex-data-row.component":5695,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../../ducks/send"),o=(a=e("./send-hex-data-row.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){return{data:(0,r.getSendHexData)(e)}}),(function(e){return{updateSendHexData:t=>e((0,r.updateSendHexData)(t))}}))(o.default)}}},{package:"$root$",file:"ui/pages/send/send-content/send-hex-data-row/send-hex-data-row.container.js"}],[5697,{"./send-row-wrapper.component":5701},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-row-wrapper.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/index.js"}],[5698,{"./send-row-error-message.container":5700},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-row-error-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-error-message/index.js"}],[5699,{classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=o(e("prop-types")),r=o(e("classnames"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{render(){const{errors:e,errorType:t}=this.props,n=e[t];return n?a.default.createElement("div",{className:(0,r.default)("send-v2__error",{"send-v2__error-amount":"amount"===t})},this.context.t(n)):null}}n.default=c,l(c,"propTypes",{errors:s.default.object,errorType:s.default.string}),l(c,"contextTypes",{t:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-error-message/send-row-error-message.component.js"}],[5700,{"../../../../../ducks/send":5429,"./send-row-error-message.component":5699,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../../../ducks/send"),o=(a=e("./send-row-error-message.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e,t){return{errors:(0,r.getSendErrors)(e),errorType:t.errorType}}))(o.default)}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-error-message/send-row-error-message.container.js"}],[5701,{"./send-row-error-message":5698,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=o(e("prop-types")),r=o(e("./send-row-error-message"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.Component{renderAmountFormRow(){const{children:e,errorType:t="",label:n,showError:s=!1}=this.props,o=Array.isArray(e)?e[1]||e[0]:e,i=e.length>1?e[0]:null;return a.default.createElement("div",{className:"send-v2__form-row"},a.default.createElement("div",{className:"send-v2__form-label"},n,i),a.default.createElement("div",{className:"send-v2__form-field-container"},a.default.createElement("div",{className:"send-v2__form-field"},o),a.default.createElement("div",null,s?a.default.createElement(r.default,{errorType:t}):null)))}renderFormRow(){const{children:e,errorType:t="",label:n,showError:s=!1}=this.props,o=Array.isArray(e)?e[1]||e[0]:e,i=(Array.isArray(e)&&e.length)>1?e[0]:null;return a.default.createElement("div",{className:"send-v2__form-row"},a.default.createElement("div",{className:"send-v2__form-label"},n,s?a.default.createElement(r.default,{errorType:t}):null,i),a.default.createElement("div",{className:"send-v2__form-field"},o))}render(){const{errorType:e=""}=this.props;return"amount"===e?this.renderAmountFormRow():this.renderFormRow()}}n.default=c,l(c,"propTypes",{children:s.default.node,errorType:s.default.string,label:s.default.string,showError:s.default.bool}),l(c,"contextTypes",{t:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-content/send-row-wrapper/send-row-wrapper.component.js"}],[5702,{"./send-footer.container":5704},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-footer.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-footer/index.js"}],[5703,{"../../../../shared/constants/metametrics":4673,"../../../components/ui/page-container/page-container-footer":5358,"../../../ducks/send":5429,"../../../helpers/constants/routes":5440,"../send.constants":5707,lodash:3975,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=e("lodash"),o=d(e("../../../components/ui/page-container/page-container-footer")),i=e("../../../helpers/constants/routes"),l=e("../../../../shared/constants/metametrics"),c=e("../../../ducks/send"),u=e("../send.constants");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{onCancel(){const{cancelTx:e,draftTransactionID:t,history:n,mostRecentOverviewPage:a,resetSendState:s,sendStage:r}=this.props;t&&e({id:t}),s();const o=r===c.SEND_STAGES.EDIT?i.DEFAULT_ROUTE:a;n.push(o)}async onSubmit(e){e.preventDefault();const{sign:t,history:n}=this.props,{trackEvent:a}=this.context,s=t();Promise.resolve(s).then((()=>{a({category:l.MetaMetricsEventCategory.Transactions,event:"Complete",properties:{action:"Edit Screen",legacy_event:!0}}),n.push(i.CONFIRM_TRANSACTION_ROUTE)}))}componentDidUpdate(e){const{sendErrors:t}=this.props,{trackEvent:n}=this.context;if(Object.keys(t).length>0&&!1===(0,r.isEqual)(t,e.sendErrors)){const e=Object.keys(t).find((e=>t[e])),a=t[e];n({category:l.MetaMetricsEventCategory.Transactions,event:"Error",properties:{action:"Edit Screen",legacy_event:!0,errorField:e,errorMessage:a}})}}render(){const{t:e}=this.context,{sendStage:t,sendErrors:n}=this.props;return a.default.createElement(o.default,{onCancel:()=>this.onCancel(),onSubmit:e=>this.onSubmit(e),disabled:this.props.disabled&&n.gasFee!==u.INSUFFICIENT_FUNDS_ERROR,cancelText:t===c.SEND_STAGES.EDIT?e("reject"):e("cancel")})}}n.default=m,f(m,"propTypes",{resetSendState:s.default.func,disabled:s.default.bool.isRequired,history:s.default.object,sign:s.default.func,sendStage:s.default.string,sendErrors:s.default.object,mostRecentOverviewPage:s.default.string.isRequired,cancelTx:s.default.func,draftTransactionID:s.default.string}),f(m,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/send/send-footer/send-footer.component.js"}],[5704,{"../../../ducks/history/history":5424,"../../../ducks/metamask/metamask":5427,"../../../ducks/send":5429,"../../../store/actions":5864,"./send-footer.component":5703,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../ducks/send"),i=e("../../../ducks/history/history"),l=e("../../../ducks/metamask/metamask"),c=(a=e("./send-footer.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)((function(e){return{disabled:(0,o.isSendFormInvalid)(e),to:(0,o.getSendTo)(e),toAccounts:(0,l.getSendToAccounts)(e),sendStage:(0,o.getSendStage)(e),sendErrors:(0,o.getSendErrors)(e),draftTransactionID:(0,o.getDraftTransactionID)(e),mostRecentOverviewPage:(0,i.getMostRecentOverviewPage)(e)}}),(function(e){return{resetSendState:()=>e((0,o.resetSendState)()),cancelTx:t=>e((0,r.cancelTx)(t)),sign:()=>e((0,o.signTransaction)())}}))(c.default)}}},{package:"$root$",file:"ui/pages/send/send-footer/send-footer.container.js"}],[5705,{"./send-header.component":5706},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./send-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/send/send-header/index.js"}],[5706,{"../../../../shared/constants/transaction":4686,"../../../components/ui/page-container/page-container-header":5360,"../../../ducks/history/history":5424,"../../../ducks/send":5429,"../../../hooks/useI18nContext":5500,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useHistory)(),t=(0,r.useSelector)(i.getMostRecentOverviewPage),n=(0,r.useDispatch)(),d=(0,r.useSelector)(c.getSendStage),p=(0,r.useSelector)(c.getSendAsset),f=(0,l.useI18nContext)(),m=(0,r.useSelector)(c.getDraftTransactionExists);let g=(null==p?void 0:p.type)===u.AssetType.native?f("send"):f("sendTokens");!1===m||[c.SEND_STAGES.ADD_RECIPIENT,c.SEND_STAGES.INACTIVE].includes(d)?g=f("sendTo"):d===c.SEND_STAGES.EDIT&&(g=f("edit"));return a.default.createElement(o.default,{className:"send__header",onClose:()=>{n((0,c.resetSendState)()),e.push(t)},title:g,headerCloseText:d===c.SEND_STAGES.EDIT?f("cancelEdit"):f("cancel"),hideClose:d===c.SEND_STAGES.DRAFT})};var a=d(e("react")),s=e("react-router-dom"),r=e("react-redux"),o=d(e("../../../components/ui/page-container/page-container-header")),i=e("../../../ducks/history/history"),l=e("../../../hooks/useI18nContext"),c=e("../../../ducks/send"),u=e("../../../../shared/constants/transaction");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/send/send-header/send-header.component.js"}],[5707,{"../../../shared/constants/common":4667,"../../../shared/constants/gas":4668,"../../../shared/modules/Numeric":4696},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_TRANSFER_FUNCTION_SIGNATURE=n.REQUIRED_ERROR=n.RECIPIENT_TYPES=n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE=n.NEGATIVE_ETH_ERROR=n.MIN_GAS_TOTAL=n.MIN_GAS_PRICE_HEX=n.MIN_GAS_PRICE_GWEI=n.MIN_GAS_PRICE_DEC=n.MIN_GAS_LIMIT_DEC=n.MAX_GAS_LIMIT_DEC=n.KNOWN_RECIPIENT_ADDRESS_WARNING=n.INVALID_RECIPIENT_ADDRESS_NOT_ETH_NETWORK_ERROR=n.INVALID_RECIPIENT_ADDRESS_ERROR=n.INSUFFICIENT_TOKENS_ERROR=n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR=n.INSUFFICIENT_FUNDS_ERROR=n.HIGH_FEE_WARNING_MULTIPLIER=n.ENS_UNKNOWN_ERROR=n.ENS_REGISTRATION_ERROR=n.ENS_NO_ADDRESS_FOR_NAME=n.ENS_NOT_SUPPORTED_ON_NETWORK=n.ENS_NOT_FOUND_ON_NETWORK=n.ENS_ILLEGAL_CHARACTER=n.CONTRACT_ADDRESS_ERROR=n.CONFUSING_ENS_ERROR=void 0;var a=e("../../../shared/constants/gas"),s=e("../../../shared/modules/Numeric"),r=e("../../../shared/constants/common");const o=n.MIN_GAS_PRICE_DEC="0",i=n.MIN_GAS_PRICE_HEX=parseInt(o,10).toString(16);n.MIN_GAS_LIMIT_DEC=new s.Numeric("21000",10),n.MAX_GAS_LIMIT_DEC="7920027",n.HIGH_FEE_WARNING_MULTIPLIER=1.5,n.MIN_GAS_PRICE_GWEI=new s.Numeric(i,16,r.EtherDenomination.WEI).toDenomination(r.EtherDenomination.GWEI).round(1).toPrefixedHexString(),n.MIN_GAS_TOTAL=new s.Numeric(a.MIN_GAS_LIMIT_HEX,16).times(new s.Numeric(i,16,r.EtherDenomination.WEI)).toPrefixedHexString(),n.TOKEN_TRANSFER_FUNCTION_SIGNATURE="0xa9059cbb",n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE="0x23b872dd",n.INSUFFICIENT_FUNDS_ERROR="insufficientFunds",n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR="insufficientFundsForGas",n.INSUFFICIENT_TOKENS_ERROR="insufficientTokens",n.NEGATIVE_ETH_ERROR="negativeETH",n.INVALID_RECIPIENT_ADDRESS_ERROR="invalidAddressRecipient",n.INVALID_RECIPIENT_ADDRESS_NOT_ETH_NETWORK_ERROR="invalidAddressRecipientNotEthNetwork",n.REQUIRED_ERROR="required",n.KNOWN_RECIPIENT_ADDRESS_WARNING="knownAddressRecipient",n.CONTRACT_ADDRESS_ERROR="contractAddressError",n.CONFUSING_ENS_ERROR="confusingEnsDomain",n.ENS_NO_ADDRESS_FOR_NAME="noAddressForName",n.ENS_NOT_FOUND_ON_NETWORK="ensNotFoundOnCurrentNetwork",n.ENS_NOT_SUPPORTED_ON_NETWORK="ensNotSupportedOnNetwork",n.ENS_ILLEGAL_CHARACTER="ensIllegalCharacter",n.ENS_UNKNOWN_ERROR="ensUnknownError",n.ENS_REGISTRATION_ERROR="ensRegistrationError",n.RECIPIENT_TYPES={SMART_CONTRACT:"SMART_CONTRACT",NON_CONTRACT:"NON_CONTRACT"}}}},{package:"$root$",file:"ui/pages/send/send.constants.js"}],[5708,{"../../../shared/constants/metametrics":4673,"../../../shared/constants/transaction":4686,"../../contexts/metametrics":5413,"../../ducks/metamask/metamask":5427,"../../ducks/send":5429,"../../selectors":5856,"../../store/actions":5864,"./send-content":5680,"./send-content/add-recipient":5679,"./send-content/add-recipient/domain-input":5678,"./send-footer":5702,"./send-header":5705,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,a.useRef)(!1),n=(0,s.useSelector)(o.getSendStage),i=(0,s.useSelector)(E),y=(0,s.useSelector)(o.getIsUsingMyAccountForRecipientSearch),b=(0,s.useSelector)(o.getRecipient),v=(0,s.useSelector)(l.getSendHexDataFeatureFlagState),w=(0,s.useSelector)(o.getRecipientUserInput),T=(0,s.useSelector)(o.getDraftTransactionExists),k=(0,r.useLocation)(),S=(0,a.useContext)(u.MetaMetricsContext),N=(0,s.useDispatch)(),x=(0,a.useCallback)((()=>{N((0,o.resetSendState)())}),[N]);let C;(0,a.useEffect)((()=>{!1===T&&!1===t.current&&(t.current=!0,N((0,o.startNewDraftTransaction)({type:p.AssetType.native})))}),[T,N]),(0,a.useEffect)((()=>{window.addEventListener("beforeunload",x)}),[x]),(0,a.useEffect)((()=>{if("?scan=true"===k.search){N((0,c.showQrScanner)());const e=window.location.href.split("?")[0];window.history.pushState({},null,`${e}`),window.location.hash="#send"}}),[k,N]),(0,a.useEffect)((()=>()=>{N((0,o.resetSendState)()),window.removeEventListener("beforeunload",x)}),[N,x]),C=T&&[o.SEND_STAGES.EDIT,o.SEND_STAGES.DRAFT].includes(n)?a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{showHexData:v,gasIsExcessive:i}),a.default.createElement(h.default,{key:"send-footer",history:e})):a.default.createElement(m.default,null);return a.default.createElement("div",{className:"page-container"},a.default.createElement(f.default,{history:e}),a.default.createElement(_.default,{userInput:w,className:"send__to-row",onChange:e=>N((0,o.updateRecipientUserInput)(e)),onValidAddressTyped:async e=>{N((0,o.addHistoryEntry)(`sendFlow - Valid address typed ${e}`)),await N((0,o.updateRecipientUserInput)(e)),N((0,o.updateRecipient)({address:e,nickname:""}))},internalSearch:y,selectedAddress:b.address,selectedName:b.nickname,onPaste:e=>{N((0,o.addHistoryEntry)(`sendFlow - User pasted ${e} into address field`))},onReset:()=>N((0,o.resetRecipientInput)()),scanQrCode:()=>{S({event:"Used QR scanner",category:d.MetaMetricsEventCategory.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),N((0,c.showQrScanner)())}}),C)};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../ducks/send"),i=e("../../selectors"),l=e("../../ducks/metamask/metamask"),c=e("../../store/actions"),u=e("../../contexts/metametrics"),d=e("../../../shared/constants/metametrics"),p=e("../../../shared/constants/transaction"),f=y(e("./send-header")),m=y(e("./send-content/add-recipient")),g=y(e("./send-content")),h=y(e("./send-footer")),_=y(e("./send-content/add-recipient/domain-input"));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const E=e=>(0,i.isCustomPriceExcessive)(e,!0)}}},{package:"$root$",file:"ui/pages/send/send.js"}],[5709,{"../../../app/scripts/lib/util":90,"../../../shared/constants/transaction":4686,"../../../shared/modules/Numeric":4696,"./send.constants":5707,"ethereumjs-abi":3155},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addGasBuffer=function(e,t,n=1.5){const a=new i.Numeric(e,16),s=new i.Numeric(t,16).times(new i.Numeric(.9,10)).round(0),r=a.times(new i.Numeric(n,10)).round(0);if(a.greaterThanOrEqualTo(s))return e;if(r.lessThan(s))return r.toString();return s.toString()},n.ellipsify=function(e,t=6,n=4){if(!e)return"";return`${e.slice(0,t)}...${e.slice(-n)}`},n.generateERC20TransferData=c,n.generateERC721TransferData=u,n.getAssetTransferData=function({sendToken:e,fromAddress:t,toAddress:n,amount:a}){switch(e.standard){case o.TokenStandard.ERC721:return u({toAddress:n,fromAddress:t,tokenId:e.tokenId});case o.TokenStandard.ERC20:default:return c({toAddress:n,amount:a,sendToken:e})}},n.isBalanceSufficient=function({amount:e="0x0",balance:t="0x0",conversionRate:n=1,gasTotal:a="0x0",primaryCurrency:s}){let r=new i.Numeric(e,16).add(new i.Numeric(a,16)),o=new i.Numeric(t,16);null!=s&&(r=r.applyConversionRate(n),o=o.applyConversionRate(n));return o.greaterThanOrEqualTo(r)},n.isTokenBalanceSufficient=function({amount:e="0x0",tokenBalance:t,decimals:n}){const a=new i.Numeric(e,16).shiftedBy(n);return new i.Numeric(t,16).greaterThanOrEqualTo(a)};var a,s=(a=e("ethereumjs-abi"))&&a.__esModule?a:{default:a},r=e("../../../app/scripts/lib/util"),o=e("../../../shared/constants/transaction"),i=e("../../../shared/modules/Numeric"),l=e("./send.constants");function c({toAddress:e="0x0",amount:t="0x0",sendToken:n}){return n?l.TOKEN_TRANSFER_FUNCTION_SIGNATURE+Array.prototype.map.call(s.default.rawEncode(["address","uint256"],[(0,r.addHexPrefix)(e),(0,r.addHexPrefix)(t)]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}function u({toAddress:e="0x0",fromAddress:t="0x0",tokenId:n}){return n?l.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call(s.default.rawEncode(["address","address","uint256"],[(0,r.addHexPrefix)(t),(0,r.addHexPrefix)(e),n]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}}}},{package:"$root$",file:"ui/pages/send/send.utils.js"}],[5710,{"../../../../app/scripts/lib/util":90,"../../../../shared/constants/app":4665,"../../../../shared/constants/hardware-wallets":4669,"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/preferences":4676,"../../../components/component-library":5158,"../../../components/ui/button":5275,"../../../components/ui/dialog":5295,"../../../components/ui/dropdown":5300,"../../../components/ui/text-field":5389,"../../../components/ui/toggle-button":5393,"../../../helpers/constants/design-system":5435,"../../../helpers/constants/zendesk-url":5445,"../../../helpers/utils/export-utils":5459,"../../../helpers/utils/settings-search":5472,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=E(e("prop-types")),r=e("../../../components/component-library"),o=E(e("../../../components/ui/toggle-button")),i=E(e("../../../components/ui/text-field")),l=E(e("../../../components/ui/button")),c=E(e("../../../components/ui/dropdown")),u=E(e("../../../components/ui/dialog")),d=e("../../../helpers/constants/design-system"),p=e("../../../../app/scripts/lib/util"),f=e("../../../../shared/constants/app"),m=e("../../../helpers/utils/settings-search"),g=e("../../../../shared/constants/hardware-wallets"),h=e("../../../../shared/constants/metametrics"),_=e("../../../../shared/constants/preferences"),y=e("../../../helpers/utils/export-utils"),b=E(e("../../../helpers/constants/zendesk-url"));function E(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T="CORRUPT_JSON_FILE";class k extends a.PureComponent{constructor(...e){super(...e),w(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:"",showLedgerTransportWarning:!1,showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null}),w(this,"settingsRefs",Array((0,m.getNumberOfSettingsInSection)(this.context.t,this.context.t("advanced"))).fill(undefined).map((()=>a.default.createRef()))),w(this,"backupUserData",(async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,y.exportAsFile)(e,t,y.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})}))}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}async getTextFromFile(e){return new Promise(((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)}))}async handleFileUpload(e){e.persist();const t=e.target.files[0],n=await this.getTextFromFile(t);e.target.value="";try{const e=await this.props.restoreUserData(n);this.setState({showResultMessage:!0,restoreSuccessful:e,restoreMessage:null})}catch(e){e.message.match(/Unexpected.+JSON/iu)&&this.setState({showResultMessage:!0,restoreSuccessful:!1,restoreMessage:T})}}renderStateLogs(){const{t:e}=this.context,{displayWarning:t}=this.props;return a.default.createElement(r.Box,{className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("stateLogs")),a.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{type:"secondary",large:!0,onClick:()=>{window.logStateString(((n,a)=>{n?t(e("stateLogError")):(0,y.exportAsFile)(`${e("stateLogFileName")}.json`,a,y.ExportableContentType.JSON)}))}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("clearActivity")),a.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{type:"danger",large:!0,className:"settings-tab__button--red",onClick:e=>{e.preventDefault(),this.context.trackEvent({category:h.MetaMetricsEventCategory.Settings,event:h.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:4,"data-testid":"advanced-setting-hex-data"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("showHexData")),a.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:4,"data-testid":"advanced-setting-show-testnet-conversion"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("showFiatConversionInTestnets")),a.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("showTestnetNetworks")),a.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderUseNonceOptIn(){const{t:e}=this.context,{useNonceField:t,setUseNonceField:n}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-custom-nonce",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("nonceField")),a.default.createElement("div",{className:"settings-page__content-description"},e("nonceFieldDescription"))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("autoLockTimeLimit")),a.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),a.default.createElement(l.default,{type:"primary","data-testid":"auto-lockout-button",className:"settings-tab__rpc-save-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderLedgerLiveControl(){const{t:e}=this.context,{ledgerTransportType:t,setLedgerTransportPreference:n,userHasALedgerAccount:s}=this.props,o={LIVE:e("ledgerLive"),WEBHID:e("webhid"),U2F:e("u2f")},i=[{name:o.LIVE,value:g.LedgerTransportTypes.live},{name:o.U2F,value:g.LedgerTransportTypes.u2f}];window.navigator.hid&&i.push({name:o.WEBHID,value:g.LedgerTransportTypes.webhid});const p=window.navigator.hid?o.WEBHID:o.U2F;return a.default.createElement(r.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"ledger-live-control",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("preferredLedgerConnectionType")),a.default.createElement("div",{className:"settings-page__content-description"},e("ledgerConnectionPreferenceDescription",[p,a.default.createElement(l.default,{key:"ledger-connection-settings-learn-more",type:"link",href:b.default.HARDWARE_CONNECTION,target:"_blank",rel:"noopener noreferrer",className:"settings-page__inline-link"},e("learnMore"))]))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(c.default,{id:"select-ledger-transport-type",options:i,selectedOption:t,onChange:async e=>{t===g.LedgerTransportTypes.live&&e===g.LedgerTransportTypes.webhid&&this.setState({showLedgerTransportWarning:!0}),n(e),e===g.LedgerTransportTypes.webhid&&s&&await window.navigator.hid.requestDevice({filters:[{vendorId:g.LEDGER_USB_VENDOR_ID}]})}}),this.state.showLedgerTransportWarning?a.default.createElement(u.default,{type:"message"},a.default.createElement("div",{className:"settings-page__content-item-dialog"},e("ledgerTransportChangeWarning"))):null)))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:d.Display.Flex,flexDirection:d.FlexDirection.Row,justifyContent:d.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("dismissReminderField")),a.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleEthSignControl(){const{t:e,trackEvent:t}=this.context,{disabledRpcMethodPreferences:n,showEthSignModal:s,setDisabledRpcMethodPreference:i}=this.props;return a.default.createElement(r.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-toggle-ethsign",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("toggleEthSignField")),a.default.createElement("div",{className:"settings-page__content-description"},e("toggleEthSignDescriptionField"))),null!=n&&n.eth_sign?a.default.createElement(r.BannerAlert,{severity:d.Severity.Danger,marginTop:3,marginBottom:4,descriptionProps:{variant:d.TextVariant.bodyMd}},e("toggleEthSignBannerDescription")):null,a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.default,{className:"eth-sign-toggle",value:(null==n?void 0:n.eth_sign)||!1,onToggle:e=>{e?(e=>{i("eth_sign",!e),t({category:h.MetaMetricsEventCategory.Settings,event:h.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!1}})})(e):s()},offLabel:e("toggleEthSignOff"),onLabel:e("toggleEthSignOn")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:_.DEFAULT_AUTO_LOCK_TIME_LIMIT.toString(),lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return a.default.createElement(r.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("backupUserData")),a.default.createElement("span",{className:"settings-page__content-description"},e("backupUserDataDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{"data-testid":"backup-button",type:"secondary",large:!0,onClick:()=>this.backupUserData()},e("backup")))))}renderRestoreUserData(){const{t:e}=this.context,{showResultMessage:t,restoreSuccessful:n,restoreMessage:s}=this.state,o=e(n?"restoreSuccessful":"restoreFailed"),i=s===T?e("dataBackupSeemsCorrupt"):o;return a.default.createElement(r.Box,{ref:this.settingsRefs[11],className:"settings-page__content-row","data-testid":"advanced-setting-data-restore",display:d.Display.Flex,flexDirection:d.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("restoreUserData")),a.default.createElement("span",{className:"settings-page__content-description"},e("restoreUserDataDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement("label",{htmlFor:"restore-file",className:"button btn btn--rounded btn-secondary btn--large settings-page__button"},e("restore")),a.default.createElement("input",{id:"restore-file","data-testid":"restore-file",style:{visibility:"hidden"},type:"file",accept:".json",onChange:e=>this.handleFileUpload(e)})),t&&a.default.createElement(r.BannerAlert,{severity:n?r.BannerAlertSeverity.Success:r.BannerAlertSeverity.Danger,description:i,descriptionProps:{"data-testid":"restore-user-data-banner-alert-description"},actionButtonLabel:e("dismiss"),actionButtonOnClick:()=>{this.setState({showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null})}})))}render(){const{warning:e}=this.props,t=(0,p.getPlatform)()!==f.PLATFORM_FIREFOX;return a.default.createElement("div",{className:"settings-page__body"},e?a.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderUseNonceOptIn(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderRestoreUserData(),t?this.renderLedgerLiveControl():null,this.renderDismissSeedBackupReminderControl(),this.renderToggleEthSignControl())}}n.default=k,w(k,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),w(k,"propTypes",{setUseNonceField:s.default.func,useNonceField:s.default.bool,setHexDataFeatureFlag:s.default.func,displayWarning:s.default.func,showResetAccountConfirmationModal:s.default.func,showEthSignModal:s.default.func,warning:s.default.string,sendHexData:s.default.bool,showFiatInTestnets:s.default.bool,showTestNetworks:s.default.bool,autoLockTimeLimit:s.default.number,setAutoLockTimeLimit:s.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:s.default.func.isRequired,setShowTestNetworks:s.default.func.isRequired,ledgerTransportType:s.default.oneOf(Object.values(g.LedgerTransportTypes)),setLedgerTransportPreference:s.default.func.isRequired,setDismissSeedBackUpReminder:s.default.func.isRequired,dismissSeedBackUpReminder:s.default.bool.isRequired,userHasALedgerAccount:s.default.bool.isRequired,backupUserData:s.default.func.isRequired,restoreUserData:s.default.func.isRequired,setDisabledRpcMethodPreference:s.default.func.isRequired,disabledRpcMethodPreferences:s.default.shape({eth_sign:s.default.bool.isRequired})})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[5711,{"../../../../shared/constants/preferences":4676,"../../../ducks/metamask/metamask":5427,"../../../selectors":5856,"../../../store/actions":5864,"./advanced-tab.component":5710,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../ducks/metamask/metamask"),u=e("../../../../shared/constants/preferences"),d=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const p=e=>{const{appState:{warning:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},disabledRpcMethodPreferences:s,useNonceField:r,ledgerTransportType:o,dismissSeedBackUpReminder:i}=n,{showFiatInTestnets:d,showTestNetworks:p,autoLockTimeLimit:f=u.DEFAULT_AUTO_LOCK_TIME_LIMIT}=(0,l.getPreferences)(e);return{warning:t,sendHexData:a,showFiatInTestnets:d,showTestNetworks:p,autoLockTimeLimit:f,useNonceField:r,ledgerTransportType:o,dismissSeedBackUpReminder:i,userHasALedgerAccount:(0,c.doesUserHaveALedgerAccount)(e),disabledRpcMethodPreferences:s}};n.mapStateToProps=p;const f=e=>({backupUserData:()=>(0,i.backupUserData)(),restoreUserData:e=>(0,i.restoreUserData)(e),setHexDataFeatureFlag:t=>e((0,i.setFeatureFlag)("sendHexData",t)),displayWarning:t=>e((0,i.displayWarning)(t)),showResetAccountConfirmationModal:()=>e((0,i.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),showEthSignModal:()=>e((0,i.showModal)({name:"ETH_SIGN"})),setUseNonceField:t=>e((0,i.setUseNonceField)(t)),setShowFiatConversionOnTestnetsPreference:t=>e((0,i.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,i.setShowTestNetworks)(t)),setAutoLockTimeLimit:t=>e((0,i.setAutoLockTimeLimit)(t)),setLedgerTransportPreference:t=>e((0,i.setLedgerTransportPreference)(t)),setDismissSeedBackUpReminder:t=>e((0,i.setDismissSeedBackUpReminder)(t)),setDisabledRpcMethodPreference:(t,n)=>e((0,i.setDisabledRpcMethodPreference)(t,n))});n.mapDispatchToProps=f;n.default=(0,s.compose)(o.withRouter,(0,r.connect)(p,f))(d.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[5712,{"./advanced-tab.container":5711},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[5713,{"../../../../shared/constants/alerts":4664,"../../../components/component-library":5158,"../../../components/ui/toggle-button":5393,"../../../components/ui/tooltip":5400,"../../../ducks/metamask/metamask":5427,"../../../helpers/utils/settings-search":5472,"../../../hooks/useI18nContext":5500,"../../../store/actions":5864,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=m(e("prop-types")),r=e("react-redux"),o=e("../../../../shared/constants/alerts"),i=m(e("../../../components/ui/tooltip")),l=m(e("../../../components/ui/toggle-button")),c=e("../../../store/actions"),u=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/utils/settings-search"),f=e("../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=({alertId:e,description:t,title:n})=>{const s=(0,d.useI18nContext)(),o=(0,a.useRef)();(0,a.useEffect)((()=>{(0,p.handleSettingsRefs)(s,s("alerts"),o)}),[o,s]);const m=(0,r.useSelector)((t=>(0,u.getAlertEnabledness)(t)[e]));return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{ref:o,className:"alerts-tab__item"},a.default.createElement("span",null,n),a.default.createElement("div",{className:"alerts-tab__description-container"},a.default.createElement(i.default,{position:"top",title:t,wrapperClassName:"alerts-tab__description"},a.default.createElement(f.Icon,{name:f.IconName.Info,className:"alerts-tab__description__icon"})),a.default.createElement(l.default,{offLabel:s("off"),onLabel:s("on"),onToggle:()=>(0,c.setAlertEnabledness)(e,!m),value:m}))))};h.propTypes={alertId:s.default.string.isRequired,description:s.default.string.isRequired,title:s.default.string.isRequired};n.default=()=>{const e=(0,d.useI18nContext)(),t={[o.AlertTypes.unconnectedAccount]:{title:e("alertSettingsUnconnectedAccount"),description:e("alertSettingsUnconnectedAccountDescription")},[o.AlertTypes.web3ShimUsage]:{title:e("alertSettingsWeb3ShimUsage"),description:e("alertSettingsWeb3ShimUsageDescription")}};return a.default.createElement("div",{className:"alerts-tab__body"},Object.entries(t).map((([e,{title:t,description:n}],s)=>a.default.createElement(h,{alertId:e,description:n,key:e,title:t}))))}}}},{package:"$root$",file:"ui/pages/settings/alerts-tab/alerts-tab.js"}],[5714,{"./alerts-tab":5713},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./alerts-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/alerts-tab/index.js"}],[5715,{"../../../../../shared/modules/hexstring-utils":4704,"../../../../components/ui/identicon":5328,"../../../../components/ui/page-container/page-container-footer":5358,"../../../../components/ui/text-field":5389,"../../../../helpers/constants/routes":5440,"../../../../helpers/utils/util":5476,"../../../send/send-content/add-recipient/domain-input":5678,"../../../send/send.constants":5707,lodash:3975,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=m(e("prop-types")),r=e("lodash"),o=m(e("../../../../components/ui/identicon")),i=m(e("../../../../components/ui/text-field")),l=e("../../../../helpers/constants/routes"),c=e("../../../../helpers/utils/util"),u=m(e("../../../send/send-content/add-recipient/domain-input")),d=m(e("../../../../components/ui/page-container/page-container-footer")),p=e("../../../../../shared/modules/hexstring-utils"),f=e("../../../send/send.constants");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.PureComponent{constructor(e){super(e),h(this,"state",{newName:"",ethAddress:"",error:"",input:""}),h(this,"validate",(e=>{const t=!(0,p.isBurnAddress)(e)&&(0,p.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,c.isValidDomainName)(e);t||n||""===e?this.setState({error:"",ethAddress:e}):this.setState({error:f.INVALID_RECIPIENT_ADDRESS_ERROR})})),h(this,"onChange",(e=>{this.setState({input:e}),this.dValidate(e)})),this.dValidate=(0,r.debounce)(this.validate,500)}UNSAFE_componentWillReceiveProps(e){if(e.qrCodeData&&"address"===e.qrCodeData.type){const{domainResolution:t}=this.props,n=e.qrCodeData.values.address.toLowerCase();(t||this.state.ethAddress).toLowerCase()!==n&&(this.setState({input:n}),this.validate(n),this.props.qrCodeDetected(null))}}renderInput(){return a.default.createElement(u.default,{scanQrCode:e=>{this.props.scanQrCode()},onChange:this.onChange,onPaste:e=>{this.setState({input:e}),this.validate(e)},onReset:()=>{this.props.resetDomainResolution(),this.setState({ethAddress:"",input:""})},userInput:this.state.input})}render(){const{t:e}=this.context,{history:t,addToAddressBook:n,domainError:s,domainResolution:r}=this.props,c=s||this.state.error;return a.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},r&&a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement(o.default,{address:r,diameter:60}),a.default.createElement("div",{className:"address-book__view-contact__group__value"},r)),a.default.createElement("div",{className:"address-book__add-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("userName")),a.default.createElement(i.default,{type:"text",id:"nickname",value:this.state.newName,onChange:e=>this.setState({newName:e.target.value}),fullWidth:!0,margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("ethereumPublicAddress")),this.renderInput(),c&&a.default.createElement("div",{className:"address-book__add-contact__error"},e(c)))),a.default.createElement(d.default,{cancelText:this.context.t("cancel"),disabled:Boolean(this.state.error||!this.state.ethAddress||!this.state.newName.trim()),onSubmit:async()=>{await n(r||this.state.ethAddress,this.state.newName),t.push(l.CONTACT_LIST_ROUTE)},onCancel:()=>{t.push(l.CONTACT_LIST_ROUTE)},submitText:this.context.t("save")}))}}n.default=_,h(_,"contextTypes",{t:s.default.func}),h(_,"propTypes",{addToAddressBook:s.default.func,history:s.default.object,scanQrCode:s.default.func,qrCodeData:s.default.object,qrCodeDetected:s.default.func,domainResolution:s.default.string,domainError:s.default.string,resetDomainResolution:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[5716,{"../../../../ducks/app/app":5419,"../../../../ducks/domains":5421,"../../../../store/actions":5864,"./add-contact.component":5715,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../ducks/app/app"),c=e("../../../../ducks/domains"),u=(a=e("./add-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,s.compose)(o.withRouter,(0,r.connect)((e=>({qrCodeData:(0,l.getQrCodeData)(e),domainError:(0,c.getDomainError)(e),domainResolution:(0,c.getDomainResolution)(e)})),(e=>({addToAddressBook:(t,n)=>e((0,i.addToAddressBook)(t,n)),scanQrCode:()=>e((0,i.showQrScanner)()),qrCodeDetected:t=>e((0,i.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,c.resetDomainResolution)())}))))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[5717,{"./add-contact.container":5716},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[5718,{"../../../components/app/contact-list":4804,"../../../components/component-library":5158,"../../../helpers/constants/design-system":5435,"../../../helpers/constants/routes":5440,"../../../helpers/utils/settings-search":5472,"./add-contact":5717,"./edit-contact":5722,"./view-contact":5724,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=m(e("prop-types")),r=m(e("classnames")),o=m(e("../../../components/app/contact-list")),i=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=m(e("./edit-contact")),p=m(e("./add-contact")),f=m(e("./view-contact"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingsInSection)(this.context.t,this.context.t("contacts"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{addressBook:e,history:t,selectedAddress:n}=this.props,s=e.filter((({name:e})=>Boolean(e))),r=e.filter((({name:e})=>!e)),{t:l}=this.context;return e.length?a.default.createElement("div",null,a.default.createElement(o.default,{searchForContacts:()=>s,searchForRecents:()=>r,selectRecipient:e=>{t.push(`${i.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:n})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},l("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},l("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{t.push(i.CONTACT_ADD_ROUTE)}},"+ ",l("addContact"))))}renderAddButton(){const{history:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e.push(i.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let s=null;return e?s=f.default:t?s=d.default:n&&(s=p.default),s&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(s,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,addressBook:t,currentPath:n}=this.props;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),n===i.CONTACT_LIST_ROUTE&&!e&&t.length>0?this.renderAddButton():null)}}n.default=_,h(_,"contextTypes",{t:s.default.func}),h(_,"propTypes",{addressBook:s.default.array,history:s.default.object,selectedAddress:s.default.string,viewingContact:s.default.bool,editingContact:s.default.bool,addingContact:s.default.bool,hideAddressBook:s.default.bool,currentPath:s.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[5719,{"../../../helpers/constants/routes":5440,"../../../selectors":5856,"./contact-list-tab.component":5718,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../selectors"),l=e("../../../helpers/constants/routes"),c=(a=e("./contact-list-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,s.compose)(o.withRouter,(0,r.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,s=a.match(/[^/]+$/u)[0],r=s.includes("0x"),o=Boolean(a.match(l.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(l.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(l.CONTACT_ADD_ROUTE)),d=o||c||u;return{viewingContact:o,editingContact:c,addingContact:u,addressBook:(0,i.getAddressBook)(e),selectedAddress:r?s:"",hideAddressBook:d,currentPath:a}})))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[5720,{"../../../../../shared/modules/hexstring-utils":4704,"../../../../components/component-library":5158,"../../../../components/ui/button/button.component":5274,"../../../../components/ui/page-container/page-container-footer":5358,"../../../../components/ui/text-field":5389,"../../../../helpers/constants/design-system":5435,"prop-types":4123,react:4378,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=p(e("prop-types")),r=e("react-router-dom"),o=p(e("../../../../components/ui/button/button.component")),i=p(e("../../../../components/ui/text-field")),l=p(e("../../../../components/ui/page-container/page-container-footer")),c=e("../../../../../shared/modules/hexstring-utils"),u=e("../../../../components/component-library"),d=e("../../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){super(...e),m(this,"state",{newName:this.props.name,newAddress:this.props.address,newMemo:this.props.memo,error:""})}render(){const{t:e}=this.context,{address:t,addToAddressBook:n,chainId:s,history:p,listRoute:f,memo:m,name:g,removeFromAddressBook:h,viewRoute:_}=this.props;return t?a.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact"},a.default.createElement(u.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6},a.default.createElement(u.Box,{display:d.Display.Flex,alignItems:d.AlignItems.center},a.default.createElement(u.AvatarAccount,{size:u.AvatarAccountSize.Lg,address:t}),a.default.createElement(u.Text,{className:"address-book__header__name",variant:d.TextVariant.bodyLgMedium,marginInlineStart:4},g||t)),a.default.createElement(o.default,{type:"link",className:"settings-page__address-book-button",onClick:async()=>{await h(s,t),p.push(f)}},e("deleteContact"))),a.default.createElement("div",{className:"address-book__edit-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("userName")),a.default.createElement(i.default,{type:"text",id:"nickname",placeholder:this.context.t("addAlias"),value:this.state.newName,onChange:e=>this.setState({newName:e.target.value}),fullWidth:!0,margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},e("ethereumPublicAddress")),a.default.createElement(i.default,{type:"text",id:"address",value:this.state.newAddress,error:this.state.error,onChange:e=>this.setState({newAddress:e.target.value}),fullWidth:!0,multiline:!0,rows:4,margin:"dense",classes:{inputMultiline:"address-book__view-contact__address__text-area",inputRoot:"address-book__view-contact__address"}})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},e("memo")),a.default.createElement(i.default,{type:"text",id:"memo",placeholder:m,value:this.state.newMemo,onChange:e=>this.setState({newMemo:e.target.value}),fullWidth:!0,margin:"dense",multiline:!0,rows:3,classes:{inputMultiline:"address-book__view-contact__text-area",inputRoot:"address-book__view-contact__text-area-wrapper"}}))),a.default.createElement(l.default,{cancelText:this.context.t("cancel"),onSubmit:async()=>{""!==this.state.newAddress&&this.state.newAddress!==t?!(0,c.isBurnAddress)(this.state.newAddress)&&(0,c.isValidHexAddress)(this.state.newAddress,{mixedCaseUseChecksum:!0})?(await h(s,t),await n(this.state.newAddress,this.state.newName||g,this.state.newMemo||m),p.push(f)):this.setState({error:this.context.t("invalidAddress")}):(await n(t,this.state.newName||g,this.state.newMemo||m),p.push(f))},onCancel:()=>{p.push(`${_}/${t}`)},submitText:this.context.t("save"),disabled:this.state.newName===g&&this.state.newAddress===t&&this.state.newMemo===m||!this.state.newName.trim()})):a.default.createElement(r.Redirect,{to:{pathname:f}})}}n.default=g,m(g,"contextTypes",{t:s.default.func}),m(g,"propTypes",{addToAddressBook:s.default.func,removeFromAddressBook:s.default.func,history:s.default.object,name:s.default.string,address:s.default.string,chainId:s.default.string,memo:s.default.string,viewRoute:s.default.string,listRoute:s.default.string}),m(g,"defaultProps",{name:"",memo:""})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[5721,{"../../../../ducks/metamask/metamask":5427,"../../../../helpers/constants/routes":5440,"../../../../selectors":5856,"../../../../store/actions":5864,"./edit-contact.component":5720,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),l=e("../../../../ducks/metamask/metamask"),c=e("../../../../helpers/constants/routes"),u=e("../../../../store/actions"),d=(a=e("./edit-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,s.compose)(o.withRouter,(0,r.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,s=a.match(/[^/]+$/u)[0],r=s.includes("0x")?s.toLowerCase():t.match.params.id,o=(0,i.getAddressBookEntry)(e,r)||e.metamask.identities[r],{memo:u,name:d}=o||{},{chainId:p}=(0,l.getProviderConfig)(e);return{address:o?r:null,chainId:p,name:d,memo:u,viewRoute:c.CONTACT_VIEW_ROUTE,listRoute:c.CONTACT_LIST_ROUTE}}),(e=>({addToAddressBook:(t,n,a)=>e((0,u.addToAddressBook)(t,n,a)),removeFromAddressBook:(t,n)=>e((0,u.removeFromAddressBook)(t,n))}))))(d.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[5722,{"./edit-contact.container":5721},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[5723,{"./contact-list-tab.container":5719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[5724,{"./view-contact.container":5726},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[5725,{"../../../../components/component-library":5158,"../../../../components/ui/button/button.component":5274,"../../../../components/ui/tooltip":5400,"../../../../helpers/constants/design-system":5435,"../../../../hooks/useCopyToClipboard":5493,"../../../../hooks/useI18nContext":5500,"prop-types":4123,react:4378,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),s=p(e("prop-types")),r=e("react-router-dom"),o=p(e("../../../../components/ui/button/button.component")),i=e("../../../../components/component-library"),l=p(e("../../../../components/ui/tooltip")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../hooks/useCopyToClipboard"),d=e("../../../../helpers/constants/design-system");function p(e){return e&&e.__esModule?e:{default:e}}function f({history:e,name:t,address:n,checkSummedAddress:s,memo:p,editRoute:f,listRoute:m}){const g=(0,c.useI18nContext)(),[h,_]=(0,u.useCopyToClipboard)();return n?a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(i.Box,{className:"settings-page__header address-book__header",paddingLeft:6},a.default.createElement(i.AvatarAccount,{size:i.AvatarAccountSize.Lg,address:n}),a.default.createElement(i.Text,{className:"address-book__header__name",variant:d.TextVariant.bodyLgMedium,marginInlineStart:4},t||n)),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement(o.default,{type:"secondary",onClick:()=>{e.push(`${f}/${n}`)}},g("edit"))),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},g("ethereumPublicAddress")),a.default.createElement("div",{className:"address-book__view-contact__group__value"},a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(s)),a.default.createElement(l.default,{position:"bottom",title:g(h?"copiedExclamation":"copyToClipboard")},a.default.createElement(i.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:()=>{_(s)},iconName:h?i.IconName.CopySuccess:i.IconName.Copy,size:i.ButtonIconSize.Lg,color:d.IconColor.primaryDefault})))),p.length>0?a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},g("memo")),a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},p)):null)):a.default.createElement(r.Redirect,{to:{pathname:m}})}f.propTypes={name:s.default.string,address:s.default.string,history:s.default.object,checkSummedAddress:s.default.string,memo:s.default.string,editRoute:s.default.string,listRoute:s.default.string.isRequired};n.default=a.default.memo(f)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[5726,{"../../../../../shared/modules/hexstring-utils":4704,"../../../../helpers/constants/routes":5440,"../../../../selectors":5856,"./view-contact.component":5725,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../../selectors"),l=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/modules/hexstring-utils"),u=(a=e("./view-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,s.compose)(o.withRouter,(0,r.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,s=a.match(/[^/]+$/u)[0],r=s.includes("0x")?s.toLowerCase():t.match.params.id,o=(0,i.getAddressBookEntry)(e,r)||e.metamask.identities[r],{memo:u,name:d}=o||{};return{name:d,address:o?r:null,checkSummedAddress:(0,c.toChecksumHexAddress)(r),memo:u,editRoute:l.CONTACT_EDIT_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}})))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[5727,{"../../../../shared/constants/metametrics":4673,"../../../../shared/lib/ui-utils":4695,"../../../components/component-library":5158,"../../../components/ui/toggle-button":5393,"../../../helpers/constants/design-system":5435,"../../../helpers/utils/settings-search":5472,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=d(e("../../../components/ui/toggle-button")),o=e("../../../helpers/utils/settings-search"),i=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../../shared/lib/ui-utils");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),f(this,"settingsRefs",Array((0,o.getNumberOfSettingsInSection)(this.context.t,this.context.t("experimental"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,o.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}toggleSecurityAlert(e){const t=!e,{setSecurityAlertsEnabled:n,transactionSecurityCheckEnabled:a}=this.props;this.context.trackEvent({category:i.MetaMetricsEventCategory.Settings,event:"Enabled/Disable security_alerts_enabled",properties:{action:"Enabled/Disable security_alerts_enabled",legacy_event:!0}}),n(t),t&&a&&this.toggleTransactionSecurityCheck(!0)}toggleTransactionSecurityCheck(e){const t=!e,{securityAlertsEnabled:n,setTransactionSecurityCheckEnabled:a}=this.props;this.context.trackEvent({category:i.MetaMetricsEventCategory.Settings,event:"Enabled/Disable TransactionSecurityCheck",properties:{action:"Enabled/Disable TransactionSecurityCheck",legacy_event:!0}}),a(t),t&&n&&this.toggleSecurityAlert&&this.toggleSecurityAlert(!0)}renderSecurityAlertsToggle(){const{t:e}=this.context,{securityAlertsEnabled:t,transactionSecurityCheckEnabled:n}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,color:c.TextColor.textAlternative,marginBottom:2},e("security")),a.default.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row settings-page__content-row-experimental"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(l.Text,{variant:c.TextVariant.inherit,color:c.TextColor.textAlternative},e("securityAlerts")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm},e("securityAlertsDescription")),a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySmBold,color:c.TextColor.textAlternative,marginTop:4},e("preferredProvider")),a.default.createElement("div",{"data-testid":"settings-toggle-security-alert-blockaid",className:"settings-page__content-item-col settings-page__content-item-col__security-toggle-option"},a.default.createElement("div",null,a.default.createElement(l.Box,{display:c.Display.Flex},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},e("blockaid")),a.default.createElement(l.Tag,{marginLeft:2,label:"Recommended"})),a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative,marginTop:0,marginRight:1},e("blockaidMessage",[a.default.createElement(l.ButtonLink,{variant:"bodyMd",href:u.BLOCKAID_TERMS_OF_USE,externalLink:!0,key:"blockaid-terms-of-use"},e("terms"))]))),a.default.createElement(r.default,{value:t,onToggle:this.toggleSecurityAlert.bind(this)}))),a.default.createElement("div",{className:"settings-page__content-item-col settings-page__content-item-col__security-toggle-option"},a.default.createElement("div",null,a.default.createElement(l.Box,{display:c.Display.Flex},a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textDefault},e("openSeaLabel")),a.default.createElement(l.Tag,{marginLeft:2,label:"Beta"})),a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative,marginTop:0,marginRight:1},e("openSeaMessage",[a.default.createElement(l.ButtonLink,{variant:"bodyMd",href:u.OPENSEA_TERMS_OF_USE,externalLink:!0,key:"opensea-terms-of-use"},e("terms"))]))),a.default.createElement(r.default,{value:n,onToggle:this.toggleTransactionSecurityCheck.bind(this)}))))))}render(){return a.default.createElement("div",{className:"settings-page__body"},this.renderSecurityAlertsToggle())}}n.default=m,f(m,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),f(m,"propTypes",{transactionSecurityCheckEnabled:s.default.bool,setTransactionSecurityCheckEnabled:s.default.func,securityAlertsEnabled:s.default.bool,setSecurityAlertsEnabled:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.js"}],[5728,{"../../../selectors":5856,"../../../store/actions":5864,"./experimental-tab.component":5727,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),c=(a=e("./experimental-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,s.compose)(o.withRouter,(0,r.connect)((e=>({transactionSecurityCheckEnabled:(0,l.getIsTransactionSecurityCheckEnabled)(e),securityAlertsEnabled:(0,l.getIsSecurityAlertsEnabled)(e),addSnapAccountEnabled:(0,l.getIsAddSnapAccountEnabled)(e)})),(e=>({setTransactionSecurityCheckEnabled:t=>e((0,i.setTransactionSecurityCheckEnabled)(t)),setSecurityAlertsEnabled:e=>(0,i.setSecurityAlertsEnabled)(e),setAddSnapAccountEnabled:e=>(0,i.setAddSnapAccountEnabled)(e)}))))(c.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.js"}],[5729,{"./experimental-tab.container":5728},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./experimental-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[5730,{"./settings.container":5759},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./settings.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[5731,{"./info-tab.component":5732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./info-tab.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[5732,{"../../../../shared/constants/metametrics":4673,"../../../../shared/lib/ui-utils":4695,"../../../components/component-library":5158,"../../../components/ui/button":5275,"../../../helpers/constants/common":5433,"../../../helpers/utils/build-types":5456,"../../../helpers/utils/settings-search":5472,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=p(e("prop-types")),r=p(e("../../../components/ui/button")),o=e("../../../components/component-library"),i=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=e("../../../../shared/lib/ui-utils");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){var t;super(...e),m(this,"state",{version:(null===(t=global.platform)||void 0===t?void 0:t.getVersion())??"<unknown>"}),m(this,"settingsRefs",Array((0,c.getNumberOfSettingsInSection)(this.context.t,this.context.t("about"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;let t,n;return t="https://metamask.io/privacy.html",n="https://metamask.io/",a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),a.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),a.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?a.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),a.default.createElement(o.Tag,{label:e("new"),className:"info-tab__tag"}))):null,a.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/attributions.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),a.default.createElement("hr",{className:"info-tab__separator"}),a.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:d.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:d.SUPPORT_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("supportCenter"))),a.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),a.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:i.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:i.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),a.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),a.default.createElement("div",{className:"info-tab__logo-wrapper"},a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})))}}n.default=g,m(g,"contextTypes",{t:s.default.func,trackEvent:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[5733,{"../../../../components/component-library":5158,"../../../../components/ui/icon/search-icon":5322,"../../../../components/ui/text-field":5389,"../../../../contexts/i18n":5412,"@material-ui/core/InputAdornment":704,"fuse.js":3487,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=d(e("fuse.js")),o=d(e("@material-ui/core/InputAdornment")),i=d(e("../../../../components/ui/text-field")),l=e("../../../../contexts/i18n"),c=d(e("../../../../components/ui/icon/search-icon")),u=e("../../../../components/component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({onSearch:e,error:t,networksList:n,searchQueryInput:s}){const d=(0,a.useContext)(l.I18nContext),[p,f]=(0,a.useState)("var(--color-icon-muted)"),m=Object.values(n),g=new r.default(m,{shouldSort:!0,threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label","labelKey"]}),h=async t=>{f(""===t?"var(--color-icon-muted)":"var(--color-icon-alternative)");const n=g.search(t),a=t?[...n]:m;await e({searchQuery:t,results:a})};return a.default.createElement(i.default,{id:"search-networks","data-testid":"search-networks",placeholder:d("customContentSearch"),type:"text",value:s,onChange:e=>h(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",classes:{inputRoot:"networks-tab__networks-list__custom-search-network"},startAdornment:a.default.createElement(o.default,{position:"start"},a.default.createElement(c.default,{color:p})),endAdornment:a.default.createElement(a.default.Fragment,null,s&&a.default.createElement(o.default,{className:"imageclosectn",position:"end",onClick:()=>h("")},a.default.createElement(u.Icon,{name:u.IconName.Close,className:"networks-tab__imageclose"})))})}f.propTypes={onSearch:s.default.func,error:s.default.string,networksList:s.default.array,searchQueryInput:s.default.string}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/custom-content-search/custom-content-search.js"}],[5734,{"./custom-content-search":5733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./custom-content-search"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/custom-content-search/index.js"}],[5735,{"./networks-tab":5747},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./networks-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/index.js"}],[5736,{"./networks-form":5737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./networks-form"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[5737,{"../../../../../app/scripts/lib/util":90,"../../../../../shared/constants/metametrics":4673,"../../../../../shared/constants/network":4674,"../../../../../shared/lib/fetch-with-cache":4688,"../../../../../shared/modules/conversion.utils":4700,"../../../../../shared/modules/network.utils":4707,"../../../../../shared/modules/rpc.utils":4710,"../../../../components/ui/actionable-message":5268,"../../../../components/ui/button":5275,"../../../../components/ui/form-field":5308,"../../../../contexts/metametrics":5413,"../../../../helpers/utils/i18n-helper":5463,"../../../../hooks/useI18nContext":5500,"../../../../hooks/usePrevious":5506,"../../../../selectors":5856,"../../../../store/actions":5864,classnames:2857,lodash:3975,loglevel:3987,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=N(e("classnames")),s=e("lodash"),r=N(e("loglevel")),o=N(e("prop-types")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),l=e("react-redux"),c=e("../../../../../app/scripts/lib/util"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../../shared/constants/network"),p=N(e("../../../../../shared/lib/fetch-with-cache")),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../../../../shared/modules/network.utils"),g=e("../../../../../shared/modules/rpc.utils"),h=N(e("../../../../components/ui/actionable-message")),_=N(e("../../../../components/ui/button")),y=N(e("../../../../components/ui/form-field")),b=e("../../../../contexts/metametrics"),E=e("../../../../helpers/utils/i18n-helper"),v=e("../../../../hooks/useI18nContext"),w=e("../../../../hooks/usePrevious"),T=e("../../../../selectors"),k=e("../../../../store/actions");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function N(e){return e&&e.__esModule?e:{default:e}}const x=e=>e&&"string"==typeof e&&e.startsWith("0x")?parseInt(e,16).toString(10):e,C=({addNewNetwork:e,restrictHeight:t,isCurrentRpcTarget:n,networksToRender:o,selectedNetwork:S,cancelCallback:N,submitCallback:C})=>{var O,R,M,P,I,A;const j=(0,v.useI18nContext)(),D=(0,l.useDispatch)(),{label:L,labelKey:U,viewOnly:F,rpcPrefs:B}=S,W=L||U&&j((0,E.getNetworkLabelKey)(U)),[$,q]=(0,i.useState)(W||""),[V,G]=(0,i.useState)((null==S?void 0:S.rpcUrl)||""),[K,H]=(0,i.useState)((null==S?void 0:S.chainId)||""),[z,Y]=(0,i.useState)((null==S?void 0:S.ticker)||""),[Q,X]=(0,i.useState)((null==S?void 0:S.blockExplorerUrl)||""),[J,Z]=(0,i.useState)({}),[ee,te]=(0,i.useState)({}),[ne,ae]=(0,i.useState)(!1),se=d.FEATURED_RPCS.some((e=>Number(e.chainId)===Number(K))),[re,oe]=(0,i.useState)(Boolean(e)),[ie,le]=(0,i.useState)(S),ce=(0,i.useContext)(b.MetaMetricsContext),ue=(0,l.useSelector)(T.useSafeChainsListValidationSelector),de=(0,i.useCallback)((()=>{q(W||""),G(S.rpcUrl),H(x(S.chainId)),Y(null==S?void 0:S.ticker),X(null==S?void 0:S.blockExplorerUrl),Z({}),te({}),ae(!1),oe(!1),le(S)}),[S,W]),pe=(0,i.useRef)(),fe=(0,i.useRef)(),me=(0,i.useRef)(),ge=(0,i.useRef)(),he=(0,i.useRef)(),_e=(0,i.useRef)();(0,i.useEffect)((()=>{!pe.current&&e?(q(""),G(""),H(""),Y(""),X(""),Z({}),ae(!1)):fe.current===W&&ge.current===S.rpcUrl&&me.current===S.chainId&&he.current===S.ticker&&_e.current===S.blockExplorerUrl||re&&(0,s.isEqual)(S,ie)||de(S)}),[S,W,e,ie,de,re]),(0,i.useEffect)((()=>()=>{q(""),G(""),H(""),Y(""),X(""),Z({}),D((0,k.setSelectedNetworkConfigurationId)(""))}),[q,G,H,Y,X,Z,D]);const ye=(0,i.useCallback)((e=>e.length>0&&!(0,c.isWebUrl)(e)?(0,c.isWebUrl)(`https://${e}`)?{key:"urlErrorMsg",msg:j("urlErrorMsg")}:{key:"invalidBlockExplorerURL",msg:j("invalidBlockExplorerURL")}:null),[j]),be=(0,i.useCallback)((async(e="")=>{const t=e.trim();let n="",a="",s="",i="",l=10,c=t;if(!c.startsWith("0x"))try{c=`0x${(0,f.decimalToHex)(c)}`}catch(e){return{error:{key:"invalidHexNumber",msg:j("invalidHexNumber")}}}const[u]=o.filter((e=>e.chainId===c&&e.rpcUrl!==V));if(""===t)return null;let d,p;u?(s="chainIdExistsErrorMsg",i=j("chainIdExistsErrorMsg",[u.label??u.labelKey])):t.startsWith("0x")?(l=16,/^0x[0-9a-f]+$/iu.test(t)?(0,m.isPrefixedFormattedHexString)(t)||(a=j("invalidHexNumberLeadingZeros")):(n="invalidHexNumber",a=j("invalidHexNumber"))):/^[0-9]+$/u.test(t)?t.startsWith("0")?(n="invalidNumberLeadingZeros",a=j("invalidNumberLeadingZeros")):(0,m.isSafeChainId)(parseInt(t,l))||(n="invalidChainIdTooBig",a=j("invalidChainIdTooBig")):(n="invalidNumber",a=j("invalidNumber"));try{d=await(0,g.jsonRpcRequest)(V,"eth_chainId")}catch(e){r.default.warn("Failed to fetch the chainId from the endpoint.",e),p=e}if(V&&t)if(p||"string"!=typeof d)n="failedToFetchChainId",a=j("failedToFetchChainId");else if(c!==d){if(!t.startsWith("0x"))try{d=parseInt(d,16).toString(10)}catch(e){r.default.warn("Failed to convert endpoint chain ID to decimal",d)}n="endpointReturnedDifferentChainId",a=j("endpointReturnedDifferentChainId",[d.length<=12?d:`${d.slice(0,9)}...`])}return n?{error:{key:n,msg:a}}:s?{warning:{key:s,msg:i}}:null}),[V,o,j]),Ee=(0,i.useCallback)((async(e,t)=>{let n,a,s;if(!e||!t)return null;let o=[];if(ue)try{o=await(0,p.default)({url:"https://chainid.network/chains.json",functionName:"getSafeChainsList"})}catch(e){r.default.warn("Failed to fetch the chainList from chainid.network",e),s=e}if(s)n="failedToFetchTickerSymbolData",a=j("failedToFetchTickerSymbolData");else{var i;const s=null===(i=o)||void 0===i?void 0:i.find((t=>t.chainId.toString()===e));if(s===undefined)n="failedToFetchTickerSymbolData",a=j("failedToFetchTickerSymbolData");else{var l;const r=null===(l=s.nativeCurrency)||void 0===l?void 0:l.symbol;r!==t&&(n="chainListReturnedDifferentTickerSymbol",a=j("chainListReturnedDifferentTickerSymbol",[e,r]))}}return n?{key:n,msg:a}:null}),[j]),ve=(0,i.useCallback)((e=>{const[{rpcUrl:t=null,label:n,labelKey:a}={}]=o.filter((t=>t.rpcUrl===e)),{rpcUrl:s}=S;return e.length>0&&!(0,c.isWebUrl)(e)?(0,c.isWebUrl)(`https://${e}`)?{key:"urlErrorMsg",msg:j("urlErrorMsg")}:{key:"invalidRPC",msg:j("invalidRPC")}:t&&t!==s?{key:"urlExistsErrorMsg",msg:j("urlExistsErrorMsg",[n??a])}:null}),[S,o,j]),we=(0,w.usePrevious)(V),Te=(0,w.usePrevious)(K),ke=(0,w.usePrevious)(z),Se=(0,w.usePrevious)(Q);(0,i.useEffect)((()=>{F||we===V&&Te===K&&ke===z&&Se===Q||async function(){const{error:e,warning:t}=await be(K)||{},n=await Ee(K,z),a=ye(Q),s=ve(V);Z({...J,blockExplorerUrl:a,rpcUrl:s,chainId:e}),te({...ee,chainId:t,ticker:n})}()}),[J,ee,V,K,z,Q,F,L,we,Te,ke,Se,ye,be,Ee,ve]);const Ne=!n&&!F&&!e,xe=(()=>{const e="string"==typeof S.chainId&&S.chainId.toLowerCase().startsWith("0x")&&K===x(S.chainId);return V===S.rpcUrl&&e&&z===S.ticker&&$===W&&Q===S.blockExplorerUrl})(),Ce=(null==S?void 0:S.rpcUrl)&&J.chainId&&se,Oe=Object.keys(J).some((e=>{const t=J[e];return("chainId"!==e||"chainIdExistsErrorMsg"!==(null==t?void 0:t.key))&&(null==t?void 0:t.key)&&(null==t?void 0:t.msg)}))||ne||xe||Ce||!V||!K||!z;return i.default.createElement("div",{className:(0,a.default)({"networks-tab__network-form":!e,"networks-tab__add-network-form":e,"networks-tab__restrict-height":t})},e?i.default.createElement(h.default,{type:"warning",message:j("onlyAddTrustedNetworks"),iconFillColor:"var(--color-warning-default)",useIcon:!0,withRightButton:!0,className:"networks-tab__add-network-form__alert"}):null,i.default.createElement("div",{className:(0,a.default)({"networks-tab__network-form-body":!e,"networks-tab__network-form-body__view-only":F,"networks-tab__add-network-form-body":e})},i.default.createElement(y.default,{autoFocus:!0,error:(null===(O=J.networkName)||void 0===O?void 0:O.msg)||"",onChange:e=>{oe(!0),q(e)},titleText:j("networkName"),value:$,disabled:F}),i.default.createElement(y.default,{error:(null===(R=J.rpcUrl)||void 0===R?void 0:R.msg)||"",onChange:e=>{oe(!0),G(e)},titleText:j("rpcUrl"),value:null!=V&&V.includes(`/v3/${d.infuraProjectId}`)?V.replace(`/v3/${d.infuraProjectId}`,""):V,disabled:F}),i.default.createElement(y.default,{warning:(null===(M=ee.chainId)||void 0===M?void 0:M.msg)||"",error:(null===(P=J.chainId)||void 0===P?void 0:P.msg)||"",onChange:e=>{oe(!0),H(e)},titleText:j("chainId"),value:K,disabled:F,tooltipText:F?null:j("networkSettingsChainIdDescription")}),i.default.createElement(y.default,{warning:(null===(I=ee.ticker)||void 0===I?void 0:I.msg)||"",onChange:e=>{oe(!0),Y(e)},titleText:j("currencySymbol"),value:z,disabled:F}),i.default.createElement(y.default,{error:(null===(A=J.blockExplorerUrl)||void 0===A?void 0:A.msg)||"",onChange:e=>{oe(!0),X(e)},titleText:j("blockExplorerUrl"),titleUnit:j("optionalWithParanthesis"),value:Q,disabled:F,autoFocus:"blockExplorerUrl"===window.location.hash.split("#")[2]})),i.default.createElement("div",{className:(0,a.default)({"networks-tab__network-form-footer":!e,"networks-tab__add-network-form-footer":e})},!F&&i.default.createElement(i.default.Fragment,null,Ne&&i.default.createElement(_.default,{type:"danger",onClick:()=>{D((0,k.showModal)({name:"CONFIRM_DELETE_NETWORK",target:S.networkConfigurationId,onConfirm:()=>{de(),D((0,k.setSelectedNetworkConfigurationId)(""))}}))}},j("delete")),i.default.createElement(_.default,{type:"secondary",onClick:()=>{e?(D((0,k.setSelectedNetworkConfigurationId)("")),null==N||N()):de()},disabled:xe},j("cancel")),i.default.createElement(_.default,{type:"primary",disabled:Oe,onClick:async()=>{ae(!0);try{const t=(e=>{let t=e;return e.startsWith("0x")||(t=`0x${parseInt(e,10).toString(16)}`),t})(K.trim().toLowerCase());let n;S.rpcUrl&&V!==S.rpcUrl?await D((0,k.editAndSetNetworkConfiguration)({rpcUrl:V,ticker:z,networkConfigurationId:S.networkConfigurationId,chainId:t,nickname:$,rpcPrefs:{...B,blockExplorerUrl:Q||(null==B?void 0:B.blockExplorerUrl)}},{source:u.MetaMetricsNetworkEventSource.CustomNetworkForm})):n=await D((0,k.upsertNetworkConfiguration)({rpcUrl:V,ticker:z,chainId:t,nickname:$,rpcPrefs:{...B,blockExplorerUrl:Q||(null==B?void 0:B.blockExplorerUrl)}},{setActive:!0,source:u.MetaMetricsNetworkEventSource.CustomNetworkForm})),e&&(D((0,k.setNewNetworkAdded)({nickname:$,networkConfigurationId:n})),ce({event:u.MetaMetricsEventName.CustomNetworkAdded,category:u.MetaMetricsEventCategory.Network,properties:{block_explorer_url:Q,chain_id:t,network_name:$,source_connection_method:u.MetaMetricsNetworkEventSource.CustomNetworkForm,token_symbol:z}}),null==C||C())}catch(e){throw ae(!1),e}}},j("save")))))};C.propTypes={addNewNetwork:o.default.bool,isCurrentRpcTarget:o.default.bool,networksToRender:o.default.array.isRequired,selectedNetwork:o.default.object,cancelCallback:o.default.func,submitCallback:o.default.func,restrictHeight:o.default.bool},C.defaultProps={selectedNetwork:{}};n.default=C}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form.js"}],[5738,{"./networks-list-item":5739},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./networks-list-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list-item/index.js"}],[5739,{"../../../../../app/scripts/lib/util":90,"../../../../../shared/constants/app":4665,"../../../../../shared/constants/network":4674,"../../../../components/component-library":5158,"../../../../components/ui/identicon":5328,"../../../../components/ui/url-icon":5409,"../../../../ducks/metamask/metamask":5427,"../../../../helpers/constants/design-system":5435,"../../../../helpers/constants/routes":5440,"../../../../helpers/utils/i18n-helper":5463,"../../../../helpers/utils/settings-search":5472,"../../../../hooks/useI18nContext":5500,"../../../../store/actions":5864,classnames:2857,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=E(e("prop-types")),r=E(e("classnames")),o=e("react-redux"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../../shared/constants/network"),c=e("../../../../helpers/constants/routes"),u=e("../../../../store/actions"),d=e("../../../../../app/scripts/lib/util"),p=e("../../../../../shared/constants/app"),f=e("../../../../ducks/metamask/metamask"),m=E(e("../../../../components/ui/identicon")),g=E(e("../../../../components/ui/url-icon")),h=e("../../../../helpers/utils/settings-search"),_=e("../../../../components/component-library"),y=e("../../../../helpers/constants/design-system"),b=e("../../../../helpers/utils/i18n-helper");function E(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const w=({network:e,networkIsSelected:t,selectedNetworkConfigurationId:n,setSearchQuery:s,setSearchedNetworks:E})=>{const v=(0,i.useI18nContext)(),w=(0,o.useDispatch)(),T=(0,d.getEnvironmentType)()===p.ENVIRONMENT_TYPE_FULLSCREEN,k=(0,o.useSelector)(f.getProviderConfig),{label:S,labelKey:N,networkConfigurationId:x,rpcUrl:C,providerType:O}=e,R=n&&n===x,M=C===k.rpcUrl,P=k.type!==l.NETWORK_TYPES.RPC&&O===k.type,I=R||!t&&(M||P),A=M||P,j=(0,a.useRef)();return(0,a.useEffect)((()=>{(0,h.handleSettingsRefs)(v,v("networks"),j)}),[j,v]),a.default.createElement("div",{ref:j,key:`settings-network-list-item:${x}`,className:"networks-tab__networks-list-item",onClick:()=>{s(""),E([]),w((0,u.setSelectedNetworkConfigurationId)(x)),T||global.platform.openExtensionInBrowser(c.NETWORKS_ROUTE)}},A?a.default.createElement(_.Icon,{name:_.IconName.Check,color:y.IconColor.successDefault}):a.default.createElement(_.Icon,{name:_.IconName.Check,color:y.IconColor.transparent}),e.chainId in l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?a.default.createElement(m.default,{className:"networks-tab__content__custom-image",diameter:24,image:l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],imageBorder:!0}):!e.isATestNetwork&&a.default.createElement(g.default,{className:"networks-tab__content__icon-with-fallback",fallbackClassName:"networks-tab__content__icon-with-fallback",name:S||(0,b.getNetworkLabelKey)(N)}),e.isATestNetwork&&e.chainId!==l.CHAIN_IDS.LINEA_GOERLI&&a.default.createElement(g.default,{name:S||(0,b.getNetworkLabelKey)(N),fallbackClassName:(0,r.default)("networks-tab__content__icon-with-fallback",{[`networks-tab__content__icon-with-fallback--color-${N}`]:!0})}),a.default.createElement("div",{className:(0,r.default)("networks-tab__networks-list-name",{"networks-tab__networks-list-name--selected":I,"networks-tab__networks-list-name--disabled":O!==l.NETWORK_TYPES.RPC&&!I})},S||v((0,b.getNetworkLabelKey)(N)),O!==l.NETWORK_TYPES.RPC&&a.default.createElement(_.Icon,{name:_.IconName.Lock,color:y.IconColor.iconMuted,size:_.IconSize.Inherit,marginInlineStart:2})))};w.propTypes={network:s.default.object.isRequired,networkIsSelected:s.default.bool,selectedNetworkConfigurationId:s.default.string,setSearchQuery:s.default.func,setSearchedNetworks:s.default.func};n.default=w}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list-item/networks-list-item.js"}],[5740,{"./networks-list":5741},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./networks-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list/index.js"}],[5741,{"../../../../components/component-library":5158,"../../../../helpers/constants/design-system":5435,"../../../../hooks/useI18nContext":5500,"../custom-content-search":5734,"../networks-list-item":5738,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=d(e("classnames")),o=e("../../../../hooks/useI18nContext"),i=d(e("../custom-content-search")),l=e("../../../../helpers/constants/design-system"),c=d(e("../networks-list-item")),u=e("../../../../components/component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({networkIsSelected:e,networksToRender:t,networkDefaultedToProvider:n,selectedNetworkConfigurationId:s})=>{const d=(0,o.useI18nContext)(),[p,f]=(0,a.useState)([]),[m,g]=(0,a.useState)(""),h=0===p.length&&""===m?t:p,_=h.filter((e=>!e.isATestNetwork)),y=h.filter((e=>e.isATestNetwork));return a.default.createElement("div",{className:(0,r.default)("networks-tab__networks-list",{"networks-tab__networks-list--selection":e&&!n})},a.default.createElement(i.default,{onSearch:({searchQuery:e="",results:t=[]})=>{f(t),g(e)},error:0===h.length?d("settingsSearchMatchingNotFound"):null,networksList:t,searchQueryInput:m}),_.map(((t,n)=>a.default.createElement(c.default,{key:`settings-network-list:${t.rpcUrl}`,network:t,networkIsSelected:e,selectedNetworkConfigurationId:s,setSearchQuery:g,setSearchedNetworks:f}))),""===m&&a.default.createElement(u.Text,{variant:l.TextVariant.bodySm,as:"h6",marginTop:4,color:l.Color.textAlternative,className:"networks-tab__networks-list__label"},d("testNetworks")),y.map(((t,n)=>a.default.createElement(c.default,{key:`settings-network-list:${t.rpcUrl}`,network:t,networkIsSelected:e,selectedNetworkConfigurationId:s,setSearchQuery:g,setSearchedNetworks:f}))))};f.propTypes={networkDefaultedToProvider:s.default.bool,networkIsSelected:s.default.bool,networksToRender:s.default.arrayOf(s.default.object).isRequired,selectedNetworkConfigurationId:s.default.string};n.default=f}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-list/networks-list.js"}],[5742,{"./networks-tab-content":5743},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./networks-tab-content"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-content/index.js"}],[5743,{"../../../../ducks/metamask/metamask":5427,"../../../../helpers/constants/routes":5440,"../networks-form":5736,"../networks-list":5740,"prop-types":4123,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),s=d(e("prop-types")),r=e("react-redux"),o=e("react-router-dom"),i=d(e("../networks-form")),l=d(e("../networks-list")),c=e("../../../../ducks/metamask/metamask"),u=e("../../../../helpers/constants/routes");function d(e){return e&&e.__esModule?e:{default:e}}const p=({networkDefaultedToProvider:e,networkIsSelected:t,networksToRender:n,selectedNetwork:s,shouldRenderNetworkForm:d})=>{const p=(0,r.useSelector)(c.getProviderConfig),f=(0,o.useHistory)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{networkDefaultedToProvider:e,networkIsSelected:t,networksToRender:n,selectedNetworkConfigurationId:s.networkConfigurationId}),d?a.default.createElement(i.default,{isCurrentRpcTarget:p.rpcUrl===s.rpcUrl,networksToRender:n,selectedNetwork:s,submitCallback:()=>f.push(u.DEFAULT_ROUTE),cancelCallback:()=>f.push(u.NETWORKS_ROUTE)}):null)};p.propTypes={networkDefaultedToProvider:s.default.bool,networkIsSelected:s.default.bool,networksToRender:s.default.arrayOf(s.default.object).isRequired,selectedNetwork:s.default.object,shouldRenderNetworkForm:s.default.bool.isRequired};n.default=p}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-content/networks-tab-content.js"}],[5744,{"./networks-tab-subheader":5745},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./networks-tab-subheader"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-subheader/index.js"}],[5745,{"../../../../components/ui/button":5275,"../../../../helpers/constants/routes":5440,"../../../../hooks/useI18nContext":5500,"prop-types":4123,react:4378,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),s=c(e("prop-types")),r=e("react-router-dom"),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/routes"),l=c(e("../../../../components/ui/button"));function c(e){return e&&e.__esModule?e:{default:e}}const u=({addNewNetwork:e})=>{const t=(0,o.useI18nContext)(),n=(0,r.useHistory)();return e?a.default.createElement("div",{className:"networks-tab__subheader"},a.default.createElement("span",{className:"networks-tab__sub-header-text"},t("networks")),a.default.createElement("span",{className:"networks-tab__sub-header-text"},"  >  "),a.default.createElement("div",{className:"networks-tab__sub-header-text"},t("addANetwork")),a.default.createElement("span",null,"  >  "),a.default.createElement("div",{className:"networks-tab__subheader--break"},t("addANetworkManually"))):a.default.createElement("div",{className:"settings-page__sub-header"},a.default.createElement("span",{className:"settings-page__sub-header-text"},t("networks")),a.default.createElement("div",{className:"networks-tab__add-network-header-button-wrapper"},a.default.createElement(l.default,{type:"primary",onClick:e=>{e.preventDefault(),n.push(i.ADD_POPULAR_CUSTOM_NETWORK)}},t("addANetwork"))))};u.propTypes={addNewNetwork:s.default.bool.isRequired};n.default=u}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab-subheader/networks-tab-subheader.js"}],[5746,{"../../../../shared/constants/network":4674},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultNetworksData=void 0;var a=e("../../../../shared/constants/network");n.defaultNetworksData=[{labelKey:a.NETWORK_TYPES.MAINNET,iconColor:"#29B6AF",providerType:a.NETWORK_TYPES.MAINNET,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.MAINNET,excludeProjectId:!0}),chainId:a.CHAIN_IDS.MAINNET,ticker:a.CURRENCY_SYMBOLS.ETH,blockExplorerUrl:"https://etherscan.io"},{labelKey:a.NETWORK_TYPES.GOERLI,iconColor:"#3099f2",providerType:a.NETWORK_TYPES.GOERLI,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.GOERLI,excludeProjectId:!0}),chainId:a.CHAIN_IDS.GOERLI,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.GOERLI],blockExplorerUrl:"https://goerli.etherscan.io"},{labelKey:a.NETWORK_TYPES.SEPOLIA,iconColor:"#CFB5F0",providerType:a.NETWORK_TYPES.SEPOLIA,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.SEPOLIA,excludeProjectId:!0}),chainId:a.CHAIN_IDS.SEPOLIA,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.SEPOLIA],blockExplorerUrl:"https://sepolia.etherscan.io"},{labelKey:a.NETWORK_TYPES.LINEA_GOERLI,iconColor:"#61dfff",providerType:a.NETWORK_TYPES.LINEA_GOERLI,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.LINEA_GOERLI,excludeProjectId:!0}),chainId:a.CHAIN_IDS.LINEA_GOERLI,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.LINEA_GOERLI],blockExplorerUrl:"https://goerli.lineascan.build"},{labelKey:a.NETWORK_TYPES.LINEA_MAINNET,iconColor:"#121212",providerType:a.NETWORK_TYPES.LINEA_MAINNET,rpcUrl:(0,a.getRpcUrl)({network:a.NETWORK_TYPES.LINEA_MAINNET,excludeProjectId:!0}),chainId:a.CHAIN_IDS.LINEA_MAINNET,ticker:a.CURRENCY_SYMBOLS.ETH,blockExplorerUrl:"https://lineascan.build"}]}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab.constants.js"}],[5747,{"../../../../app/scripts/lib/util":90,"../../../../shared/constants/app":4665,"../../../../shared/constants/network":4674,"../../../components/ui/button":5275,"../../../ducks/metamask/metamask":5427,"../../../helpers/constants/routes":5440,"../../../hooks/useI18nContext":5500,"../../../selectors":5856,"../../../store/actions":5864,"./networks-form":5736,"./networks-tab-content":5742,"./networks-tab-subheader":5744,"./networks-tab.constants":5746,classnames:2857,"prop-types":4123,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=v(e("prop-types")),r=v(e("classnames")),o=e("react-router-dom"),i=e("react-redux"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),d=v(e("../../../components/ui/button")),p=e("../../../../app/scripts/lib/util"),f=e("../../../../shared/constants/app"),m=e("../../../selectors"),g=e("../../../ducks/metamask/metamask"),h=e("../../../../shared/constants/network"),_=e("./networks-tab.constants"),y=v(e("./networks-tab-content")),b=v(e("./networks-form")),E=v(e("./networks-tab-subheader"));function v(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const T=_.defaultNetworksData.map((e=>({...e,viewOnly:!0,isATestNetwork:h.TEST_CHAINS.includes(e.chainId)}))),k=({addNewNetwork:e})=>{const t=(0,l.useI18nContext)(),n=(0,i.useDispatch)(),{pathname:s}=(0,o.useLocation)(),_=(0,o.useHistory)(),v=(0,p.getEnvironmentType)()===f.ENVIRONMENT_TYPE_FULLSCREEN,w=v||Boolean(s.match(c.NETWORKS_FORM_ROUTE))||"blockExplorerUrl"===window.location.hash.split("#")[2],k=(0,i.useSelector)(m.getNetworkConfigurations),S=(0,i.useSelector)(g.getProviderConfig),N=(0,i.useSelector)(m.getNetworksTabSelectedNetworkConfigurationId),x=(0,i.useSelector)(g.isLineaMainnetNetworkReleased),C=Object.entries(k).map((([e,t])=>{var n;return{label:t.nickname,iconColor:"var(--color-icon-alternative)",providerType:h.NETWORK_TYPES.RPC,rpcUrl:t.rpcUrl,chainId:t.chainId,ticker:t.ticker,blockExplorerUrl:(null===(n=t.rpcPrefs)||void 0===n?void 0:n.blockExplorerUrl)||"",isATestNetwork:h.TEST_CHAINS.includes(t.chainId),networkConfigurationId:e}}));let O=[...T,...C];x||(O=O.filter((e=>e.chainId!==h.BUILT_IN_NETWORKS[h.NETWORK_TYPES.LINEA_MAINNET].chainId)));let R=O.find((e=>e.networkConfigurationId===N))||{};const M=Boolean(R.rpcUrl);let P=!1;return M||(R=O.find((e=>e.rpcUrl===S.rpcUrl||e.providerType!==h.NETWORK_TYPES.RPC&&e.providerType===S.type))||{},P=!0),(0,a.useEffect)((()=>()=>{n((0,u.setSelectedNetworkConfigurationId)(""))}),[n]),a.default.createElement("div",{className:"networks-tab__body"},v?a.default.createElement(E.default,{addNewNetwork:e}):null,a.default.createElement("div",{className:(0,r.default)("networks-tab__content",{"networks-tab__content--with-networks-list-popup-footer":!v&&!w})},e?a.default.createElement(b.default,{networksToRender:O,addNewNetwork:e,submitCallback:()=>_.push(c.DEFAULT_ROUTE),cancelCallback:()=>_.push(c.NETWORKS_ROUTE)}):a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,{networkDefaultedToProvider:P,networkIsSelected:M,networksToRender:O,providerUrl:S.rpcUrl,selectedNetwork:R,shouldRenderNetworkForm:w}),v||w?null:a.default.createElement("div",{className:"networks-tab__networks-list-popup-footer"},a.default.createElement(d.default,{type:"primary",onClick:()=>{v?_.push(c.ADD_POPULAR_CUSTOM_NETWORK):global.platform.openExtensionInBrowser(c.ADD_POPULAR_CUSTOM_NETWORK)}},t("addNetwork"))))))};k.propTypes={addNewNetwork:s.default.bool};n.default=k}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-tab.js"}],[5748,{"./security-tab.container":5750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./security-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/security-tab/index.js"}],[5749,{"../../../../app/scripts/lib/util":90,"../../../../shared/constants/app":4665,"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/network":4674,"../../../../shared/lib/ui-utils":4695,"../../../components/app/incoming-trasaction-toggle/incoming-transaction-toggle":4855,"../../../components/app/srp-quiz-modal/SRPQuiz":5030,"../../../components/component-library":5158,"../../../components/ui/text-field":5389,"../../../components/ui/toggle-button":5393,"../../../helpers/constants/design-system":5435,"../../../helpers/constants/routes":5440,"../../../helpers/utils/settings-search":5472,lodash:3975,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("lodash"),s=E(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../app/scripts/lib/util"),i=e("../../../../shared/constants/app"),l=e("../../../../shared/constants/metametrics"),c=e("../../../../shared/constants/network"),u=e("../../../../shared/lib/ui-utils"),d=E(e("../../../components/app/srp-quiz-modal/SRPQuiz")),p=e("../../../components/component-library"),f=E(e("../../../components/ui/text-field")),m=E(e("../../../components/ui/toggle-button")),g=e("../../../helpers/constants/design-system"),h=e("../../../helpers/constants/routes"),_=e("../../../helpers/utils/settings-search"),y=E(e("../../../components/app/incoming-trasaction-toggle/incoming-transaction-toggle"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends r.PureComponent{constructor(...e){super(...e),v(this,"state",{ipfsGateway:this.props.ipfsGateway||c.IPFS_DEFAULT_GATEWAY_URL,ipfsGatewayError:"",srpQuizModalVisible:!1,ipfsToggle:this.props.ipfsGateway.length>0}),v(this,"settingsRefCounter",0),v(this,"settingsRefs",Array((0,_.getNumberOfSettingsInSection)(this.context.t,this.context.t("securityAndPrivacy"))).fill(undefined).map((()=>r.default.createRef()))),v(this,"hideSrpQuizModal",(()=>this.setState({srpQuizModalVisible:!1})))}componentDidUpdate(){const{t:e}=this.context;(0,_.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,_.handleSettingsRefs)(e,e("securityAndPrivacy"),this.settingsRefs)}toggleSetting(e,t,n,a){this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:t,properties:{action:n,legacy_event:!0}}),a(!e)}renderSeedWords(){const{t:e}=this.context;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__security-tab-sub-header"},e("secretRecoveryPhrase")),r.default.createElement("div",{className:"settings-page__content-padded"},r.default.createElement(p.Button,{"data-testid":"reveal-seed-words",type:"danger",size:p.BUTTON_SIZES.LG,onClick:e=>{e.preventDefault(),this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:l.MetaMetricsEventName.KeyExportSelected,properties:{key_type:l.MetaMetricsEventKeyType.Srp,location:"Settings"}}),this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:l.MetaMetricsEventName.SrpRevealClicked,properties:{key_type:l.MetaMetricsEventKeyType.Srp,location:"Settings"}}),this.setState({srpQuizModalVisible:!0})}},e("revealSeedWords")),this.state.srpQuizModalVisible&&r.default.createElement(d.default,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal})))}renderIncomingTransactionsOptIn(){const{incomingTransactionsPreferences:e,allNetworks:t,setIncomingTransactionsPreferences:n}=this.props;return r.default.createElement(y.default,{wrapperRef:this.settingsRefs[1],allNetworks:t,setIncomingTransactionsPreferences:n,incomingTransactionsPreferences:e})}renderPhishingDetectionToggle(){const{t:e}=this.context,{usePhishDetect:t,setUsePhishDetect:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("usePhishingDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("usePhishingDetectionDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},r.default.createElement(m.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderUse4ByteResolutionToggle(){const{t:e}=this.context,{use4ByteResolution:t,setUse4ByteResolution:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("use4ByteResolution")),r.default.createElement("div",{className:"settings-page__content-description"},e("use4ByteResolutionDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"4byte-resolution-container"},r.default.createElement(m.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderMetaMetricsOptIn(){const{t:e}=this.context,{participateInMetaMetrics:t,setParticipateInMetaMetrics:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("participateInMetaMetrics")),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement("span",null,e("participateInMetaMetricsDescription")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"participateInMetaMetrics"},r.default.createElement(m.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderChooseYourNetworkButton(){const{t:e}=this.context;return r.default.createElement(p.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("chooseYourNetwork")),r.default.createElement("div",{className:"settings-page__content-description"},e("chooseYourNetworkDescription",[r.default.createElement("a",{href:u.CONSENSYS_PRIVACY_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(p.Button,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,o.getEnvironmentType)()===i.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(h.ADD_POPULAR_CUSTOM_NETWORK):this.props.history.push(h.ADD_POPULAR_CUSTOM_NETWORK)}},e("addCustomNetwork"))))}renderSafeChainsListValidationToggle(){const{t:e}=this.context,{useSafeChainsListValidation:t,setUseSafeChainsListValidation:n}=this.props,a=e("useSafeChainsListValidationWebsite");return r.default.createElement(p.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"setting-safe-chains-validation",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useSafeChainsListValidation")),r.default.createElement("div",{className:"settings-page__content-description"},e("useSafeChainsListValidationDescription",[r.default.createElement("b",{key:"safechain-list-validation-website"},a)]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useSafeChainsListValidation"},r.default.createElement(m.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")}))))}renderIpfsGatewayControl(){const{t:e}=this.context;let t="";const n=n=>{if(n.length>0)try{const a=(0,o.addUrlProtocolPrefix)(n);a||(t=e("invalidIpfsGateway"));const s=new URL(a);"gateway.ipfs.io"===s.host&&(t=e("forbiddenIpfsGateway")),0===t.length&&this.props.setIpfsGateway(s.host)}catch(n){t=e("invalidIpfsGateway")}else t=e("invalidIpfsGateway");this.setState({ipfsGateway:n,ipfsGatewayError:t})};return r.default.createElement(p.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,gap:4},r.default.createElement(p.Box,{className:"settings-page__content-row",gap:4,display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("ipfsGateway")),r.default.createElement("div",{className:"settings-page__content-description"},e("ipfsGatewayDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfsToggle"},r.default.createElement(m.default,{value:this.state.ipfsToggle,onToggle:e=>{e?this.props.setIpfsGateway(""):n(this.state.ipfsGateway),this.setState({ipfsToggle:!e})},offLabel:e("off"),onLabel:e("on")}))),this.state.ipfsToggle&&r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("addIPFSGateway")),r.default.createElement("div",{className:"settings-page__content-item-col"},r.default.createElement(f.default,{type:"text",value:this.state.ipfsGateway,onChange:e=>n(e.target.value),error:this.state.ipfsGatewayError,fullWidth:!0,margin:"dense"}))),r.default.createElement(p.Box,{className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4,ref:this.settingsRefs[10],marginTop:3,id:"ens-domains"},r.default.createElement("div",null,e("ensDomainsSettingTitle"),r.default.createElement("div",{className:"settings-page__content-description"},r.default.createElement(p.Text,{color:g.TextColor.inherit,variant:g.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),r.default.createElement(p.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},r.default.createElement(p.Text,{as:"li",color:g.TextColor.inherit,variant:g.TextVariant.inherit},e("ensDomainsSettingDescriptionPart1")),r.default.createElement(p.Text,{as:"li",color:g.TextColor.inherit,variant:g.TextVariant.inherit},e("ensDomainsSettingDescriptionPart2"))),r.default.createElement(p.Text,{color:g.TextColor.inherit,variant:g.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"ipfs-gateway-resolution-container"},r.default.createElement(m.default,{value:this.props.useAddressBarEnsResolution,onToggle:e=>this.props.setUseAddressBarEnsResolution(!e),offLabel:e("off"),onLabel:e("on")}))))}renderAutoDetectTokensToggle(){const{t:e}=this.context,{useTokenDetection:t,setUseTokenDetection:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4,id:"advanced-settings-autodetect-tokens"},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("autoDetectTokens")),r.default.createElement("div",{className:"settings-page__content-description"},e("autoDetectTokensDescription",[r.default.createElement("a",{href:u.AUTO_DETECT_TOKEN_LEARN_MORE_LINK,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,a.startCase)(e("learnMore")))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},r.default.createElement(m.default,{value:t,onToggle:e=>{this.toggleSetting(e,l.MetaMetricsEventName.KeyAutoDetectTokens,l.MetaMetricsEventName.KeyAutoDetectTokens,n)},offLabel:e("off"),onLabel:e("on")})))}renderBatchAccountBalanceRequestsToggle(){const{t:e}=this.context,{useMultiAccountBalanceChecker:t,setUseMultiAccountBalanceChecker:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useMultiAccountBalanceChecker")),r.default.createElement("div",{className:"settings-page__content-description"},e("useMultiAccountBalanceCheckerSettingDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},r.default.createElement(m.default,{value:t,onToggle:e=>{this.toggleSetting(e,l.MetaMetricsEventName.KeyBatchAccountBalanceRequests,l.MetaMetricsEventName.KeyBatchAccountBalanceRequests,n)},offLabel:e("off"),onLabel:e("on")})))}renderCurrencyRateCheckToggle(){const{t:e}=this.context,{useCurrencyRateCheck:t,setUseCurrencyRateCheck:n}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("currencyRateCheckToggle")),r.default.createElement("div",{className:"settings-page__content-description"},e("currencyRateCheckToggleDescription",[r.default.createElement("a",{key:"coingecko_link",href:u.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),r.default.createElement("a",{key:"cryptocompare_link",href:u.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),r.default.createElement("a",{key:"privacy_policy_link",href:u.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))]))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},r.default.createElement(m.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderDisplayNftMediaToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:n,useNftDetection:a,setUseNftDetection:s}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[11],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("enableOpenSeaAPI")),r.default.createElement("div",{className:"settings-page__content-description"},e("enableOpenSeaAPIDescription"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"enableOpenSeaAPI"},r.default.createElement(m.default,{value:t,onToggle:e=>{this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),e&&a&&s(!1),n(!e)},offLabel:e("off"),onLabel:e("on")})))}renderNftDetectionToggle(){const{t:e}=this.context,{openSeaEnabled:t,setOpenSeaEnabled:n,useNftDetection:a,setUseNftDetection:s}=this.props;return r.default.createElement(p.Box,{ref:this.settingsRefs[12],className:"settings-page__content-row",display:g.Display.Flex,flexDirection:g.FlexDirection.Row,justifyContent:g.JustifyContent.spaceBetween,gap:4},r.default.createElement("div",{className:"settings-page__content-item"},r.default.createElement("span",null,e("useNftDetection")),r.default.createElement("div",{className:"settings-page__content-description"},e("useNftDetectionDescriptionText"))),r.default.createElement("div",{className:"settings-page__content-item-col","data-testid":"useNftDetection"},r.default.createElement(m.default,{value:a,onToggle:e=>{this.context.trackEvent({category:l.MetaMetricsEventCategory.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),e||t||n(!e),s(!e)},offLabel:e("off"),onLabel:e("on")})))}render(){const{warning:e}=this.props;return r.default.createElement("div",{className:"settings-page__body"},e&&r.default.createElement("div",{className:"settings-tab__error"},e),r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),r.default.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("alerts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),r.default.createElement("div",null,r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("smartContracts"))),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderUse4ByteResolutionToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderIncomingTransactionsOptIn()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("networkProvider")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderSafeChainsListValidationToggle(),this.renderIpfsGatewayControl()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle(),this.renderDisplayNftMediaToggle(),this.renderNftDetectionToggle()),r.default.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),r.default.createElement("div",{className:"settings-page__content-padded"},this.renderMetaMetricsOptIn()))}}n.default=w,v(w,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),v(w,"propTypes",{warning:s.default.string,history:s.default.object,openSeaEnabled:s.default.bool,setOpenSeaEnabled:s.default.func,useNftDetection:s.default.bool,setUseNftDetection:s.default.func,participateInMetaMetrics:s.default.bool.isRequired,setParticipateInMetaMetrics:s.default.func.isRequired,incomingTransactionsPreferences:s.default.object.isRequired,allNetworks:s.default.array.isRequired,setIncomingTransactionsPreferences:s.default.func.isRequired,setUsePhishDetect:s.default.func.isRequired,usePhishDetect:s.default.bool.isRequired,setUse4ByteResolution:s.default.func.isRequired,use4ByteResolution:s.default.bool.isRequired,useTokenDetection:s.default.bool.isRequired,setUseTokenDetection:s.default.func.isRequired,setIpfsGateway:s.default.func.isRequired,ipfsGateway:s.default.string.isRequired,useMultiAccountBalanceChecker:s.default.bool.isRequired,setUseMultiAccountBalanceChecker:s.default.func.isRequired,useSafeChainsListValidation:s.default.bool.isRequired,setUseSafeChainsListValidation:s.default.func.isRequired,useCurrencyRateCheck:s.default.bool.isRequired,setUseCurrencyRateCheck:s.default.func.isRequired,useAddressBarEnsResolution:s.default.bool.isRequired,setUseAddressBarEnsResolution:s.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.component.js"}],[5750,{"../../../selectors":5856,"../../../store/actions":5864,"./security-tab.component":5749,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("react-router-dom"),o=e("redux"),i=e("../../../store/actions"),l=e("../../../selectors"),c=(a=e("./security-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(r.withRouter,(0,s.connect)((e=>{const{appState:{warning:t},metamask:n}=e,{incomingTransactionsPreferences:a,participateInMetaMetrics:s,usePhishDetect:r,useTokenDetection:o,ipfsGateway:i,useMultiAccountBalanceChecker:c,useSafeChainsListValidation:u,useCurrencyRateCheck:d,useAddressBarEnsResolution:p,openSeaEnabled:f,useNftDetection:m,use4ByteResolution:g}=n;return{warning:t,incomingTransactionsPreferences:a,allNetworks:(0,l.getAllNetworks)(e),participateInMetaMetrics:s,usePhishDetect:r,useTokenDetection:o,ipfsGateway:i,useMultiAccountBalanceChecker:c,useSafeChainsListValidation:u,useCurrencyRateCheck:d,useAddressBarEnsResolution:p,openSeaEnabled:f,useNftDetection:m,use4ByteResolution:g}}),(e=>({setIncomingTransactionsPreferences:(t,n)=>e((0,i.setIncomingTransactionsPreferences)(t,n)),setParticipateInMetaMetrics:t=>e((0,i.setParticipateInMetaMetrics)(t)),setUsePhishDetect:t=>e((0,i.setUsePhishDetect)(t)),setUseCurrencyRateCheck:t=>e((0,i.setUseCurrencyRateCheck)(t)),setUseTokenDetection:t=>e((0,i.setUseTokenDetection)(t)),setIpfsGateway:t=>e((0,i.setIpfsGateway)(t)),setUseMultiAccountBalanceChecker:t=>e((0,i.setUseMultiAccountBalanceChecker)(t)),setUseAddressBarEnsResolution:t=>e((0,i.setUseAddressBarEnsResolution)(t)),setUseSafeChainsListValidation:t=>e((0,i.setUseSafeChainsListValidation)(t)),setOpenSeaEnabled:t=>e((0,i.setOpenSeaEnabled)(t)),setUseNftDetection:t=>e((0,i.setUseNftDetection)(t)),setUse4ByteResolution:t=>e((0,i.setUse4ByteResolution)(t))}))))(c.default)}}},{package:"$root$",file:"ui/pages/settings/security-tab/security-tab.container.js"}],[5751,{"./settings-search-list":5752},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("./settings-search-list"))&&a.__esModule?a:{default:a};n.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/index.js"}],[5752,{"../../../components/component-library":5158,"../../../contexts/i18n":5412,"../../../helpers/constants/design-system":5435,"../../../helpers/utils/settings-search":5472,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=u(e("prop-types")),r=u(e("classnames")),o=e("../../../helpers/utils/settings-search"),i=e("../../../contexts/i18n"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({results:e,onClickSetting:t}){const n=(0,a.useContext)(i.I18nContext);return(0,a.useEffect)(o.highlightSearchedText,[e]),a.default.createElement("div",{className:"settings-page__header__search__list"},e.slice(0,5).map((e=>{const{icon:s,iconName:o,tabMessage:i,sectionMessage:u,route:d}=e;return Boolean(s||i||u)&&a.default.createElement("div",{key:`settings_${d}`},a.default.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>t(e)},o?a.default.createElement(l.Icon,{name:o}):a.default.createElement("i",{className:(0,r.default)("settings-page__header__search__list__item__icon",s)}),a.default.createElement("span",{id:`menu-tab_${d}`,className:(0,r.default)("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":i(n)===n("securityAndPrivacy")})},i(n)),a.default.createElement(l.Icon,{name:l.IconName.ArrowRight,size:c.Size.SM,className:"settings-page__header__search__list__item__caret"}),a.default.createElement("span",{id:`menu-section_${d}`,className:(0,r.default)("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":i(n)===n("securityAndPrivacy")||i(n)===n("alerts")})},u(n))))})),0===e.length&&a.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},a.default.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},n("settingsSearchMatchingNotFound"))),a.default.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},a.default.createElement("span",{className:"settings-page__header__search__list__item__request"},n("missingSetting")),a.default.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},n("missingSettingRequest"))))}p.propTypes={results:s.default.array,onClickSetting:s.default.func}}}},{package:"$root$",file:"ui/pages/settings/settings-search-list/settings-search-list.js"}],[5753,{"./settings-search":5754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("./settings-search"))&&a.__esModule?a:{default:a};n.default=s.default}}},{package:"$root$",file:"ui/pages/settings/settings-search/index.js"}],[5754,{"../../../../shared/modules/string-utils":4713,"../../../components/component-library":5158,"../../../components/ui/icon/search-icon":5322,"../../../components/ui/text-field":5389,"../../../contexts/i18n":5412,"../../../helpers/constants/design-system":5435,"../../../selectors":5856,"@material-ui/core/InputAdornment":704,"fuse.js":3487,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=g(e("prop-types")),o=g(e("fuse.js")),i=g(e("@material-ui/core/InputAdornment")),l=g(e("../../../components/ui/text-field")),c=e("../../../contexts/i18n"),u=g(e("../../../components/ui/icon/search-icon")),d=e("../../../../shared/modules/string-utils"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system"),m=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _({onSearch:e,error:t,settingsRoutesList:n}){const r=(0,a.useContext)(c.I18nContext),[g,h]=(0,a.useState)(""),[_,y]=(0,a.useState)("var(--color-icon-muted)"),b=Object.values(n),E=(0,s.useSelector)(m.getSnapsRouteObjects);b.push(...E);const v=new o.default(b,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:(e,t)=>e[t](r)}),w=t=>{const n=t.replace(/[^A-Za-z0-9\s&_]/gu,"").trimStart();h(n),y(""===n?"var(--color-icon-muted)":"var(--color-icon-default)");const a=v.search(n),s=[...b.filter((e=>e.tabMessage&&n&&(0,d.isEqualCaseInsensitive)(e.tab,n))),...a];e({searchQuery:n,results:s})};return a.default.createElement(l.default,{id:"search-settings",placeholder:r("search"),type:"text",value:g,onChange:e=>w(e.target.value),error:t,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:a.default.createElement(i.default,{position:"start",style:{marginRight:"12px"}},a.default.createElement(u.default,{color:_})),endAdornment:a.default.createElement(a.default.Fragment,null,g&&a.default.createElement(i.default,{className:"imageclosectn",position:"end",onClick:()=>w(""),style:{cursor:"pointer"}},a.default.createElement(p.Icon,{name:p.IconName.Close,color:f.IconColor.iconDefault})))})}_.propTypes={onSearch:r.default.func,error:r.default.string,settingsRoutesList:r.default.array}}}},{package:"$root$",file:"ui/pages/settings/settings-search/settings-search.js"}],[5755,{"./settings-tab.container":5757},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./settings-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/settings-tab/index.js"}],[5756,{"../../../../app/_locales/index.json":3,"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/preferences":4676,"../../../components/component-library":5158,"../../../components/ui/dropdown":5300,"../../../components/ui/identicon/blockieIdenticon":5325,"../../../components/ui/jazzicon":5332,"../../../components/ui/toggle-button":5393,"../../../helpers/constants/available-conversions.json":5432,"../../../helpers/constants/design-system":5435,"../../../helpers/utils/settings-search":5472,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=_(e("prop-types")),r=_(e("classnames")),o=_(e("../../../helpers/constants/available-conversions.json")),i=e("../../../helpers/constants/design-system"),l=_(e("../../../components/ui/dropdown")),c=_(e("../../../components/ui/toggle-button")),u=_(e("../../../../app/_locales/index.json")),d=_(e("../../../components/ui/jazzicon")),p=_(e("../../../components/ui/identicon/blockieIdenticon")),f=e("../../../../shared/constants/metametrics"),m=e("../../../helpers/utils/settings-search"),g=e("../../../../shared/constants/preferences"),h=e("../../../components/component-library");function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=o.default.sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))).map((({code:e,name:t})=>({name:`${e.toUpperCase()} - ${t}`,value:e}))),v=u.default.map((e=>({name:`${e.name}`,value:e.code})));class w extends a.PureComponent{constructor(...e){super(...e),b(this,"settingsRefs",Array((0,m.getNumberOfSettingsInSection)(this.context.t,this.context.t("general"))).fill(undefined).map((()=>a.default.createRef())))}componentDidUpdate(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,m.handleSettingsRefs)(e,e("general"),this.settingsRefs)}renderCurrentConversion(){const{t:e}=this.context,{currentCurrency:t,setCurrentCurrency:n,lastFetchedConversionDate:s}=this.props;return a.default.createElement(h.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("currencyConversion")),a.default.createElement("span",{className:"settings-page__content-description"},s?e("updatedWithDate",[new Date(1e3*s).toString()]):e("noConversionDateAvailable"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{"data-testid":"currency-select",id:"select-currency",options:E,selectedOption:t,onChange:e=>n(e)}))))}renderCurrentLocale(){const{t:e}=this.context,{updateCurrentLocale:t,currentLocale:n}=this.props,s=u.default.find((e=>e.code===n)),r=s?s.name:"";return a.default.createElement(h.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",{className:"settings-page__content-label"},e("currentLanguage")),a.default.createElement("span",{className:"settings-page__content-description"},r)),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{"data-testid":"locale-select",id:"select-locale",options:v,selectedOption:n,onChange:async e=>t(e)}))))}renderHideZeroBalanceTokensOptIn(){const{t:e}=this.context,{hideZeroBalanceTokens:t,setHideZeroBalanceTokens:n}=this.props;return a.default.createElement(h.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.center,id:"toggle-zero-balance"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("hideZeroBalanceTokens"))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(c.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderBlockieOptIn(){const{t:e}=this.context,{useBlockie:t,setUseBlockie:n,selectedAddress:s,tokenList:o}=this.props;return a.default.createElement(h.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,id:"blockie-optin"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(h.Text,{variant:i.TextVariant.bodyMd,as:"h5",color:i.TextColor.textDefault},e("accountIdenticon")),a.default.createElement("span",{className:"settings-page__content-item__description"},e("jazzAndBlockies")),a.default.createElement("div",{className:"settings-page__content-item__identicon"},a.default.createElement("button",{"data-testid":"jazz_icon",onClick:()=>n(!1),className:"settings-page__content-item__identicon__item"},a.default.createElement("div",{className:(0,r.default)("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":!t})},a.default.createElement(d.default,{id:"jazzicon",address:s,diameter:32,tokenList:o,style:{display:"block",borderRadius:"16px",width:"32px",height:"32px"}})),a.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6",marginTop:0,marginRight:12,marginBottom:0,marginLeft:3},e("jazzicons"))),a.default.createElement("button",{"data-testid":"blockie_icon",onClick:()=>n(!0),className:"settings-page__content-item__identicon__item"},a.default.createElement("div",{className:(0,r.default)("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":t})},a.default.createElement(p.default,{id:"blockies",address:s,diameter:32,borderRadius:"50%"})),a.default.createElement(h.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodySm,as:"h6",marginTop:3,marginRight:0,marginBottom:3,marginLeft:3},e("blockies"))))))}renderUsePrimaryCurrencyOptions(){const{t:e}=this.context,{nativeCurrency:t,setUseNativeCurrencyAsPrimaryCurrencyPreference:n,useNativeCurrencyAsPrimaryCurrency:s}=this.props;return a.default.createElement(h.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("primaryCurrencySetting")),a.default.createElement("div",{className:"settings-page__content-description"},e("primaryCurrencySettingDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement("div",{className:"settings-tab__radio-buttons"},a.default.createElement("div",{className:"settings-tab__radio-button"},a.default.createElement("input",{type:"radio","data-testid":"toggle-native-currency",id:"native-primary-currency",onChange:()=>n(!0),checked:Boolean(s)}),a.default.createElement("label",{htmlFor:"native-primary-currency",className:"settings-tab__radio-label"},t)),a.default.createElement("div",{className:"settings-tab__radio-button"},a.default.createElement("input",{type:"radio","data-testid":"toggle-fiat-currency",id:"fiat-primary-currency",onChange:()=>n(!1),checked:!s}),a.default.createElement("label",{htmlFor:"fiat-primary-currency",className:"settings-tab__radio-label"},e("fiat")))))))}renderTheme(){const{t:e}=this.context,{theme:t,setTheme:n}=this.props,s=[{name:e("lightTheme"),value:g.ThemeType.light},{name:e("darkTheme"),value:g.ThemeType.dark},{name:e("osTheme"),value:g.ThemeType.os}];return a.default.createElement(h.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Column},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,this.context.t("theme")),a.default.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(l.default,{id:"select-theme",options:s,selectedOption:t,onChange:e=>{this.context.trackEvent({category:f.MetaMetricsEventCategory.Settings,event:"Theme Changed",properties:{theme_selected:e}}),n(e)}}))))}render(){const{warning:e}=this.props;return a.default.createElement("div",{className:"settings-page__body"},e?a.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderCurrentConversion(),this.renderUsePrimaryCurrencyOptions(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}n.default=w,b(w,"contextTypes",{t:s.default.func,metricsEvent:s.default.func,trackEvent:s.default.func}),b(w,"propTypes",{setUseBlockie:s.default.func,setCurrentCurrency:s.default.func,warning:s.default.string,updateCurrentLocale:s.default.func,currentLocale:s.default.string,useBlockie:s.default.bool,currentCurrency:s.default.string,nativeCurrency:s.default.string,useNativeCurrencyAsPrimaryCurrency:s.default.bool,setUseNativeCurrencyAsPrimaryCurrencyPreference:s.default.func,hideZeroBalanceTokens:s.default.bool,setHideZeroBalanceTokens:s.default.func,lastFetchedConversionDate:s.default.number,selectedAddress:s.default.string,tokenList:s.default.object,theme:s.default.string,setTheme:s.default.func})}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.component.js"}],[5757,{"../../../selectors":5856,"../../../store/actions":5864,"./settings-tab.component":5756,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../../store/actions"),o=e("../../../selectors"),i=(a=e("./settings-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,s.connect)(((e,t)=>{const{appState:{warning:n},metamask:a}=e,{currentCurrency:s,nativeCurrency:r,useBlockie:i,currentLocale:l,selectedAddress:c}=a,{useNativeCurrencyAsPrimaryCurrency:u,hideZeroBalanceTokens:d}=(0,o.getPreferences)(e),{lastFetchedConversionDate:p}=t;return{warning:n,currentLocale:l,currentCurrency:s,nativeCurrency:r,useBlockie:i,useNativeCurrencyAsPrimaryCurrency:u,hideZeroBalanceTokens:d,lastFetchedConversionDate:p,selectedAddress:c,tokenList:(0,o.getTokenList)(e),theme:(0,o.getTheme)(e)}}),(e=>({setCurrentCurrency:t=>e((0,r.setCurrentCurrency)(t)),setUseBlockie:t=>e((0,r.setUseBlockie)(t)),updateCurrentLocale:t=>e((0,r.updateCurrentLocale)(t)),setUseNativeCurrencyAsPrimaryCurrencyPreference:t=>e((0,r.setUseNativeCurrencyAsPrimaryCurrencyPreference)(t)),setParticipateInMetaMetrics:t=>e((0,r.setParticipateInMetaMetrics)(t)),setHideZeroBalanceTokens:t=>e((0,r.setHideZeroBalanceTokens)(t)),setTheme:t=>e((0,r.setTheme)(t))})))(i.default)}}},{package:"$root$",file:"ui/pages/settings/settings-tab/settings-tab.container.js"}],[5758,{"../../../app/scripts/lib/util":90,"../../../shared/constants/app":4665,"../../components/app/add-network/add-network":4720,"../../components/app/tab-bar":5034,"../../components/component-library":5158,"../../components/ui/metafox-logo":5349,"../../helpers/constants/design-system":5435,"../../helpers/constants/routes":5440,"../../helpers/utils/settings-search":5472,"./advanced-tab":5712,"./alerts-tab":5714,"./contact-list-tab":5723,"./experimental-tab":5729,"./info-tab":5731,"./networks-tab":5735,"./security-tab":5748,"./settings-search":5753,"./settings-search-list":5751,"./settings-tab":5755,"./snaps/snaps-list-tab":5760,"./snaps/view-snap":5763,classnames:2857,"prop-types":4123,react:4378,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=C(e("prop-types")),r=e("react-router-dom"),o=C(e("classnames")),i=C(e("../../components/app/tab-bar")),l=e("../../helpers/constants/routes"),c=e("../../helpers/utils/settings-search"),u=C(e("../../components/app/add-network/add-network")),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system"),f=C(e("../../components/ui/metafox-logo")),m=e("../../../app/scripts/lib/util"),g=e("../../../shared/constants/app"),h=C(e("./settings-tab")),_=C(e("./alerts-tab")),y=C(e("./networks-tab")),b=C(e("./advanced-tab")),E=C(e("./info-tab")),v=C(e("./security-tab")),w=C(e("./contact-list-tab")),T=C(e("./experimental-tab")),k=C(e("./snaps/snaps-list-tab")),S=C(e("./snaps/view-snap")),N=C(e("./settings-search")),x=C(e("./settings-search-list"));function C(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R.apply(this,arguments)}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends a.PureComponent{constructor(...e){super(...e),M(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:""})}componentDidMount(){this.handleConversionDate()}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate:e}=this.props;null!==e&&this.setState({lastFetchedConversionDate:e})}handleClickSetting(e){const{history:t}=this.props;t.push(e.route),this.setState({isSearchList:"",searchResults:""})}render(){const{history:e,backRoute:t,currentPath:n,mostRecentOverviewPage:s,addNewNetwork:r,isSnapViewPage:i}=this.props,{searchResults:u,isSearchList:h,searchText:_}=this.state,{t:y}=this.context,b=(0,m.getEnvironmentType)()===g.ENVIRONMENT_TYPE_POPUP;return a.default.createElement("div",{className:(0,o.default)("main-container settings-page",{"settings-page--selected":n!==l.SETTINGS_ROUTE})},a.default.createElement(d.Box,{className:"settings-page__header",padding:4,paddingBottom:[2,4]},a.default.createElement("div",{className:"settings-page__header__title-container"},b&&a.default.createElement(a.default.Fragment,null,n===l.SETTINGS_ROUTE?a.default.createElement(f.default,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:async()=>e.push(l.DEFAULT_ROUTE),display:[p.Display.Flex,p.Display.None]}):a.default.createElement(d.ButtonIcon,{ariaLabel:y("back"),iconName:d.IconName.ArrowLeft,className:"settings-page__header__title-container__back-button",color:p.Color.iconDefault,onClick:()=>e.push(t),display:[p.Display.Flex,p.Display.None],size:d.ButtonIconSize.Sm})),this.renderTitle(),a.default.createElement(d.Box,{className:"settings-page__header__title-container__search",display:[p.Display.Block]},a.default.createElement(N.default,{onSearch:({searchQuery:e="",results:t=[]})=>{this.setState({isSearchList:""!==e,searchResults:t,searchText:e})},settingsRoutesList:(0,c.getSettingsRoutes)()}),h&&_.length>=3&&a.default.createElement(x.default,{results:u,onClickSetting:e=>this.handleClickSetting(e)})),a.default.createElement(d.ButtonIcon,{className:"settings-page__header__title-container__close-button",iconName:d.IconName.Close,ariaLabel:y("close"),onClick:()=>{r?e.push(l.NETWORKS_ROUTE):e.push(s)},size:d.ButtonIconSize.Sm,marginLeft:"auto"}))),a.default.createElement("div",{className:"settings-page__content"},a.default.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),a.default.createElement("div",{className:"settings-page__content__modules"},i?null:this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t:e}=this.context,{isPopup:t,pathnameI18nKey:n,addressName:s,isSnapViewPage:r}=this.props;let o;return o=e(r?"snaps":t&&s?"details":n&&t?n:"settings"),a.default.createElement("div",{className:"settings-page__header__title-container__title"},a.default.createElement(d.Text,{variant:p.TextVariant.headingMd},o))}renderSubHeader(){const{t:e}=this.context,{currentPath:t,isPopup:n,isAddressEntryPage:s,pathnameI18nKey:r,addressName:i,initialBreadCrumbRoute:c,breadCrumbTextKey:u,history:f,initialBreadCrumbKey:m}=this.props;let g;return g=e(n&&s?"settings":s?"contacts":m||(r||"general")),!t.startsWith(l.NETWORKS_ROUTE)&&a.default.createElement(d.Box,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:p.Display.Flex,flexDirection:p.FlexDirection.Row,alignItems:p.AlignItems.center},a.default.createElement(d.Text,{className:(0,o.default)({"settings-page__subheader--link":c}),variant:p.TextVariant.headingSm,onClick:()=>c&&f.push(c)},g),u&&a.default.createElement("div",{className:"settings-page__subheader--break"},a.default.createElement("span",null," > "),e(u)),s&&a.default.createElement("div",{className:"settings-page__subheader--break"},a.default.createElement("span",null," > "),i))}renderTabs(){const{history:e,currentPath:t}=this.props,{t:n}=this.context,s=[{content:n("general"),icon:a.default.createElement(d.Icon,{name:d.IconName.Setting}),key:l.GENERAL_ROUTE},{content:n("advanced"),icon:a.default.createElement("i",{className:"fas fa-sliders-h"}),key:l.ADVANCED_ROUTE},{content:n("contacts"),icon:a.default.createElement(d.Icon,{name:d.IconName.Book}),key:l.CONTACT_LIST_ROUTE},{content:n("snaps"),icon:a.default.createElement(d.Icon,{name:d.IconName.Snaps,title:n("snapsSettingsDescription")}),key:l.SNAPS_LIST_ROUTE},{content:n("securityAndPrivacy"),icon:a.default.createElement("i",{className:"fa fa-lock"}),key:l.SECURITY_ROUTE},{content:n("alerts"),icon:a.default.createElement(d.Icon,{name:d.IconName.Notification}),key:l.ALERTS_ROUTE},{content:n("networks"),icon:a.default.createElement(d.Icon,{name:d.IconName.Plug}),key:l.NETWORKS_ROUTE},{content:n("experimental"),icon:a.default.createElement(d.Icon,{name:d.IconName.Flask}),key:l.EXPERIMENTAL_ROUTE},{content:n("about"),icon:a.default.createElement(d.Icon,{name:d.IconName.Info}),key:l.ABOUT_US_ROUTE}];return a.default.createElement(i.default,{tabs:s,isActive:e=>e===l.GENERAL_ROUTE&&t===l.SETTINGS_ROUTE||(!(e!==l.CONTACT_LIST_ROUTE||!t.includes(l.CONTACT_LIST_ROUTE))||(0,r.matchPath)(t,{exact:!0,path:e})),onSelect:t=>e.push(t)})}renderContent(){return a.default.createElement(r.Switch,null,a.default.createElement(r.Route,{exact:!0,path:l.GENERAL_ROUTE,render:e=>a.default.createElement(h.default,R({},e,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}),a.default.createElement(r.Route,{exact:!0,path:l.ABOUT_US_ROUTE,component:E.default}),a.default.createElement(r.Route,{exact:!0,path:l.ADVANCED_ROUTE,component:b.default}),a.default.createElement(r.Route,{exact:!0,path:l.ALERTS_ROUTE,component:_.default}),a.default.createElement(r.Route,{exact:!0,path:l.ADD_NETWORK_ROUTE,render:()=>a.default.createElement(y.default,{addNewNetwork:!0})}),a.default.createElement(r.Route,{exact:!0,path:l.NETWORKS_ROUTE,render:()=>a.default.createElement(y.default,{addNewNetwork:!1})}),a.default.createElement(r.Route,{exact:!0,path:l.ADD_POPULAR_CUSTOM_NETWORK,render:()=>a.default.createElement(u.default,null)}),a.default.createElement(r.Route,{exact:!0,path:l.SECURITY_ROUTE,component:v.default}),a.default.createElement(r.Route,{exact:!0,path:l.EXPERIMENTAL_ROUTE,component:T.default}),a.default.createElement(r.Route,{exact:!0,path:l.CONTACT_LIST_ROUTE,component:w.default}),a.default.createElement(r.Route,{exact:!0,path:l.CONTACT_ADD_ROUTE,component:w.default}),a.default.createElement(r.Route,{exact:!0,path:`${l.CONTACT_EDIT_ROUTE}/:id`,component:w.default}),a.default.createElement(r.Route,{exact:!0,path:`${l.CONTACT_VIEW_ROUTE}/:id`,component:w.default}),a.default.createElement(r.Route,{exact:!0,path:l.SNAPS_LIST_ROUTE,component:k.default}),a.default.createElement(r.Route,{exact:!0,path:`${l.SNAPS_VIEW_ROUTE}/:id`,component:S.default}),a.default.createElement(r.Route,{render:e=>a.default.createElement(h.default,R({},e,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}))}}M(P,"propTypes",{addNewNetwork:s.default.bool,addressName:s.default.string,backRoute:s.default.string,breadCrumbTextKey:s.default.string,conversionDate:s.default.number,currentPath:s.default.string,history:s.default.object,initialBreadCrumbKey:s.default.string,initialBreadCrumbRoute:s.default.string,isAddressEntryPage:s.default.bool,isPopup:s.default.bool,isSnapViewPage:s.default.bool,mostRecentOverviewPage:s.default.string.isRequired,pathnameI18nKey:s.default.string}),M(P,"contextTypes",{t:s.default.func});n.default=P}}},{package:"$root$",file:"ui/pages/settings/settings.component.js"}],[5759,{"../../../app/scripts/lib/util":90,"../../../shared/constants/app":4665,"../../../shared/modules/hexstring-utils":4704,"../../ducks/history/history":5424,"../../helpers/constants/routes":5440,"../../selectors":5856,"./settings.component":5758,"react-redux":4343,"react-router-dom":4363,redux:4408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("redux"),r=e("react-redux"),o=e("react-router-dom"),i=e("../../selectors"),l=e("../../../shared/constants/app"),c=e("../../../app/scripts/lib/util"),u=e("../../ducks/history/history"),d=e("../../../shared/modules/hexstring-utils"),p=e("../../helpers/constants/routes"),f=(a=e("./settings.component"))&&a.__esModule?a:{default:a};const m={[p.ABOUT_US_ROUTE]:"about",[p.ADD_NETWORK_ROUTE]:"networks",[p.ADD_POPULAR_CUSTOM_NETWORK]:"addNetwork",[p.ADVANCED_ROUTE]:"advanced",[p.ALERTS_ROUTE]:"alerts",[p.CONTACT_ADD_ROUTE]:"newContact",[p.CONTACT_EDIT_ROUTE]:"editContact",[p.CONTACT_LIST_ROUTE]:"contacts",[p.CONTACT_VIEW_ROUTE]:"viewContact",[p.EXPERIMENTAL_ROUTE]:"experimental",[p.GENERAL_ROUTE]:"general",[p.NETWORKS_FORM_ROUTE]:"networks",[p.NETWORKS_ROUTE]:"networks",[p.SECURITY_ROUTE]:"securityAndPrivacy",[p.SNAPS_LIST_ROUTE]:"snaps",[p.SNAPS_VIEW_ROUTE]:"snaps"};n.default=(0,s.compose)(o.withRouter,(0,r.connect)(((e,t)=>{const{location:n}=t,{pathname:a}=n,{metamask:{conversionDate:s}}=e,r=a.match(/[^/]+$/u)[0],o=r.includes("0x"),f=Boolean(a.match(p.SNAPS_VIEW_ROUTE)),g=Boolean(a.match(p.CONTACT_ADD_ROUTE)),h=Boolean(a.match(p.CONTACT_EDIT_ROUTE)),_=Boolean(a.match(p.NETWORKS_FORM_ROUTE))||Boolean(a.match(p.ADD_NETWORK_ROUTE)),y=Boolean(a.match(p.ADD_NETWORK_ROUTE)),b=Boolean(a.match(p.ADD_POPULAR_CUSTOM_NETWORK)),E=(0,c.getEnvironmentType)()===l.ENVIRONMENT_TYPE_POPUP,v=m[a];let w=p.SETTINGS_ROUTE;h?w=`${p.CONTACT_VIEW_ROUTE}/${r}`:o||g?w=p.CONTACT_LIST_ROUTE:_?w=p.NETWORKS_ROUTE:f?w=p.SNAPS_LIST_ROUTE:b&&(w=p.NETWORKS_ROUTE);return{addNewNetwork:y,addressName:(0,i.getAddressBookEntryOrAccountName)(e,!(0,d.isBurnAddress)(r)&&(0,d.isValidHexAddress)(r,{mixedCaseUseChecksum:!0})?r:""),backRoute:w,conversionDate:s,currentPath:a,initialBreadCrumbKey:undefined,initialBreadCrumbRoute:undefined,isAddressEntryPage:o,isPopup:E,isSnapViewPage:f,mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),pathnameI18nKey:v}})))(f.default)}}},{package:"$root$",file:"ui/pages/settings/settings.container.js"}],[5760,{"./snap-list-tab":5761},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snap-list-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/snaps/snaps-list-tab/index.js"}],[5761,{"../../../../components/app/snaps/snap-settings-card":5013,"../../../../components/component-library":5158,"../../../../helpers/constants/design-system":5435,"../../../../helpers/constants/routes":5440,"../../../../helpers/utils/settings-search":5472,"../../../../hooks/useI18nContext":5500,"../../../../selectors":5856,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),i=(a=e("../../../../components/app/snaps/snap-settings-card"))&&a.__esModule?a:{default:a},l=e("../../../../hooks/useI18nContext"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/constants/routes"),d=e("../../../../selectors"),p=e("../../../../helpers/utils/settings-search"),f=e("../../../../components/component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,l.useI18nContext)(),t=(0,o.useHistory)(),n=(0,s.useRef)();(0,s.useEffect)((()=>{(0,p.handleSettingsRefs)(e,e("snaps"),n)}),[n,e]);const a=(0,r.useSelector)((e=>(0,d.getSnapsList)(e)));return s.default.createElement(f.Box,{className:"snap-list-tab",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,height:c.BlockSize.Full},a.length>0&&s.default.createElement("div",{className:"snap-list-tab__body"},s.default.createElement("div",{className:"snap-list-tab__wrapper"},a.map((e=>s.default.createElement(i.default,{className:"snap-settings-card",key:e.key,packageName:e.packageName,name:e.name,onClick:()=>{(e=>{t.push(`${u.SNAPS_VIEW_ROUTE}/${encodeURIComponent(e.id)}`)})(e)},snapId:e.id}))))),a.length<=5&&s.default.createElement(f.Box,{display:c.Display.Flex,height:c.BlockSize.Full,flexDirection:c.FlexDirection.Row,flexWrap:c.FlexWrap.Wrap,justifyContent:c.JustifyContent.center,className:"snap-list-tab__container--snaps-info-content"},a.length<1&&s.default.createElement(f.Box,{className:"snap-list-tab__container--no-snaps_inner",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center},s.default.createElement(f.Icon,{name:f.IconName.Snaps,color:c.IconColor.iconMuted,className:"snap-list-tab__no-snaps_icon",size:f.IconSize.Inherit}),s.default.createElement(f.Text,{color:c.Color.textMuted,align:c.TextAlign.Center,marginTop:4},e("noSnaps"))),s.default.createElement(f.Box,{display:c.Display.Flex,width:c.BlockSize.Full,height:c.BlockSize.Min}),s.default.createElement(f.Box,{className:"snap-list-tab__container--no-snaps_banner-tip",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},s.default.createElement(f.BannerTip,{logoType:f.BannerTipLogoType.Greeting,description:e("extendWalletWithSnaps"),descriptionProps:{variant:c.TextVariant.bodyMd}},s.default.createElement(f.ButtonLink,{size:c.Size.auto,href:a.length>0?"https://snaps.metamask.io/":"https://metamask.io/snaps/",target:"_blank",endIconName:f.IconName.Export},`${e("discoverSnaps")}`)))))}}}},{package:"$root$",file:"ui/pages/settings/snaps/snaps-list-tab/snap-list-tab.js"}],[5762,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringSnapRemovalResultStatus=void 0;n.KeyringSnapRemovalResultStatus={Success:"success",Failed:"failed",None:"none"}}}},{package:"$root$",file:"ui/pages/settings/snaps/view-snap/constants.ts"}],[5763,{"./view-snap":5764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./view-snap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/snaps/view-snap/index.js"}],[5764,{"../../../../components/app/connected-sites-list":4800,"../../../../components/app/snaps/keyring-snap-removal-warning":4991,"../../../../components/app/snaps/snap-authorship-expanded":4994,"../../../../components/app/snaps/snap-delineator":5001,"../../../../components/app/snaps/snap-permissions-list":5007,"../../../../components/app/snaps/snap-remove-warning":5011,"../../../../components/component-library":5158,"../../../../components/ui/box":5271,"../../../../components/ui/button":5275,"../../../../helpers/constants/design-system":5435,"../../../../helpers/constants/routes":5440,"../../../../helpers/constants/snaps":5443,"../../../../helpers/utils/util":5476,"../../../../hooks/useI18nContext":5500,"../../../../selectors":5856,"../../../../store/actions":5864,"./constants":5762,"@metamask/rpc-methods":1700,classnames:2857,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-router-dom"),r=e("react-redux"),o=e("@metamask/rpc-methods"),i=S(e("classnames")),l=S(e("../../../../components/ui/button")),c=e("../../../../hooks/useI18nContext"),u=e("../../../../helpers/constants/design-system"),d=S(e("../../../../components/app/snaps/snap-authorship-expanded")),p=S(e("../../../../components/ui/box")),f=S(e("../../../../components/app/snaps/snap-remove-warning")),m=S(e("../../../../components/app/connected-sites-list")),g=S(e("../../../../components/app/snaps/keyring-snap-removal-warning")),h=e("../../../../helpers/constants/routes"),_=e("../../../../store/actions"),y=e("../../../../selectors"),b=e("../../../../helpers/utils/util"),E=e("../../../../components/component-library"),v=S(e("../../../../components/app/snaps/snap-permissions-list")),w=e("../../../../components/app/snaps/snap-delineator"),T=e("../../../../helpers/constants/snaps"),k=e("./constants");function S(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}n.default=function(){var e;const t=(0,c.useI18nContext)(),n=(0,s.useHistory)(),S=(0,s.useLocation)(),N=(0,a.useRef)(null),{pathname:x}=S,C=decodeURIComponent(x.match(/[^/]+$/u)[0]),O=(0,r.useSelector)(y.getSnaps),R=Object.entries(O).map((([e,t])=>t)).find((e=>e.id===C)),[M,P]=(0,a.useState)(!1),[I,A]=(0,a.useState)(!1),[j,D]=(0,a.useState)(!1),[L,U]=(0,a.useState)(!1),[F,B]=(0,a.useState)([]),W=(0,r.useSelector)(y.getMemoizedMetaMaskIdentities);(0,a.useEffect)((()=>{R||n.push(h.SNAPS_LIST_ROUTE)}),[n,R]),(0,a.useEffect)((()=>{D(N.current&&N.current.offsetHeight<N.current.scrollHeight)}),[N]);const $=(0,r.useSelector)((e=>(0,y.getSubjectsWithSnapPermission)(e,null==R?void 0:R.id))),q=(0,r.useSelector)((e=>R&&(0,y.getPermissions)(e,R.id))),V=(0,r.useSelector)((e=>(0,y.getPermissionSubjects)(e))),G=(0,r.useSelector)((e=>(0,y.getTargetSubjectMetadata)(e,null==R?void 0:R.id)));let K=!1;K=Boolean(null===(e=V[null==R?void 0:R.id])||void 0===e||null===(e=e.permissions)||void 0===e?void 0:e.snap_manageAccounts),(0,a.useEffect)((()=>{K&&(async()=>{const e=await(0,_.getSnapAccountsById)(R.id),t=Object.values(W).filter((t=>e.includes(t.address.toLowerCase())));B(t)})()}),[null==R?void 0:R.id,W,K]);const H=(0,r.useDispatch)();if(!R)return null;const z=(0,b.getSnapName)(R.id,G),Y=j&&!I;return a.default.createElement(p.default,{className:"view-snap",paddingBottom:[4,8],paddingTop:[4,8],paddingLeft:4,paddingRight:4},a.default.createElement(d.default,{snapId:R.id,snap:R}),a.default.createElement(p.default,{className:"view-snap__description",marginTop:[4,7]},a.default.createElement(w.SnapDelineator,{type:T.DelineatorType.Description,snapName:z},a.default.createElement(p.default,{className:(0,i.default)("view-snap__description__wrapper",{open:I}),ref:N},a.default.createElement(E.Text,null,null==R?void 0:R.manifest.description),Y&&a.default.createElement(l.default,{className:"view-snap__description__more-button",type:"link",onClick:()=>{A(!0)}},a.default.createElement(E.Text,{color:u.Color.infoDefault},t("more")))))),a.default.createElement(p.default,{className:"view-snap__permissions",marginTop:12},a.default.createElement(E.Text,{variant:u.TextVariant.bodyLgMedium},t("permissions")),a.default.createElement(v.default,{snapId:C,permissions:q??{},targetSubjectMetadata:G,showOptions:!0})),a.default.createElement(p.default,{className:"view-snap__connected-sites",marginTop:12},a.default.createElement(E.Text,{variant:u.TextVariant.bodyLgMedium,marginBottom:2},t("connectedSites")),a.default.createElement(m.default,{connectedSubjects:$,onDisconnect:e=>{((e,t)=>{const n={...V[e].permissions[o.WALLET_SNAP_PERMISSION_KEY].caveats[0].value};delete n[t],Object.keys(n).length>0?H((0,_.updateCaveat)(e,o.WALLET_SNAP_PERMISSION_KEY,o.SnapCaveatType.SnapIds,n)):H((0,_.removePermissionsFor)({[e]:[o.WALLET_SNAP_PERMISSION_KEY]}))})(e,R.id)}})),a.default.createElement(p.default,{className:"view-snap__remove",marginTop:12},a.default.createElement(E.Text,{variant:u.TextVariant.bodyLgMedium,color:u.TextColor.textDefault},t("removeSnap")),a.default.createElement(E.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textDefault},t("removeSnapDescription")),a.default.createElement(p.default,{marginTop:4},a.default.createElement(l.default,{className:"view-snap__remove-button",type:"danger",onClick:()=>P(!0)},a.default.createElement(E.Text,{"data-testid":"remove-snap-button",variant:u.TextVariant.bodyMd,color:u.TextColor.errorDefault,flexWrap:u.FLEX_WRAP.NO_WRAP,ellipsis:!0,style:{overflow:"hidden"}},`${t("remove")} ${z}`)),a.default.createElement(f.default,{isOpen:M&&(!K||0===F.length)&&!L,onCancel:()=>P(!1),onSubmit:async()=>{await H((0,_.removeSnap)(R.id))},snapName:z}),a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{snap:R,keyringAccounts:F,snapUrl:R.url,onCancel:()=>P(!1),onClose:()=>P(!1),onBack:()=>P(!1),onSubmit:async()=>{try{U(!0),await H((0,_.removeSnap)(R.id)),P(!1),H((0,_.showKeyringSnapRemovalModal)({snapName:z,result:k.KeyringSnapRemovalResultStatus.Success}))}catch{P(!1),H((0,_.showKeyringSnapRemovalModal)({snapName:z,result:k.KeyringSnapRemovalResultStatus.Failed}))}finally{U(!1)}},isOpen:M&&K&&F.length>0})))))}}}},{package:"$root$",file:"ui/pages/settings/snaps/view-snap/view-snap.js"}],[5765,{"./snap-account-redirect-context":5767},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountRedirectContent",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snap-account-redirect-context"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/index.ts"}],[5766,{"../../../components/component-library":5158,"../../../helpers/constants/design-system":5435,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system");const i=({url:e})=>s.default.createElement(r.ButtonIcon,{onClick:()=>{global.platform.openTab({url:e})},iconName:r.IconName.Export,color:o.IconColor.primaryDefault,size:r.ButtonIconSize.Sm,ariaLabel:""});n.default=s.default.memo(i)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/redirect-url-icon.tsx"}],[5767,{"../../../components/component-library":5158,"../../../helpers/constants/design-system":5435,"../../../hooks/useI18nContext":5500,"./snap-account-redirect-message":5768,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),s=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),o=e("../../../hooks/useI18nContext"),i=l(e("./snap-account-redirect-message"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=({url:e,snapName:t,isBlockedUrl:n,message:l})=>{const c=(0,o.useI18nContext)();return a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,paddingTop:4},a.default.createElement(s.Box,{gap:4,display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center},a.default.createElement(s.Text,{"data-testid":"snap-account-redirect-content-title",textAlign:r.TextAlign.Center,variant:r.TextVariant.headingLg},c("snapAccountRedirectFinishSigningTitle")),n?a.default.createElement(s.Box,{display:r.Display.Flex,paddingLeft:4,paddingRight:4},a.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Danger,"data-testid":"snap-account-redirect-content-blocked-url-banner"},a.default.createElement(s.Text,null,c("snapUrlIsBlocked",[a.default.createElement(s.Button,{variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,onClick:()=>global.platform.openTab({url:"https://support.metamask.io/hc/en-us/articles/4428045875483--Deceptive-site-ahead-when-trying-to-connect-to-a-site"}),key:"snap-url-is-blocked-learn-more-button"},c("learnMore"))])))):null,!1===n?a.default.createElement(s.Text,{"data-testid":"snap-account-redirect-content-description",textAlign:r.TextAlign.Center,variant:r.TextVariant.bodyMd},c("snapAccountRedirectSiteDescription",[t])):null,(e.length>0||l.length>0)&&!1===n?a.default.createElement(i.default,{snapName:t,url:e,message:l}):null))}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-context.tsx"}],[5768,{"../../../components/app/snaps/snap-delineator":5001,"../../../components/component-library":5158,"../../../helpers/constants/design-system":5435,"./url-display-box":5769,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),s=e("../../../helpers/constants/design-system"),r=e("../../../components/component-library"),o=e("../../../components/app/snaps/snap-delineator"),i=l(e("./url-display-box"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({snapName:e,url:t,message:n})=>a.default.createElement(o.SnapDelineator,{"data-testid":"snap-account-redirect-message-container",snapName:e},""!==n?a.default.createElement(r.Text,{variant:s.TextVariant.bodyMd,"data-testid":"snap-account-redirect-message"},n):null,t.length>0?a.default.createElement(r.Box,{paddingTop:2,display:s.Display.Flex},a.default.createElement(i.default,{url:t})):null);n.default=a.default.memo(c)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/snap-account-redirect-message.tsx"}],[5769,{"../../../components/component-library":5158,"../../../helpers/constants/design-system":5435,"./redirect-url-icon":5766,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),s=e("../../../helpers/constants/design-system"),r=e("../../../components/component-library"),o=i(e("./redirect-url-icon"));function i(e){return e&&e.__esModule?e:{default:e}}const l=({url:e})=>a.default.createElement(r.Box,{display:s.Display.InlineFlex,backgroundColor:s.BackgroundColor.backgroundDefault,alignItems:s.AlignItems.center,borderWidth:1,borderRadius:s.BorderRadius.SM,borderColor:s.BorderColor.borderDefault,paddingRight:4},a.default.createElement(r.Text,{"data-testid":"snap-account-redirect-url-display-box",padding:2,variant:s.TextVariant.bodyMd,color:s.TextColor.primaryDefault},e),a.default.createElement(o.default,{url:e}));n.default=a.default.memo(l)}}},{package:"$root$",file:"ui/pages/snap-account-redirect/components/url-display-box.tsx"}],[5770,{"./snap-account-redirect":5771},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountRedirect",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./snap-account-redirect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/snap-account-redirect/index.ts"}],[5771,{"../../components/component-library":5158,"../../helpers/constants/design-system":5435,"./components":5765,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../components/component-library"),o=e("../../helpers/constants/design-system"),i=e("./components");n.default=({url:e,snapName:t,isBlockedUrl:n,message:a})=>s.default.createElement(r.Box,{className:"create-snap-account-page",height:o.BlockSize.Full,width:o.BlockSize.Full,borderStyle:o.BorderStyle.none,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,paddingLeft:4,paddingRight:4},s.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,height:o.BlockSize.Full},s.default.createElement(i.SnapAccountRedirectContent,{url:e,snapName:t,isBlockedUrl:n,message:a})))}}},{package:"$root$",file:"ui/pages/snap-account-redirect/snap-account-redirect.tsx"}],[5772,{"../../../../shared/constants/metametrics":4673,"../../../components/component-library":5158,"../../../components/ui/box":5271,"../../../components/ui/pulse-loader":5365,"../../../contexts/i18n":5412,"../../../contexts/metametrics":5413,"../../../ducks/swaps/swaps":5431,"../../../helpers/constants/design-system":5435,"../../../helpers/constants/routes":5440,"../../../selectors/selectors":5859,"../swaps-footer":5836,"./swap-step-icon":5774,"lodash/isEqual":3961,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useContext)(i.I18nContext),t=(0,r.useHistory)(),n=(0,s.useDispatch)(),b=(0,s.useSelector)(l.getFetchParams,o.default),{destinationTokenInfo:E,sourceTokenInfo:v}=(null==b?void 0:b.metaData)||{},w=(0,s.useSelector)(l.getApproveTxParams,s.shallowEqual),T=(0,s.useSelector)(c.isHardwareWallet),k=(0,s.useSelector)(c.getHardwareWalletType),S=(0,s.useSelector)(l.getSmartTransactionsOptInStatus),N=(0,s.useSelector)(l.getSmartTransactionsEnabled),x=(0,s.useSelector)(l.getCurrentSmartTransactionsEnabled),C=Boolean(w),O=(0,a.useContext)(g.MetaMetricsContext);(0,a.useEffect)((()=>{O({event:"Awaiting Signature(s) on a HW wallet",category:h.MetaMetricsEventCategory.Swaps,sensitiveProperties:{needs_two_confirmations:C,token_from:null==v?void 0:v.symbol,token_from_amount:null==b?void 0:b.value,token_to:null==E?void 0:E.symbol,request_type:null!=b&&b.balanceError?"Quote":"Order",slippage:null==b?void 0:b.slippage,custom_slippage:2===(null==b?void 0:b.slippage),is_hardware_wallet:T,hardware_wallet_type:k,stx_enabled:N,current_stx_enabled:x,stx_user_opt_in:S}})}),[]);const R=e(C?"swapTwoTransactions":"swapConfirmWithHwWallet");return a.default.createElement("div",{className:"awaiting-signatures"},a.default.createElement(p.default,{paddingLeft:8,paddingRight:8,height:f.BLOCK_SIZES.FULL,justifyContent:f.JustifyContent.center,display:f.DISPLAY.FLEX,className:"awaiting-signatures__content"},a.default.createElement(p.default,{marginTop:3,marginBottom:4},a.default.createElement(d.default,null)),a.default.createElement(_.Text,{color:f.TextColor.textDefault,variant:f.TextVariant.headingMd,as:"h3"},R),C&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.Text,{variant:f.TextVariant.bodyMdBold,marginTop:2},e("swapToConfirmWithHwWallet")),a.default.createElement("ul",{className:"awaiting-signatures__steps"},a.default.createElement("li",null,a.default.createElement(y.default,{stepNumber:1}),e("swapAllowSwappingOf",[a.default.createElement(_.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"allowToken"},null==E?void 0:E.symbol)])),a.default.createElement("li",null,a.default.createElement(y.default,{stepNumber:2}),e("swapFromTo",[a.default.createElement(_.Text,{as:"span",variant:f.TextVariant.bodyMdBold,key:"tokenFrom"},null==v?void 0:v.symbol),a.default.createElement(_.Text,{as:"span",variation:f.TextVariant.bodyMdBold,key:"tokenTo"},null==E?void 0:E.symbol)]))),a.default.createElement(_.Text,{variant:f.TextVariant.bodyMd},e("swapGasFeesSplit")))),a.default.createElement(m.default,{onSubmit:async()=>{await n((0,l.prepareToLeaveSwaps)()),t.push(u.DEFAULT_ROUTE),t.push(u.BUILD_QUOTE_ROUTE)},submitText:e("cancel"),hideCancel:!0}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=b(e("lodash/isEqual")),i=e("../../../contexts/i18n"),l=e("../../../ducks/swaps/swaps"),c=e("../../../selectors/selectors"),u=e("../../../helpers/constants/routes"),d=b(e("../../../components/ui/pulse-loader")),p=b(e("../../../components/ui/box")),f=e("../../../helpers/constants/design-system"),m=b(e("../swaps-footer")),g=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),_=e("../../../components/component-library"),y=b(e("./swap-step-icon"));function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/awaiting-signatures.js"}],[5773,{"./awaiting-signatures":5772},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./awaiting-signatures"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/index.js"}],[5774,{"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var a=r(e("react")),s=r(e("prop-types"));function r(e){return e&&e.__esModule?e:{default:e}}function o({stepNumber:e=1}){switch(e){case 1:return a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return a.default.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),a.default.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return undefined}}o.propTypes={stepNumber:s.default.number}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-signatures/swap-step-icon.js"}],[5775,{"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/swaps":4681,"../../../../shared/lib/ui-utils":4695,"../../../../shared/modules/swaps.utils":4714,"../../../components/ui/mascot":5343,"../../../components/ui/pulse-loader":5365,"../../../contexts/i18n":5412,"../../../contexts/metametrics":5413,"../../../ducks/swaps/swaps":5431,"../../../helpers/constants/routes":5440,"../../../selectors":5856,"../../../store/actions":5864,"../create-new-swap":5785,"../swaps-footer":5836,"../swaps.util":5838,"../view-on-block-explorer":5840,"./quotes-timeout-icon":5777,"./swap-failure-icon":5778,"./swap-success-icon":5779,"@metamask/etherscan-link":1389,events:3237,"lodash/isEqual":3961,"prop-types":4123,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=M;var a=R(e("events")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=R(e("prop-types")),i=e("react-router-dom"),l=R(e("lodash/isEqual")),c=e("@metamask/etherscan-link"),u=e("../../../contexts/i18n"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),f=e("../../../selectors"),m=e("../../../ducks/swaps/swaps"),g=R(e("../../../components/ui/mascot")),h=e("../../../../shared/constants/swaps"),_=e("../../../../shared/modules/swaps.utils"),y=R(e("../../../components/ui/pulse-loader")),b=e("../../../helpers/constants/routes"),E=e("../../../store/actions"),v=e("../swaps.util"),w=R(e("../swaps-footer")),T=R(e("../create-new-swap")),k=R(e("../view-on-block-explorer")),S=e("../../../../shared/lib/ui-utils"),N=R(e("./swap-failure-icon")),x=R(e("./swap-success-icon")),C=R(e("./quotes-timeout-icon"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function R(e){return e&&e.__esModule?e:{default:e}}function M({swapComplete:e,errorKey:t,txHash:n,tokensReceived:o,submittingSwap:O,txId:R}){const M=(0,s.useContext)(u.I18nContext),P=(0,s.useContext)(d.MetaMetricsContext),I=(0,i.useHistory)(),A=(0,r.useDispatch)(),j=(0,s.useRef)(new a.default),{swapMetaData:D}=(0,r.useSelector)((e=>(0,f.getFullTxData)(e,R)))||{},L=(0,r.useSelector)(m.getFetchParams,l.default),U=(0,r.useSelector)(m.getFromTokenInputValue),F=(0,r.useSelector)(m.getMaxSlippage),B=(0,r.useSelector)(m.getUsedQuote,l.default),W=(0,r.useSelector)(m.getApproveTxParams,r.shallowEqual),$=(0,r.useSelector)(m.getUsedSwapsGasPrice),q=(0,r.useSelector)(f.getCurrentCurrency),V=(0,r.useSelector)(f.getUSDConversionRate),G=(0,r.useSelector)(f.getCurrentChainId),K=(0,r.useSelector)(f.getRpcPrefsForCurrentProvider,r.shallowEqual),[H,z]=(0,s.useState)(!1);let Y;if(B&&$){var Q;Y=(0,v.getRenderableNetworkFeesForQuote)({tradeGas:B.gasEstimateWithRefund||B.averageGas,approveGas:(null==W?void 0:W.gas)||"0x0",gasPrice:$,currentCurrency:q,conversionRate:V,tradeValue:null==B||null===(Q=B.trade)||void 0===Q?void 0:Q.value,sourceSymbol:null==D?void 0:D.token_from,sourceAmount:B.sourceAmount,chainId:G}).rawNetworkFees}const X=(0,r.useSelector)(f.isHardwareWallet),J=(0,r.useSelector)(f.getHardwareWalletType),Z=(0,r.useSelector)(m.getSmartTransactionsOptInStatus),ee=(0,r.useSelector)(m.getSmartTransactionsEnabled),te=(0,r.useSelector)(m.getCurrentSmartTransactionsEnabled),ne={token_from:null==D?void 0:D.token_from,token_from_amount:null==D?void 0:D.token_from_amount,token_to:null==D?void 0:D.token_to,request_type:null!=L&&L.balanceError?"Quote":"Order",slippage:null==D?void 0:D.slippage,custom_slippage:2===(null==D?void 0:D.slippage),gas_fees:Y,is_hardware_wallet:X,hardware_wallet_type:J,stx_enabled:ee,current_stx_enabled:te,stx_user_opt_in:Z},ae=K.blockExplorerUrl??h.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[G]??null,se=(0,c.getBlockExplorerLink)({hash:n,chainId:G},{blockExplorerUrl:ae});let re,oe,ie,le,ce;return t===h.OFFLINE_FOR_MAINTENANCE?(re=M("offlineForMaintenance"),ie=M("metamaskSwapsOfflineDescription"),le=M("close"),oe=s.default.createElement(N.default,null)):t===h.SWAP_FAILED_ERROR?(re=M("swapFailedErrorTitle"),ie=M("swapFailedErrorDescriptionWithSupportLink",[s.default.createElement("a",{className:"awaiting-swap__support-link",key:"awaiting-swap-support-link",href:S.SUPPORT_LINK,target:"_blank",rel:"noopener noreferrer",onClick:()=>{P({category:p.MetaMetricsEventCategory.Swaps,event:p.MetaMetricsEventName.SupportLinkClicked,properties:{url:S.SUPPORT_LINK}},{contextPropsIntoEventProperties:[p.MetaMetricsContextProp.PageTitle]})}},new URL(S.SUPPORT_LINK).hostname)]),le=M("tryAgain"),oe=s.default.createElement(N.default,null),ce=se&&s.default.createElement(k.default,{blockExplorerUrl:se,sensitiveTrackingProperties:ne})):t===h.QUOTES_EXPIRED_ERROR?(re=M("swapQuotesExpiredErrorTitle"),ie=M("swapQuotesExpiredErrorDescription"),le=M("tryAgain"),oe=s.default.createElement(C.default,null),H||(z(!0),P({event:"Quotes Timed Out",category:p.MetaMetricsEventCategory.Swaps,sensitiveProperties:ne}))):t===h.ERROR_FETCHING_QUOTES?(re=M("swapFetchingQuotesErrorTitle"),ie=M("swapFetchingQuotesErrorDescription"),le=M("back"),oe=s.default.createElement(N.default,null)):t===h.QUOTES_NOT_AVAILABLE_ERROR?(re=M("swapQuotesNotAvailableErrorTitle"),ie=M("swapQuotesNotAvailableErrorDescription"),le=M("tryAgain"),oe=s.default.createElement(N.default,null)):t===h.CONTRACT_DATA_DISABLED_ERROR?(re=M("swapContractDataDisabledErrorTitle"),ie=M("swapContractDataDisabledErrorDescription"),le=M("tryAgain"),oe=s.default.createElement(N.default,null)):t||e?!t&&e&&(re=M("swapTransactionComplete"),oe=s.default.createElement(x.default,null),le=M("close"),ie=M("swapTokenAvailable",[s.default.createElement("span",{key:"swapTokenAvailable-2",className:"awaiting-swap__amount-and-symbol"},`${o||""} ${null==D?void 0:D.token_to}`)]),ce=se&&s.default.createElement(k.default,{blockExplorerUrl:se,sensitiveTrackingProperties:ne})):(re=M("swapProcessing"),oe=s.default.createElement(y.default,null),le=M("swapsViewInActivity"),ie=M("swapOnceTransactionHasProcess",[s.default.createElement("span",{key:"swapOnceTransactionHasProcess-1",className:"awaiting-swap__amount-and-symbol","data-testid":"awaiting-swap-amount-and-symbol"},null==D?void 0:D.token_to)]),ce=se&&s.default.createElement(k.default,{blockExplorerUrl:se,sensitiveTrackingProperties:ne})),(0,s.useEffect)((()=>{t&&A((0,E.stopPollingForQuotes)())}),[A,t]),s.default.createElement("div",{className:"awaiting-swap"},s.default.createElement("div",{className:"awaiting-swap__content"},!(e||t)&&s.default.createElement(g.default,{animationEventEmitter:j.current,width:"90",height:"90"}),s.default.createElement("div",{className:"awaiting-swap__status-image"},oe),s.default.createElement("div",{className:"awaiting-swap__header","data-testid":"awaiting-swap-header"},re),s.default.createElement("div",{className:"awaiting-swap__main-description","data-testid":"awaiting-swap-main-description"},ie),ce),!t&&e?s.default.createElement(T.default,{sensitiveTrackingProperties:ne}):null,s.default.createElement(w.default,{onSubmit:async()=>{t===h.OFFLINE_FOR_MAINTENANCE?(await A((0,m.prepareToLeaveSwaps)()),I.push(b.DEFAULT_ROUTE)):t===h.QUOTES_EXPIRED_ERROR?(A((0,m.prepareForRetryGetQuotes)()),await A((0,m.fetchQuotesAndSetQuoteState)(I,U,F,P))):t?await A((0,m.navigateBackToBuildQuote)(I)):((0,_.isSwapsDefaultTokenSymbol)(null==D?void 0:D.token_to,G)||e||await A((0,E.setDefaultHomeActiveTabName)("activity")),I.push(b.DEFAULT_ROUTE))},onCancel:async()=>await A((0,m.navigateBackToBuildQuote)(I)),submitText:le,disabled:O,hideCancel:t!==h.QUOTES_EXPIRED_ERROR}))}M.propTypes={swapComplete:o.default.bool,txHash:o.default.string,tokensReceived:o.default.string,errorKey:o.default.oneOf([h.QUOTES_EXPIRED_ERROR,h.SWAP_FAILED_ERROR,h.ERROR_FETCHING_QUOTES,h.QUOTES_NOT_AVAILABLE_ERROR,h.OFFLINE_FOR_MAINTENANCE,h.CONTRACT_DATA_DISABLED_ERROR]),submittingSwap:o.default.bool,txId:o.default.string}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/awaiting-swap.js"}],[5776,{"./awaiting-swap":5775},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./awaiting-swap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/index.js"}],[5777,{react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return s.default.createElement("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M22 0C9.96768 0 0.178406 9.78928 0.178406 21.8216C0.178406 33.8539 9.96768 43.6432 22 43.6432C34.0323 43.6432 43.8216 33.8539 43.8216 21.8216C43.8216 9.78929 34.0323 0 22 0ZM22 3.27324C32.2633 3.27324 40.5484 11.5583 40.5484 21.8216C40.5484 32.0849 32.2633 40.3699 22 40.3699C11.7367 40.3699 3.45164 32.0849 3.45164 21.8216C3.45164 11.5583 11.7367 3.27324 22 3.27324ZM22 6.00094C21.0961 6.00094 20.3634 6.73371 20.3634 7.63756V21.8216C20.3634 22.4269 20.6932 22.9534 21.1817 23.2366L32.5187 29.783C33.3014 30.235 34.3001 29.9692 34.752 29.1864C35.2039 28.4036 34.938 27.405 34.1553 26.953L23.6366 20.8839V7.63756C23.6366 6.73371 22.9039 6.00094 22 6.00094Z",fill:"var(--color-primary-default)"}))};var a,s=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/quotes-timeout-icon.js"}],[5778,{react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return s.default.createElement("svg",{width:"45",height:"39",viewBox:"0 0 45 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M22.203 0.424438L0.285706 38.2816H44.1203L22.203 0.424438ZM22.203 8.39436L37.2064 34.2966H7.19961L22.203 8.39436ZM20.2105 16.3643V24.3342H24.1955V16.3643H20.2105ZM20.2105 28.3192V32.3041H24.1955V28.3192",fill:"var(--color-error-default)"}))};var a,s=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-failure-icon.js"}],[5779,{react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return s.default.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M34.1429 19C34.1429 23.0161 32.5474 26.8678 29.7076 29.7076C26.8678 32.5474 23.0161 34.1428 19 34.1428C14.9839 34.1428 11.1322 32.5474 8.29238 29.7076C5.45254 26.8678 3.85714 23.0161 3.85714 19C3.85714 14.9838 5.45254 11.1322 8.29238 8.29237C11.1322 5.45253 14.9839 3.85713 19 3.85713C20.4386 3.85713 21.8393 4.06534 23.1643 4.44391L26.1361 1.47213C23.9404 0.563554 21.5364 0.0714111 19 0.0714111C16.5143 0.0714111 14.0529 0.561013 11.7563 1.51226C9.45983 2.46351 7.37316 3.85778 5.61548 5.61546C2.06568 9.16526 0.0714264 13.9798 0.0714264 19C0.0714264 24.0201 2.06568 28.8347 5.61548 32.3845C7.37316 34.1422 9.45983 35.5364 11.7563 36.4877C14.0529 37.4389 16.5143 37.9286 19 37.9286C24.0202 37.9286 28.8347 35.9343 32.3845 32.3845C35.9343 28.8347 37.9286 24.0201 37.9286 19H34.1429ZM11.2582 15.3657L8.58928 18.0536L17.1071 26.5714L36.0357 7.64284L33.3668 4.95498L17.1071 21.2146L11.2582 15.3657Z",fill:"var(--color-success-default)"}))};var a,s=(a=e("react"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/awaiting-swap/swap-success-icon.js"}],[5780,{"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/swaps":4681,"../../../../shared/lib/swaps-utils":4691,"../../../../shared/lib/token-util.ts":4693,"../../../../shared/lib/transactions-controller-utils":4694,"../../../../shared/modules/conversion.utils":4700,"../../../../shared/modules/string-utils":4713,"../../../../shared/modules/swaps.utils":4714,"../../../components/ui/actionable-message/actionable-message":5267,"../../../components/ui/info-tooltip":5329,"../../../contexts/i18n":5412,"../../../contexts/metametrics":5413,"../../../ducks/metamask/metamask":5427,"../../../ducks/swaps/swaps":5431,"../../../helpers/constants/routes":5440,"../../../helpers/utils/util":5476,"../../../hooks/useEqualityCheck":5497,"../../../hooks/useEthFiatAmount":5498,"../../../hooks/usePrevious":5506,"../../../hooks/useTokenFiatAmount":5519,"../../../hooks/useTokenTracker":5520,"../../../hooks/useTokensToSearch":5521,"../../../selectors":5856,"../../../store/actions":5864,"../dropdown-input-pair":5787,"../dropdown-search-list":5789,"../prepare-swap-page/smart-transactions-popover":5809,"../slippage-buttons":5825,"../swaps-footer":5836,"../swaps.util":5838,"@metamask/etherscan-link":1389,"bignumber.js":2692,classnames:2857,lodash:3975,"prop-types":4123,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=G;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=W(e("bignumber.js")),r=W(e("prop-types")),o=e("react-redux"),i=W(e("classnames")),l=e("lodash"),c=e("react-router-dom"),u=e("@metamask/etherscan-link"),d=e("../../../contexts/metametrics"),p=e("../../../hooks/useTokensToSearch"),f=e("../../../hooks/useEqualityCheck"),m=e("../../../contexts/i18n"),g=W(e("../dropdown-input-pair")),h=W(e("../dropdown-search-list")),_=W(e("../slippage-buttons")),y=e("../../../ducks/metamask/metamask"),b=W(e("../../../components/ui/info-tooltip")),E=W(e("../../../components/ui/actionable-message/actionable-message")),v=e("../../../helpers/constants/routes"),w=e("../../../ducks/swaps/swaps"),T=e("../../../selectors"),k=e("../../../helpers/utils/util"),S=e("../../../hooks/usePrevious"),N=e("../../../hooks/useTokenTracker"),x=e("../../../hooks/useTokenFiatAmount"),C=e("../../../hooks/useEthFiatAmount"),O=e("../../../../shared/modules/swaps.utils"),R=e("../../../../shared/constants/metametrics"),M=e("../../../../shared/constants/swaps"),P=e("../../../store/actions"),I=e("../swaps.util"),A=W(e("../swaps-footer")),j=e("../../../../shared/modules/string-utils"),D=e("../../../../shared/lib/transactions-controller-utils"),L=e("../../../../shared/lib/token-util.ts"),U=e("../../../../shared/lib/swaps-utils"),F=e("../../../../shared/modules/conversion.utils"),B=W(e("../prepare-swap-page/smart-transactions-popover"));function W(e){return e&&e.__esModule?e:{default:e}}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}const q=[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}];let V;function G({ethBalance:e,selectedAccountAddress:t,shuffledTokensList:n}){var r;const W=(0,a.useContext)(m.I18nContext),$=(0,o.useDispatch)(),G=(0,c.useHistory)(),K=(0,a.useContext)(d.MetaMetricsContext),[H,z]=(0,a.useState)(undefined),[Y,Q]=(0,a.useState)(!1),X=(0,o.useSelector)(w.getIsFeatureFlagLoaded),J=(0,o.useSelector)(w.getBalanceError),Z=(0,o.useSelector)(w.getFetchParams,l.isEqual),{sourceTokenInfo:ee={},destinationTokenInfo:te={}}=(null==Z?void 0:Z.metaData)||{},ne=(0,o.useSelector)(y.getTokens,l.isEqual),ae=(0,o.useSelector)(w.getTopAssets,l.isEqual),se=(0,o.useSelector)(w.getFromToken,l.isEqual),re=(0,o.useSelector)(w.getFromTokenInputValue),oe=(0,o.useSelector)(w.getFromTokenError),ie=(0,o.useSelector)(w.getMaxSlippage),le=(0,o.useSelector)(w.getToToken,l.isEqual)||te,ce=(0,o.useSelector)(T.getSwapsDefaultToken,l.isEqual),ue=(0,o.useSelector)(T.getCurrentChainId),de=(0,o.useSelector)(T.getRpcPrefsForCurrentProvider,o.shallowEqual),pe=(0,o.useSelector)(T.getTokenList,l.isEqual),fe=(0,o.useSelector)(w.getQuotes,l.isEqual),me=Object.keys(fe).length>0,ge=(0,o.useSelector)(w.getLatestAddedTokenTo,l.isEqual),he=(0,o.useSelector)(T.getTokenExchangeRates,l.isEqual),_e=(0,o.useSelector)(y.getConversionRate),ye=(0,o.useSelector)(T.getUseCurrencyRateCheck),be=(0,o.useSelector)(T.isHardwareWallet),Ee=(0,o.useSelector)(T.getHardwareWalletType),ve=(0,o.useSelector)(w.getSmartTransactionsOptInStatus),we=(0,o.useSelector)(w.getSmartTransactionsEnabled),Te=(0,o.useSelector)(w.getCurrentSmartTransactionsEnabled),ke=(0,o.useSelector)(w.getSmartTransactionFees),Se=ve!==undefined,Ne=(0,o.useSelector)(w.getCurrentSmartTransactionsError),xe=(0,o.useSelector)(T.getCurrentCurrency),Ce=we&&!Se,Oe=(0,O.isSwapsDefaultTokenSymbol)(null==ee?void 0:ee.symbol,ue)?ce:ee,{loading:Re,tokensWithBalances:Me}=(0,N.useTokenTracker)({tokens:ne}),Pe=!(0,O.isSwapsDefaultTokenSymbol)(null==se?void 0:se.symbol,ue)&&null!=se&&se.balance?[se]:[],Ie=(0,l.uniqBy)([...Me,...ne,...Pe],"address"),Ae=(0,f.useEqualityCheck)(Ie),je=(0,p.getRenderableTokenData)(se||Oe,he,_e,xe,ue,pe),De=(0,p.useTokensToSearch)({usersTokens:Ae,topTokens:ae,shuffledTokensList:n,tokenBucketPriority:M.TokenBucketPriority.owned}),Le=(0,p.useTokensToSearch)({usersTokens:Ae,topTokens:ae,shuffledTokensList:n,tokenBucketPriority:M.TokenBucketPriority.top}),Ue=De.find((({address:e})=>(0,j.isEqualCaseInsensitive)(e,null==le?void 0:le.address)))||le,Fe=(null==Ue?void 0:Ue.address)&&!(0,O.isSwapsDefaultTokenAddress)(null==Ue?void 0:Ue.address,ue),Be=Number((null==Ue?void 0:Ue.occurances)||(null==Ue?void 0:Ue.occurrences)||0),{address:We,symbol:$e,string:qe,decimals:Ve,balance:Ge}=je||{},{address:Ke}=Ue||{},He=Ge&&(0,D.calcTokenAmount)(Ge,Ve).toString(10),ze=(0,S.usePrevious)(He),Ye=(0,x.useTokenFiatAmount)(We,re||0,$e,{showFiat:ye},!0),Qe=(0,C.useEthFiatAmount)(re||0,{showFiat:ye},!0),Xe=(0,O.isSwapsDefaultTokenSymbol)($e,ue)?Qe:Ye,Je=(0,a.useCallback)(((e,t)=>{$((0,w.setFromTokenInputValue)(e));const n=new s.default(e||0).gt(t||0);J!==n&&$((0,w.setBalanceError)(n)),$((0,w.setFromTokenError)(se&&(0,I.countDecimals)(e)>se.decimals?"tooManyDecimals":null))}),[$,se,J]),Ze=e=>{null!=e&&e.address&&!Xe&&null!==H?(0,I.fetchTokenPrice)(e.address).then((e=>{null!==e&&e!==undefined&&z(e)})):z(null),null!=e&&e.address&&!Ae.find((t=>(0,j.isEqualCaseInsensitive)(t.address,e.address)))&&(0,L.fetchTokenBalance)(e.address,t,global.ethereumProvider).then((t=>{if(null!=t&&t.balance){const n=t.balance.toString(10),a=(0,D.calcTokenAmount)(n,e.decimals);$((0,w.setSwapsFromToken)({...e,string:a.toString(10),balance:n}))}})),$((0,w.setSwapsFromToken)(e)),Je(null!=e&&e.address?re:"",e.string,e.decimals)},et=(0,u.getTokenTrackerLink)(Ue.address,ue,null,null,{blockExplorerUrl:M.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[ue]??null}),tt=de.blockExplorerUrl?(0,k.getURLHostName)(et):W("etherscan"),{address:nt}=le||{},at=(0,a.useCallback)((e=>{ge&&e.address!==nt&&$((0,P.ignoreTokens)({tokensToIgnore:nt,dontShowLoadingIndicator:!0})),$((0,w.setSwapToToken)(e)),Q(!1)}),[$,ge,nt]),st=(0,a.useCallback)((e=>(0,j.isEqualCaseInsensitive)(e.address,We)),[We]),rt=Me.find((e=>(0,j.isEqualCaseInsensitive)(e.address,null==se?void 0:se.address))),ot=(0,S.usePrevious)(rt);(0,a.useEffect)((()=>{const e=!(0,O.isSwapsDefaultTokenAddress)(null==rt?void 0:rt.address,ue),t=(0,j.isEqualCaseInsensitive)(null==rt?void 0:rt.address,null==ot?void 0:ot.address),n=(null==rt?void 0:rt.balance)!==(null==ot?void 0:ot.balance);e&&t&&n&&$((0,w.setSwapsFromToken)({...se,balance:null==rt?void 0:rt.balance,string:null==rt?void 0:rt.string}))}),[$,rt,ot,se,ue]),(0,a.useEffect)((()=>{(0,O.isSwapsDefaultTokenAddress)(null==se?void 0:se.address,ue)&&(null==se?void 0:se.balance)!==(0,F.hexToDecimal)(e)&&$((0,w.setSwapsFromToken)({...se,balance:(0,F.hexToDecimal)(e),string:(0,F.getValueFromWeiHex)({value:e,numberOfDecimals:4,toDenomination:"ETH"})}))}),[$,se,e,ue]),(0,a.useEffect)((()=>{ze!==He&&Je(re,He)}),[Je,ze,re,He]);const it=(0,a.useCallback)((()=>{K({event:"Build Quote Page Loaded",category:R.MetaMetricsEventCategory.Swaps,sensitiveProperties:{is_hardware_wallet:be,hardware_wallet_type:Ee,stx_enabled:we,current_stx_enabled:Te,stx_user_opt_in:ve}})}),[K,be,Ee,we,Te,ve]);(0,a.useEffect)((()=>{$((0,P.resetSwapsPostFetchState)()),$((0,w.setReviewSwapClickedTimestamp)()),it()}),[$,it]),(0,a.useEffect)((()=>{we&&null!=ke&&ke.tradeTxFees&&(0,P.clearSmartTransactionFees)()}),[we,ke]);const lt=()=>a.default.createElement("a",{className:"build-quote__token-etherscan-link build-quote__underline",key:"build-quote-etherscan-link",onClick:()=>{K({event:R.MetaMetricsEventName.ExternalLinkClicked,category:R.MetaMetricsEventCategory.Swaps,properties:{link_type:R.MetaMetricsEventLinkType.TokenTracker,location:"Swaps Confirmation",url_domain:(0,k.getURLHostName)(et)}}),global.platform.openTab({url:et})},target:"_blank",rel:"noopener noreferrer"},tt);let ct="";et&&(1===Be?ct=W("verifyThisTokenOn",[a.default.createElement(lt,{key:"block-explorer-link"})]):0===Be&&(ct=W("verifyThisUnconfirmedTokenOn",[a.default.createElement(lt,{key:"block-explorer-link"})])));const ut=W("swapYourTokenBalance",[qe||"0",$e||(null===(r=M.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[ue])||void 0===r?void 0:r.symbol)||""]),dt=(0,U.shouldEnableDirectWrapping)(ue,We,Ue.address),pt=oe||!X||!Number(re)||!(null!=Ue&&Ue.address)||!We||Number(ie)<0||Number(ie)>M.MAX_ALLOWED_SLIPPAGE||Fe&&Be<2&&!Y;return(0,a.useEffect)((()=>{$((0,P.clearSwapsQuotes)()),$((0,P.stopPollingForQuotes)());return V=setTimeout((()=>{V=null,pt||(async()=>{await $((0,w.fetchQuotesAndSetQuoteState)(G,re,ie,K,!0))})()}),1e3),()=>clearTimeout(V)}),[$,G,ie,K,pt,re,We,Ke,ve]),a.default.createElement("div",{className:"build-quote"},a.default.createElement("div",{className:"build-quote__content"},a.default.createElement(B.default,{onEnableSmartTransactionsClick:()=>(0,P.setSmartTransactionsOptInStatus)(!0,ve),onCloseSmartTransactionsOptInPopover:e=>{null==e||e.preventDefault(),(0,P.setSmartTransactionsOptInStatus)(!1,ve)},isOpen:Ce}),a.default.createElement("div",{className:"build-quote__dropdown-input-pair-header"},a.default.createElement("div",{className:"build-quote__input-label"},W("swapSwapFrom")),!(0,O.isSwapsDefaultTokenSymbol)($e,ue)&&a.default.createElement("div",{className:"build-quote__max-button","data-testid":"build-quote__max-button",onClick:()=>Je(He||"0",He)},W("max"))),a.default.createElement(g.default,{onSelect:Ze,itemsToSearch:De,onInputChange:e=>{Je(e,He)},inputValue:re,leftValue:re&&Xe,selectedItem:je,maxListItems:30,loading:Re&&(!(null!=De&&De.length)||!ae||!Object.keys(ae).length),selectPlaceHolderText:W("swapSelect"),hideItemIf:e=>(0,j.isEqualCaseInsensitive)(e.address,null==Ue?void 0:Ue.address),listContainerClassName:"build-quote__open-dropdown",autoFocus:!0}),a.default.createElement("div",{className:(0,i.default)("build-quote__balance-message",{"build-quote__balance-message--error":J||oe})},!oe&&!J&&$e&&ut,!oe&&J&&$e&&a.default.createElement("div",{className:"build-quite__insufficient-funds"},a.default.createElement("div",{className:"build-quite__insufficient-funds-first"},W("swapsNotEnoughForTx",[$e])),a.default.createElement("div",{className:"build-quite__insufficient-funds-second"},ut)),oe&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"build-quote__form-error"},W("swapTooManyDecimalsError",[$e,Ve])),a.default.createElement("div",null,ut))),a.default.createElement("div",{className:"build-quote__swap-arrows-row"},a.default.createElement("button",{className:"build-quote__swap-arrows","data-testid":"build-quote__swap-arrows",onClick:()=>{at(je),Ze(Ue)}},a.default.createElement("i",{className:"fa fa-arrow-up",title:W("swapSwapSwitch")}),a.default.createElement("i",{className:"fa fa-arrow-down",title:W("swapSwapSwitch")}))),a.default.createElement("div",{className:"build-quote__dropdown-swap-to-header"},a.default.createElement("div",{className:"build-quote__input-label"},W("swapSwapTo"))),a.default.createElement("div",{className:"dropdown-input-pair dropdown-input-pair__to"},a.default.createElement(h.default,{startingItem:Ue,itemsToSearch:Le,fuseSearchKeys:q,selectPlaceHolderText:W("swapSelectAToken"),maxListItems:30,onSelect:at,loading:Re&&(!(null!=Le&&Le.length)||!ae||!Object.keys(ae).length),externallySelectedItem:Ue,hideItemIf:st,listContainerClassName:"build-quote__open-to-dropdown",hideRightLabels:!0,defaultToAll:!0,shouldSearchForImports:!0})),Fe&&(Be<2?a.default.createElement(E.default,{type:1===Be?"warning":"danger",message:a.default.createElement("div",{className:"build-quote__token-verification-warning-message"},a.default.createElement("div",{className:"build-quote__bold"},W(1===Be?"swapTokenVerificationOnlyOneSource":"swapTokenVerificationAddedManually")),a.default.createElement("div",null,ct)),primaryAction:Y?null:{label:W("continue"),onClick:()=>Q(!0)},withRightButton:!0,infoTooltipText:et&&W("swapVerifyTokenExplanation",[tt])}):a.default.createElement("div",{className:"build-quote__token-message"},a.default.createElement("span",{className:"build-quote__bold",key:"token-verification-bold-text"},W("swapTokenVerificationSources",[Be])),et&&a.default.createElement(a.default.Fragment,null,W("swapTokenVerificationMessage",[a.default.createElement("a",{className:"build-quote__token-etherscan-link",key:"build-quote-etherscan-link",onClick:()=>{K({event:"Clicked Block Explorer Link",category:R.MetaMetricsEventCategory.Swaps,properties:{link_type:"Token Tracker",action:"Swaps Confirmation",block_explorer_domain:(0,k.getURLHostName)(et)}}),global.platform.openTab({url:et})},target:"_blank",rel:"noopener noreferrer"},tt)]),a.default.createElement(b.default,{position:"top",contentText:W("swapVerifyTokenExplanation",[tt]),containerClassName:"build-quote__token-tooltip-container",key:"token-verification-info-tooltip"})))),(we||!we&&!dt)&&a.default.createElement("div",{className:"build-quote__slippage-buttons-container"},a.default.createElement(_.default,{onSelect:e=>{$((0,w.setMaxSlippage)(e))},maxAllowedSlippage:M.MAX_ALLOWED_SLIPPAGE,currentSlippage:ie,smartTransactionsEnabled:we,smartTransactionsOptInStatus:ve,setSmartTransactionsOptInStatus:P.setSmartTransactionsOptInStatus,currentSmartTransactionsError:Ne,isDirectWrappingEnabled:dt}))),a.default.createElement(A.default,{onSubmit:async()=>{$((0,w.setReviewSwapClickedTimestamp)(Date.now())),V?(clearTimeout(V),$((0,w.fetchQuotesAndSetQuoteState)(G,re,ie,K))):me?G.push(v.VIEW_QUOTE_ROUTE):(await $((0,P.setBackgroundSwapRouteState)("loading")),G.push(v.LOADING_QUOTES_ROUTE))},submitText:W("swapReviewSwap"),disabled:pt,hideCancel:!0,showTermsOfService:!0}))}G.propTypes={ethBalance:r.default.string,selectedAccountAddress:r.default.string,shuffledTokensList:r.default.array}}}},{package:"$root$",file:"ui/pages/swaps/build-quote/build-quote.js"}],[5781,{"./build-quote":5780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./build-quote"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/build-quote/index.js"}],[5782,{"../../../../shared/constants/time":4684,"../../../components/ui/info-tooltip":5329,"../../../contexts/i18n":5412,"../../../ducks/swaps/swaps":5431,classnames:2857,luxon:3991,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=p(e("prop-types")),o=p(e("classnames")),i=e("luxon"),l=e("../../../contexts/i18n"),c=p(e("../../../components/ui/info-tooltip")),u=e("../../../ducks/swaps/swaps"),d=e("../../../../shared/constants/time");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return n-(e-t)}function g(e){return Math.max(e-d.SECOND,0)}function h(e,t){const[n,a]=t.split(":");return e<=(60*Number(n)+Number(a))*d.SECOND}function _({timeStarted:e,timeOnly:t,timerBase:n,warningTime:r,labelKey:p,infoTooltipLabelKey:f}){const _=(0,a.useContext)(l.I18nContext),y=(0,a.useRef)(),b=(0,a.useRef)(),E=(0,s.useSelector)(u.getSwapsQuoteRefreshTime),v=(0,s.useSelector)(u.getSwapsQuotePrefetchingRefreshTime),w=b.current?E:v,T=Number(n)||w,[k,S]=(0,a.useState)((()=>Date.now())),[N,x]=(0,a.useState)((()=>m(k,e,T)));(0,a.useEffect)((()=>(y.current===undefined&&(y.current=setInterval((()=>{x(g)}),d.SECOND)),function(){clearInterval(y.current)})),[]),(0,a.useEffect)((()=>{if(b.current||(b.current=e||Date.now()),0===N&&e!==b.current){b.current=e;const t=Date.now();S(t),x(m(t,e,T)),clearInterval(y.current),y.current=setInterval((()=>{x(g)}),d.SECOND)}}),[e,N,T]);const C=i.Duration.fromMillis(N).toFormat("m:ss");let O;return t?O=a.default.createElement("div",{className:"countdown-timer__time"},C):p&&(O=_(p,[a.default.createElement("div",{key:"countdown-time-1",className:"countdown-timer__time"},C)])),a.default.createElement("div",{className:"countdown-timer"},a.default.createElement("div",{"data-testid":"countdown-timer__timer-container",className:(0,o.default)("countdown-timer__timer-container",{"countdown-timer__timer-container--warning":r&&h(N,r)})},O),!t&&f?a.default.createElement(c.default,{position:"bottom",contentText:_(f)}):null)}_.propTypes={timeStarted:r.default.number,timeOnly:r.default.bool,timerBase:r.default.number,warningTime:r.default.string,labelKey:r.default.string,infoTooltipLabelKey:r.default.string}}}},{package:"$root$",file:"ui/pages/swaps/countdown-timer/countdown-timer.js"}],[5783,{"./countdown-timer":5782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./countdown-timer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/countdown-timer/index.js"}],[5784,{"../../../../shared/constants/metametrics":4673,"../../../components/ui/box":5271,"../../../contexts/i18n":5412,"../../../contexts/metametrics":5413,"../../../ducks/swaps/swaps":5431,"../../../helpers/constants/routes":5440,"../../../selectors":5856,"lodash/isEqual":3961,"prop-types":4123,react:4378,"react-redux":4343,"react-router-dom":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=g(e("prop-types")),o=e("react-router-dom"),i=g(e("lodash/isEqual")),l=g(e("../../../components/ui/box")),c=e("../../../contexts/i18n"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../ducks/swaps/swaps"),f=e("../../../helpers/constants/routes"),m=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _({sensitiveTrackingProperties:e}){const t=(0,a.useContext)(c.I18nContext),n=(0,a.useContext)(u.MetaMetricsContext),r=(0,s.useDispatch)(),g=(0,o.useHistory)(),h=(0,s.useSelector)(m.getSwapsDefaultToken,i.default);return a.default.createElement(l.default,{marginBottom:3,className:"create-new-swap"},a.default.createElement("button",{onClick:async()=>{n({event:"Make Another Swap",category:d.MetaMetricsEventCategory.Swaps,sensitiveProperties:e}),g.push(f.DEFAULT_ROUTE),await r((0,p.navigateBackToBuildQuote)(g)),r((0,p.setSwapsFromToken)(h))}},t("makeAnotherSwap")))}_.propTypes={sensitiveTrackingProperties:r.default.object.isRequired}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/create-new-swap.js"}],[5785,{"./create-new-swap":5784},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./create-new-swap"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/create-new-swap/index.js"}],[5786,{"../../../components/ui/text-field":5389,"../dropdown-search-list":5789,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=l(e("prop-types")),r=l(e("classnames")),o=l(e("../dropdown-search-list")),i=l(e("../../../components/ui/text-field"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u={1:5.86,2:10.05,3:10.45,4:11.1,5:10,6:10.06,7:9.17,8:10.28,9:10.06,0:11.22,".":4.55},d=e=>String(e).split("").reduce(((e,t)=>e+u[t]),12);function p({itemsToSearch:e=[],onInputChange:t,inputValue:n="",onSelect:s,leftValue:l,selectedItem:c,SearchListPlaceholder:u,maxListItems:p,selectPlaceHolderText:f,loading:m,hideItemIf:g,listContainerClassName:h,autoFocus:_}){const[y,b]=(0,a.useState)(!1),E=(0,a.useRef)(),[v,w]=(0,a.useState)(null);return(0,a.useEffect)((()=>{var e;w(((null==E||null===(e=E.current)||void 0===e||null===(e=e.getBoundingClientRect())||void 0===e?void 0:e.width)||0)+d(n||"")>137)}),[n,E]),a.default.createElement("div",{className:"dropdown-input-pair"},a.default.createElement(o.default,{itemsToSearch:e,SearchListPlaceholder:u,fuseSearchKeys:[{name:"name",weight:.499},{name:"symbol",weight:.499},{name:"address",weight:.002}],maxListItems:p,onOpen:()=>b(!0),onClose:()=>b(!1),onSelect:s,className:y?"dropdown-input-pair__list--full-width":"",externallySelectedItem:c,selectPlaceHolderText:f,selectorClosedClassName:"dropdown-input-pair__selector--closed",listContainerClassName:h,loading:m,hideItemIf:g,defaultToAll:!0}),!y&&a.default.createElement(i.default,{className:(0,r.default)("dropdown-input-pair__input",{"dropdown-input-pair__two-line-input":v}),type:"text",placeholder:"0",onChange:e=>{e.stopPropagation();const a="."===e.target.value?"0.":e.target.value;""===a||/^(\.\d+|\d+(\.\d+)?|\d+\.)$/u.test(a)?t(a):t(n||"")},fullWidth:!0,margin:"dense",value:n,autoFocus:_}),!y&&l&&a.default.createElement("div",{className:(0,r.default)("dropdown-input-pair__left-value",{"dropdown-input-pair__left-value--two-lines":v}),ref:E}," ",l))}p.propTypes={itemsToSearch:s.default.array,onInputChange:s.default.func,inputValue:s.default.oneOfType([s.default.number,s.default.string]),onSelect:s.default.func,leftValue:s.default.string,selectedItem:s.default.object,SearchListPlaceholder:s.default.func,maxListItems:s.default.number,selectPlaceHolderText:s.default.string,loading:s.default.bool,hideItemIf:s.default.func,listContainerClassName:s.default.string,autoFocus:s.default.bool}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-input-pair/dropdown-input-pair.js"}],[5787,{"./dropdown-input-pair":5786},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./dropdown-input-pair"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-input-pair/index.js"}],[5788,{"../../../../shared/constants/metametrics":4673,"../../../../shared/constants/swaps":4681,"../../../components/component-library":5158,"../../../components/ui/actionable-message/actionable-message":5267,"../../../components/ui/pulse-loader":5365,"../../../components/ui/url-icon":5409,"../../../contexts/i18n":5412,"../../../contexts/metametrics":5413,"../../../ducks/swaps/swaps":5431,"../../../helpers/utils/util":5476,"../../../selectors/selectors":5859,"../import-token":5795,"../searchable-item-list":5811,classnames:2857,lodash:3975,"prop-types":4123,react:4378,"react-redux":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=v(e("prop-types")),o=v(e("classnames")),i=e("lodash"),l=e("../../../contexts/i18n"),c=v(e("../searchable-item-list")),u=v(e("../../../components/ui/pulse-loader")),d=v(e("../../../components/ui/url-icon")),p=e("../../../components/component-library"),f=v(e("../../../components/ui/actionable-message/actionable-message")),m=v(e("../import-token")),g=e("../../../selectors/selectors"),h=e("../../../../shared/constants/swaps"),_=e("../../../helpers/utils/util"),y=e("../../../ducks/swaps/swaps"),b=e("../../../contexts/metametrics"),E=e("../../../../shared/constants/metametrics");function v(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function k({searchListClassName:e,itemsToSearch:t,selectPlaceHolderText:n,fuseSearchKeys:r,defaultToAll:v,maxListItems:w,onSelect:k,startingItem:S,onOpen:N,onClose:x,className:C="",externallySelectedItem:O,selectorClosedClassName:R,loading:M,hideRightLabels:P,hideItemIf:I,listContainerClassName:A,shouldSearchForImports:j}){const D=(0,a.useContext)(l.I18nContext),[L,U]=(0,a.useState)(!1),[F,B]=(0,a.useState)(!1),[W,$]=(0,a.useState)(S),[q,V]=(0,a.useState)(null),[G,K]=(0,a.useState)(""),H=(0,s.useSelector)(g.isHardwareWallet),z=(0,s.useSelector)(g.getHardwareWalletType),Y=(0,s.useSelector)(g.getCurrentChainId),Q=(0,s.useSelector)(g.getRpcPrefsForCurrentProvider),X=(0,s.useSelector)(y.getSmartTransactionsOptInStatus),J=(0,s.useSelector)(y.getSmartTransactionsEnabled),Z=(0,s.useSelector)(y.getCurrentSmartTransactionsEnabled),ee=(0,a.useContext)(b.MetaMetricsContext),te=(0,a.useCallback)((()=>{U(!1),null==x||x()}),[x]),ne=(0,a.useCallback)((e=>{null==k||k(e),$(e),te()}),[k,te]),ae=(0,a.useCallback)((()=>{L||(U(!0),null==N||N())}),[L,N]),se=(0,a.useRef)();(0,a.useEffect)((()=>{se.current=O}));const re=se.current;(0,a.useEffect)((()=>{O&&!(0,i.isEqual)(O,W)?$(O):re&&!O&&$(null)}),[O,W,re]);const oe=Q.blockExplorerUrl??h.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[Y]??null,ie=(0,_.getURLHostName)(oe),le={onImportTokenCloseClick:()=>{B(!1),te()},onImportTokenClick:()=>{ee({event:"Token Imported",category:E.MetaMetricsEventCategory.Swaps,sensitiveProperties:{symbol:null==q?void 0:q.symbol,address:null==q?void 0:q.address,chain_id:Y,is_hardware_wallet:H,hardware_wallet_type:z,stx_enabled:J,current_stx_enabled:Z,stx_user_opt_in:X}}),null==k||k(q),$(q),V(null),te()},setIsImportTokenModalOpen:B,tokenForImport:q};return a.default.createElement("div",{className:(0,o.default)("dropdown-search-list",C),"data-testid":"dropdown-search-list",onClick:ae,onKeyUp:e=>{"Escape"===e.key?te():"Enter"===e.key&&ae(e)},tabIndex:"0"},q&&F&&a.default.createElement(m.default,T({isOpen:!0},le)),!L&&a.default.createElement("div",{className:(0,o.default)("dropdown-search-list__selector-closed-container",R)},a.default.createElement("div",{className:"dropdown-search-list__selector-closed"},(null==W?void 0:W.iconUrl)&&a.default.createElement(d.default,{url:W.iconUrl,className:"dropdown-search-list__selector-closed-icon",name:null==W?void 0:W.symbol}),!(null!=W&&W.iconUrl)&&a.default.createElement("div",{className:"dropdown-search-list__default-dropdown-icon"}),a.default.createElement("div",{className:"dropdown-search-list__labels"},a.default.createElement("div",{className:"dropdown-search-list__item-labels"},a.default.createElement("span",{className:(0,o.default)("dropdown-search-list__closed-primary-label",{"dropdown-search-list__select-default":!(null!=W&&W.symbol)})},(null==W?void 0:W.symbol)||n)))),a.default.createElement(p.Icon,{name:p.IconName.ArrowDown,size:p.IconSize.Xs,marginRight:3})),L&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{itemsToSearch:M?[]:t,Placeholder:()=>M?a.default.createElement("div",{className:"dropdown-search-list__loading-item"},a.default.createElement(u.default,null),a.default.createElement("div",{className:"dropdown-search-list__loading-item-text-container"},a.default.createElement("span",{className:"dropdown-search-list__loading-item-text"},D("swapFetchingTokens")))):a.default.createElement("div",{className:"dropdown-search-list__placeholder"},D("swapBuildQuotePlaceHolderText",[G]),oe&&a.default.createElement("div",{tabIndex:"0",className:"searchable-item-list__item searchable-item-list__item--add-token",key:"searchable-item-list-item-last"},a.default.createElement(f.default,{message:D("addTokenByContractAddress",[a.default.createElement("a",{key:"dropdown-search-list__etherscan-link",onClick:()=>{ee({event:"Clicked Block Explorer Link",category:E.MetaMetricsEventCategory.Swaps,properties:{link_type:"Token Tracker",action:"Verify Contract Address",block_explorer_domain:ie}}),global.platform.openTab({url:oe})},target:"_blank",rel:"noopener noreferrer"},ie)])}))),searchPlaceholderText:D("swapSearchNameOrAddress"),fuseSearchKeys:r,defaultToAll:v,onClickItem:ne,onOpenImportTokenModalClick:e=>{V(e),B(!0)},maxListItems:w,className:(0,o.default)("dropdown-search-list__token-container",e,{"dropdown-search-list--open":L}),hideRightLabels:P,hideItemIf:I,listContainerClassName:A,shouldSearchForImports:j,searchQuery:G,setSearchQuery:K}),a.default.createElement("div",{className:"dropdown-search-list__close-area","data-testid":"dropdown-search-list__close-area",onClick:e=>{e.stopPropagation(),U(!1),null==x||x()}})))}k.propTypes={itemsToSearch:r.default.array,onSelect:r.default.func,searchListClassName:r.default.string,fuseSearchKeys:r.default.arrayOf(r.default.shape({name:r.default.string,weight:r.default.number})),defaultToAll:r.default.bool,maxListItems:r.default.number,startingItem:r.default.object,onOpen:r.default.func,onClose:r.default.func,className:r.default.string,externallySelectedItem:r.default.object,loading:r.default.bool,selectPlaceHolderText:r.default.string,selectorClosedClassName:r.default.string,hideRightLabels:r.default.bool,hideItemIf:r.default.func,listContainerClassName:r.default.string,shouldSearchForImports:r.default.bool}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-search-list/dropdown-search-list.js"}],[5789,{"./dropdown-search-list":5788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./dropdown-search-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/dropdown-search-list/index.js"}],[5790,{"../../../../shared/lib/transactions-controller-utils":4694,"../../../components/component-library":5158,"../../../components/ui/box":5271,"../../../contexts/i18n":5412,"../../../helpers/constants/design-system":5435,"../swaps.util":5838,"bignumber.js":2692,classnames:2857,"prop-types":4123,react:4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=f(e("prop-types")),r=f(e("bignumber.js")),o=f(e("classnames")),i=e("../swaps.util"),l=e("../../../../shared/lib/transactions-controller-utils"),c=f(e("../../../components/ui/box")),u=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),p=e("../../../contexts/i18n");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g({primaryTokenValue:e,primaryTokenDecimals:t=18,primaryTokenSymbol:n,secondaryTokenValue:s,secondaryTokenDecimals:f=18,secondaryTokenSymbol:m,boldSymbols:g=!0,showIconForSwappingTokens:h=!0,className:_,onQuotesClick:y}){const[b,E]=(0,a.useState)(!0),v=(0,a.useContext)(p.I18nContext),w=(0,l.calcTokenAmount)(e,t),T=(0,l.calcTokenAmount)(s,f),k=new r.default(T).div(w).round(9).toString(10),S=new r.default(w).div(T).round(9).toString(10),N=b?n:m,x=b?m:n,C=b?k:S;let O,R="=";new r.default(C,10).lt("0.00000001",10)?(O="0.000000001",R="<"):O=new r.default(C,10).lt("0.000001",10)?C:(0,i.formatSwapsValueForDisplay)(C);const M=y?"exchange-rate-display__quote-rate":"exchange-rate-display__quote-rate--no-link",P=y?u.TextColor.primaryDefault:u.TextColor.textDefault;return a.default.createElement("div",{className:(0,o.default)("exchange-rate-display",_)},a.default.createElement(c.default,{display:u.DISPLAY.FLEX,justifyContent:u.JustifyContent.center,alignItems:u.AlignItems.center,onClick:y,color:P,className:M,"data-testid":"exchange-rate-display-quote-rate"},a.default.createElement("span",null,"1"),a.default.createElement("span",{className:(0,o.default)({"exchange-rate-display__bold":g}),"data-testid":"exchange-rate-display-base-symbol"},N),a.default.createElement("span",null,R),a.default.createElement("span",null,O),a.default.createElement("span",{className:(0,o.default)({"exchange-rate-display__bold":g})},x)),h&&a.default.createElement(d.Icon,{name:d.IconName.SwapHorizontal,onClick:()=>{E(!b)},color:u.IconColor.iconAlternative,style:{cursor:"pointer"},title:v("switch"),"data-testid":"exchange-rate-display-switch"}))}g.propTypes={primaryTokenValue:s.default.oneOfType([s.default.string,s.default.instanceOf(r.default)]).isRequired,primaryTokenDecimals:s.default.oneOfType([s.default.string,s.default.number]),primaryTokenSymbol:s.default.string.isRequired,secondaryTokenValue:s.default.oneOfType([s.default.string,s.default.instanceOf(r.default)]).isRequired,secondaryTokenDecimals:s.default.oneOfType([s.default.string,s.default.number]),secondaryTokenSymbol:s.default.string.isRequired,className:s.default.string,boldSymbols:s.default.bool,showIconForSwappingTokens:s.default.bool,onQuotesClick:s.default.func}}}},{package:"$root$",file:"ui/pages/swaps/exchange-rate-display/exchange-rate-display.js"}],[5791,{"./exchange-rate-display":5790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./exchange-rate-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/swaps/exchange-rate-display/index.js"}]],[],{});